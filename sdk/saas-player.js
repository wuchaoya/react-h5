eval(function(a,i,l,o,n,b){if(n=function(a){return(a<i?"":n(parseInt(a/i)))+((a%=i)>35?String.fromCharCode(a+29):a.toString(36))},!"".replace(/^/,String)){for(;l--;)b[n(l)]=o[l]||n(l);o=[function(a){return b[a]}],n=function(){return"\\w+"},l=1}for(;l--;)o[l]&&(a=a.replace(new RegExp("\\b"+n(l)+"\\b","g"),o[l]));return a}("9 17={3i:'0.1.3',16:1e-6};l v(){}v.23={e:l(i){8(i<1||i>7.4.q)?w:7.4[i-1]},2R:l(){8 7.4.q},1u:l(){8 F.1x(7.2u(7))},24:l(a){9 n=7.4.q;9 V=a.4||a;o(n!=V.q){8 1L}J{o(F.13(7.4[n-1]-V[n-1])>17.16){8 1L}}H(--n);8 2x},1q:l(){8 v.u(7.4)},1b:l(a){9 b=[];7.28(l(x,i){b.19(a(x,i))});8 v.u(b)},28:l(a){9 n=7.4.q,k=n,i;J{i=k-n;a(7.4[i],i+1)}H(--n)},2q:l(){9 r=7.1u();o(r===0){8 7.1q()}8 7.1b(l(x){8 x/r})},1C:l(a){9 V=a.4||a;9 n=7.4.q,k=n,i;o(n!=V.q){8 w}9 b=0,1D=0,1F=0;7.28(l(x,i){b+=x*V[i-1];1D+=x*x;1F+=V[i-1]*V[i-1]});1D=F.1x(1D);1F=F.1x(1F);o(1D*1F===0){8 w}9 c=b/(1D*1F);o(c<-1){c=-1}o(c>1){c=1}8 F.37(c)},1m:l(a){9 b=7.1C(a);8(b===w)?w:(b<=17.16)},34:l(a){9 b=7.1C(a);8(b===w)?w:(F.13(b-F.1A)<=17.16)},2k:l(a){9 b=7.2u(a);8(b===w)?w:(F.13(b)<=17.16)},2j:l(a){9 V=a.4||a;o(7.4.q!=V.q){8 w}8 7.1b(l(x,i){8 x+V[i-1]})},2C:l(a){9 V=a.4||a;o(7.4.q!=V.q){8 w}8 7.1b(l(x,i){8 x-V[i-1]})},22:l(k){8 7.1b(l(x){8 x*k})},x:l(k){8 7.22(k)},2u:l(a){9 V=a.4||a;9 i,2g=0,n=7.4.q;o(n!=V.q){8 w}J{2g+=7.4[n-1]*V[n-1]}H(--n);8 2g},2f:l(a){9 B=a.4||a;o(7.4.q!=3||B.q!=3){8 w}9 A=7.4;8 v.u([(A[1]*B[2])-(A[2]*B[1]),(A[2]*B[0])-(A[0]*B[2]),(A[0]*B[1])-(A[1]*B[0])])},2A:l(){9 m=0,n=7.4.q,k=n,i;J{i=k-n;o(F.13(7.4[i])>F.13(m)){m=7.4[i]}}H(--n);8 m},2Z:l(x){9 a=w,n=7.4.q,k=n,i;J{i=k-n;o(a===w&&7.4[i]==x){a=i+1}}H(--n);8 a},3g:l(){8 S.2X(7.4)},2d:l(){8 7.1b(l(x){8 F.2d(x)})},2V:l(x){8 7.1b(l(y){8(F.13(y-x)<=17.16)?x:y})},1o:l(a){o(a.K){8 a.1o(7)}9 V=a.4||a;o(V.q!=7.4.q){8 w}9 b=0,2b;7.28(l(x,i){2b=x-V[i-1];b+=2b*2b});8 F.1x(b)},3a:l(a){8 a.1h(7)},2T:l(a){8 a.1h(7)},1V:l(t,a){9 V,R,x,y,z;2S(7.4.q){27 2:V=a.4||a;o(V.q!=2){8 w}R=S.1R(t).4;x=7.4[0]-V[0];y=7.4[1]-V[1];8 v.u([V[0]+R[0][0]*x+R[0][1]*y,V[1]+R[1][0]*x+R[1][1]*y]);1I;27 3:o(!a.U){8 w}9 C=a.1r(7).4;R=S.1R(t,a.U).4;x=7.4[0]-C[0];y=7.4[1]-C[1];z=7.4[2]-C[2];8 v.u([C[0]+R[0][0]*x+R[0][1]*y+R[0][2]*z,C[1]+R[1][0]*x+R[1][1]*y+R[1][2]*z,C[2]+R[2][0]*x+R[2][1]*y+R[2][2]*z]);1I;2P:8 w}},1t:l(a){o(a.K){9 P=7.4.2O();9 C=a.1r(P).4;8 v.u([C[0]+(C[0]-P[0]),C[1]+(C[1]-P[1]),C[2]+(C[2]-(P[2]||0))])}1d{9 Q=a.4||a;o(7.4.q!=Q.q){8 w}8 7.1b(l(x,i){8 Q[i-1]+(Q[i-1]-x)})}},1N:l(){9 V=7.1q();2S(V.4.q){27 3:1I;27 2:V.4.19(0);1I;2P:8 w}8 V},2n:l(){8'['+7.4.2K(', ')+']'},26:l(a){7.4=(a.4||a).2O();8 7}};v.u=l(a){9 V=25 v();8 V.26(a)};v.i=v.u([1,0,0]);v.j=v.u([0,1,0]);v.k=v.u([0,0,1]);v.2J=l(n){9 a=[];J{a.19(F.2F())}H(--n);8 v.u(a)};v.1j=l(n){9 a=[];J{a.19(0)}H(--n);8 v.u(a)};l S(){}S.23={e:l(i,j){o(i<1||i>7.4.q||j<1||j>7.4[0].q){8 w}8 7.4[i-1][j-1]},33:l(i){o(i>7.4.q){8 w}8 v.u(7.4[i-1])},2E:l(j){o(j>7.4[0].q){8 w}9 a=[],n=7.4.q,k=n,i;J{i=k-n;a.19(7.4[i][j-1])}H(--n);8 v.u(a)},2R:l(){8{2D:7.4.q,1p:7.4[0].q}},2D:l(){8 7.4.q},1p:l(){8 7.4[0].q},24:l(a){9 M=a.4||a;o(1g(M[0][0])=='1f'){M=S.u(M).4}o(7.4.q!=M.q||7.4[0].q!=M[0].q){8 1L}9 b=7.4.q,15=b,i,G,10=7.4[0].q,j;J{i=15-b;G=10;J{j=10-G;o(F.13(7.4[i][j]-M[i][j])>17.16){8 1L}}H(--G)}H(--b);8 2x},1q:l(){8 S.u(7.4)},1b:l(a){9 b=[],12=7.4.q,15=12,i,G,10=7.4[0].q,j;J{i=15-12;G=10;b[i]=[];J{j=10-G;b[i][j]=a(7.4[i][j],i+1,j+1)}H(--G)}H(--12);8 S.u(b)},2i:l(a){9 M=a.4||a;o(1g(M[0][0])=='1f'){M=S.u(M).4}8(7.4.q==M.q&&7.4[0].q==M[0].q)},2j:l(a){9 M=a.4||a;o(1g(M[0][0])=='1f'){M=S.u(M).4}o(!7.2i(M)){8 w}8 7.1b(l(x,i,j){8 x+M[i-1][j-1]})},2C:l(a){9 M=a.4||a;o(1g(M[0][0])=='1f'){M=S.u(M).4}o(!7.2i(M)){8 w}8 7.1b(l(x,i,j){8 x-M[i-1][j-1]})},2B:l(a){9 M=a.4||a;o(1g(M[0][0])=='1f'){M=S.u(M).4}8(7.4[0].q==M.q)},22:l(a){o(!a.4){8 7.1b(l(x){8 x*a})}9 b=a.1u?2x:1L;9 M=a.4||a;o(1g(M[0][0])=='1f'){M=S.u(M).4}o(!7.2B(M)){8 w}9 d=7.4.q,15=d,i,G,10=M[0].q,j;9 e=7.4[0].q,4=[],21,20,c;J{i=15-d;4[i]=[];G=10;J{j=10-G;21=0;20=e;J{c=e-20;21+=7.4[i][c]*M[c][j]}H(--20);4[i][j]=21}H(--G)}H(--d);9 M=S.u(4);8 b?M.2E(1):M},x:l(a){8 7.22(a)},32:l(a,b,c,d){9 e=[],12=c,i,G,j;9 f=7.4.q,1p=7.4[0].q;J{i=c-12;e[i]=[];G=d;J{j=d-G;e[i][j]=7.4[(a+i-1)%f][(b+j-1)%1p]}H(--G)}H(--12);8 S.u(e)},31:l(){9 a=7.4.q,1p=7.4[0].q;9 b=[],12=1p,i,G,j;J{i=1p-12;b[i]=[];G=a;J{j=a-G;b[i][j]=7.4[j][i]}H(--G)}H(--12);8 S.u(b)},1y:l(){8(7.4.q==7.4[0].q)},2A:l(){9 m=0,12=7.4.q,15=12,i,G,10=7.4[0].q,j;J{i=15-12;G=10;J{j=10-G;o(F.13(7.4[i][j])>F.13(m)){m=7.4[i][j]}}H(--G)}H(--12);8 m},2Z:l(x){9 a=w,12=7.4.q,15=12,i,G,10=7.4[0].q,j;J{i=15-12;G=10;J{j=10-G;o(7.4[i][j]==x){8{i:i+1,j:j+1}}}H(--G)}H(--12);8 w},30:l(){o(!7.1y){8 w}9 a=[],n=7.4.q,k=n,i;J{i=k-n;a.19(7.4[i][i])}H(--n);8 v.u(a)},1K:l(){9 M=7.1q(),1c;9 n=7.4.q,k=n,i,1s,1n=7.4[0].q,p;J{i=k-n;o(M.4[i][i]==0){2e(j=i+1;j<k;j++){o(M.4[j][i]!=0){1c=[];1s=1n;J{p=1n-1s;1c.19(M.4[i][p]+M.4[j][p])}H(--1s);M.4[i]=1c;1I}}}o(M.4[i][i]!=0){2e(j=i+1;j<k;j++){9 a=M.4[j][i]/M.4[i][i];1c=[];1s=1n;J{p=1n-1s;1c.19(p<=i?0:M.4[j][p]-M.4[i][p]*a)}H(--1s);M.4[j]=1c}}}H(--n);8 M},3h:l(){8 7.1K()},2z:l(){o(!7.1y()){8 w}9 M=7.1K();9 a=M.4[0][0],n=M.4.q-1,k=n,i;J{i=k-n+1;a=a*M.4[i][i]}H(--n);8 a},3f:l(){8 7.2z()},2y:l(){8(7.1y()&&7.2z()===0)},2Y:l(){o(!7.1y()){8 w}9 a=7.4[0][0],n=7.4.q-1,k=n,i;J{i=k-n+1;a+=7.4[i][i]}H(--n);8 a},3e:l(){8 7.2Y()},1Y:l(){9 M=7.1K(),1Y=0;9 a=7.4.q,15=a,i,G,10=7.4[0].q,j;J{i=15-a;G=10;J{j=10-G;o(F.13(M.4[i][j])>17.16){1Y++;1I}}H(--G)}H(--a);8 1Y},3d:l(){8 7.1Y()},2W:l(a){9 M=a.4||a;o(1g(M[0][0])=='1f'){M=S.u(M).4}9 T=7.1q(),1p=T.4[0].q;9 b=T.4.q,15=b,i,G,10=M[0].q,j;o(b!=M.q){8 w}J{i=15-b;G=10;J{j=10-G;T.4[i][1p+j]=M[i][j]}H(--G)}H(--b);8 T},2w:l(){o(!7.1y()||7.2y()){8 w}9 a=7.4.q,15=a,i,j;9 M=7.2W(S.I(a)).1K();9 b,1n=M.4[0].q,p,1c,2v;9 c=[],2c;J{i=a-1;1c=[];b=1n;c[i]=[];2v=M.4[i][i];J{p=1n-b;2c=M.4[i][p]/2v;1c.19(2c);o(p>=15){c[i].19(2c)}}H(--b);M.4[i]=1c;2e(j=0;j<i;j++){1c=[];b=1n;J{p=1n-b;1c.19(M.4[j][p]-M.4[i][p]*M.4[j][i])}H(--b);M.4[j]=1c}}H(--a);8 S.u(c)},3c:l(){8 7.2w()},2d:l(){8 7.1b(l(x){8 F.2d(x)})},2V:l(x){8 7.1b(l(p){8(F.13(p-x)<=17.16)?x:p})},2n:l(){9 a=[];9 n=7.4.q,k=n,i;J{i=k-n;a.19(v.u(7.4[i]).2n())}H(--n);8 a.2K('\\n')},26:l(a){9 i,4=a.4||a;o(1g(4[0][0])!='1f'){9 b=4.q,15=b,G,10,j;7.4=[];J{i=15-b;G=4[i].q;10=G;7.4[i]=[];J{j=10-G;7.4[i][j]=4[i][j]}H(--G)}H(--b);8 7}9 n=4.q,k=n;7.4=[];J{i=k-n;7.4.19([4[i]])}H(--n);8 7}};S.u=l(a){9 M=25 S();8 M.26(a)};S.I=l(n){9 a=[],k=n,i,G,j;J{i=k-n;a[i]=[];G=k;J{j=k-G;a[i][j]=(i==j)?1:0}H(--G)}H(--n);8 S.u(a)};S.2X=l(a){9 n=a.q,k=n,i;9 M=S.I(n);J{i=k-n;M.4[i][i]=a[i]}H(--n);8 M};S.1R=l(b,a){o(!a){8 S.u([[F.1H(b),-F.1G(b)],[F.1G(b),F.1H(b)]])}9 d=a.1q();o(d.4.q!=3){8 w}9 e=d.1u();9 x=d.4[0]/e,y=d.4[1]/e,z=d.4[2]/e;9 s=F.1G(b),c=F.1H(b),t=1-c;8 S.u([[t*x*x+c,t*x*y-s*z,t*x*z+s*y],[t*x*y+s*z,t*y*y+c,t*y*z-s*x],[t*x*z-s*y,t*y*z+s*x,t*z*z+c]])};S.3b=l(t){9 c=F.1H(t),s=F.1G(t);8 S.u([[1,0,0],[0,c,-s],[0,s,c]])};S.39=l(t){9 c=F.1H(t),s=F.1G(t);8 S.u([[c,0,s],[0,1,0],[-s,0,c]])};S.38=l(t){9 c=F.1H(t),s=F.1G(t);8 S.u([[c,-s,0],[s,c,0],[0,0,1]])};S.2J=l(n,m){8 S.1j(n,m).1b(l(){8 F.2F()})};S.1j=l(n,m){9 a=[],12=n,i,G,j;J{i=n-12;a[i]=[];G=m;J{j=m-G;a[i][j]=0}H(--G)}H(--12);8 S.u(a)};l 14(){}14.23={24:l(a){8(7.1m(a)&&7.1h(a.K))},1q:l(){8 14.u(7.K,7.U)},2U:l(a){9 V=a.4||a;8 14.u([7.K.4[0]+V[0],7.K.4[1]+V[1],7.K.4[2]+(V[2]||0)],7.U)},1m:l(a){o(a.W){8 a.1m(7)}9 b=7.U.1C(a.U);8(F.13(b)<=17.16||F.13(b-F.1A)<=17.16)},1o:l(a){o(a.W){8 a.1o(7)}o(a.U){o(7.1m(a)){8 7.1o(a.K)}9 N=7.U.2f(a.U).2q().4;9 A=7.K.4,B=a.K.4;8 F.13((A[0]-B[0])*N[0]+(A[1]-B[1])*N[1]+(A[2]-B[2])*N[2])}1d{9 P=a.4||a;9 A=7.K.4,D=7.U.4;9 b=P[0]-A[0],2a=P[1]-A[1],29=(P[2]||0)-A[2];9 c=F.1x(b*b+2a*2a+29*29);o(c===0)8 0;9 d=(b*D[0]+2a*D[1]+29*D[2])/c;9 e=1-d*d;8 F.13(c*F.1x(e<0?0:e))}},1h:l(a){9 b=7.1o(a);8(b!==w&&b<=17.16)},2T:l(a){8 a.1h(7)},1v:l(a){o(a.W){8 a.1v(7)}8(!7.1m(a)&&7.1o(a)<=17.16)},1U:l(a){o(a.W){8 a.1U(7)}o(!7.1v(a)){8 w}9 P=7.K.4,X=7.U.4,Q=a.K.4,Y=a.U.4;9 b=X[0],1z=X[1],1B=X[2],1T=Y[0],1S=Y[1],1M=Y[2];9 c=P[0]-Q[0],2s=P[1]-Q[1],2r=P[2]-Q[2];9 d=-b*c-1z*2s-1B*2r;9 e=1T*c+1S*2s+1M*2r;9 f=b*b+1z*1z+1B*1B;9 g=1T*1T+1S*1S+1M*1M;9 h=b*1T+1z*1S+1B*1M;9 k=(d*g/f+h*e)/(g-h*h);8 v.u([P[0]+k*b,P[1]+k*1z,P[2]+k*1B])},1r:l(a){o(a.U){o(7.1v(a)){8 7.1U(a)}o(7.1m(a)){8 w}9 D=7.U.4,E=a.U.4;9 b=D[0],1l=D[1],1k=D[2],1P=E[0],1O=E[1],1Q=E[2];9 x=(1k*1P-b*1Q),y=(b*1O-1l*1P),z=(1l*1Q-1k*1O);9 N=v.u([x*1Q-y*1O,y*1P-z*1Q,z*1O-x*1P]);9 P=11.u(a.K,N);8 P.1U(7)}1d{9 P=a.4||a;o(7.1h(P)){8 v.u(P)}9 A=7.K.4,D=7.U.4;9 b=D[0],1l=D[1],1k=D[2],1w=A[0],18=A[1],1a=A[2];9 x=b*(P[1]-18)-1l*(P[0]-1w),y=1l*((P[2]||0)-1a)-1k*(P[1]-18),z=1k*(P[0]-1w)-b*((P[2]||0)-1a);9 V=v.u([1l*x-1k*z,1k*y-b*x,b*z-1l*y]);9 k=7.1o(P)/V.1u();8 v.u([P[0]+V.4[0]*k,P[1]+V.4[1]*k,(P[2]||0)+V.4[2]*k])}},1V:l(t,a){o(1g(a.U)=='1f'){a=14.u(a.1N(),v.k)}9 R=S.1R(t,a.U).4;9 C=a.1r(7.K).4;9 A=7.K.4,D=7.U.4;9 b=C[0],1E=C[1],1J=C[2],1w=A[0],18=A[1],1a=A[2];9 x=1w-b,y=18-1E,z=1a-1J;8 14.u([b+R[0][0]*x+R[0][1]*y+R[0][2]*z,1E+R[1][0]*x+R[1][1]*y+R[1][2]*z,1J+R[2][0]*x+R[2][1]*y+R[2][2]*z],[R[0][0]*D[0]+R[0][1]*D[1]+R[0][2]*D[2],R[1][0]*D[0]+R[1][1]*D[1]+R[1][2]*D[2],R[2][0]*D[0]+R[2][1]*D[1]+R[2][2]*D[2]])},1t:l(a){o(a.W){9 A=7.K.4,D=7.U.4;9 b=A[0],18=A[1],1a=A[2],2N=D[0],1l=D[1],1k=D[2];9 c=7.K.1t(a).4;9 d=b+2N,2h=18+1l,2o=1a+1k;9 Q=a.1r([d,2h,2o]).4;9 e=[Q[0]+(Q[0]-d)-c[0],Q[1]+(Q[1]-2h)-c[1],Q[2]+(Q[2]-2o)-c[2]];8 14.u(c,e)}1d o(a.U){8 7.1V(F.1A,a)}1d{9 P=a.4||a;8 14.u(7.K.1t([P[0],P[1],(P[2]||0)]),7.U)}},1Z:l(a,b){a=v.u(a);b=v.u(b);o(a.4.q==2){a.4.19(0)}o(b.4.q==2){b.4.19(0)}o(a.4.q>3||b.4.q>3){8 w}9 c=b.1u();o(c===0){8 w}7.K=a;7.U=v.u([b.4[0]/c,b.4[1]/c,b.4[2]/c]);8 7}};14.u=l(a,b){9 L=25 14();8 L.1Z(a,b)};14.X=14.u(v.1j(3),v.i);14.Y=14.u(v.1j(3),v.j);14.Z=14.u(v.1j(3),v.k);l 11(){}11.23={24:l(a){8(7.1h(a.K)&&7.1m(a))},1q:l(){8 11.u(7.K,7.W)},2U:l(a){9 V=a.4||a;8 11.u([7.K.4[0]+V[0],7.K.4[1]+V[1],7.K.4[2]+(V[2]||0)],7.W)},1m:l(a){9 b;o(a.W){b=7.W.1C(a.W);8(F.13(b)<=17.16||F.13(F.1A-b)<=17.16)}1d o(a.U){8 7.W.2k(a.U)}8 w},2k:l(a){9 b=7.W.1C(a.W);8(F.13(F.1A/2-b)<=17.16)},1o:l(a){o(7.1v(a)||7.1h(a)){8 0}o(a.K){9 A=7.K.4,B=a.K.4,N=7.W.4;8 F.13((A[0]-B[0])*N[0]+(A[1]-B[1])*N[1]+(A[2]-B[2])*N[2])}1d{9 P=a.4||a;9 A=7.K.4,N=7.W.4;8 F.13((A[0]-P[0])*N[0]+(A[1]-P[1])*N[1]+(A[2]-(P[2]||0))*N[2])}},1h:l(a){o(a.W){8 w}o(a.U){8(7.1h(a.K)&&7.1h(a.K.2j(a.U)))}1d{9 P=a.4||a;9 A=7.K.4,N=7.W.4;9 b=F.13(N[0]*(A[0]-P[0])+N[1]*(A[1]-P[1])+N[2]*(A[2]-(P[2]||0)));8(b<=17.16)}},1v:l(a){o(1g(a.U)=='1f'&&1g(a.W)=='1f'){8 w}8!7.1m(a)},1U:l(a){o(!7.1v(a)){8 w}o(a.U){9 A=a.K.4,D=a.U.4,P=7.K.4,N=7.W.4;9 b=(N[0]*(P[0]-A[0])+N[1]*(P[1]-A[1])+N[2]*(P[2]-A[2]))/(N[0]*D[0]+N[1]*D[1]+N[2]*D[2]);8 v.u([A[0]+D[0]*b,A[1]+D[1]*b,A[2]+D[2]*b])}1d o(a.W){9 c=7.W.2f(a.W).2q();9 N=7.W.4,A=7.K.4,O=a.W.4,B=a.K.4;9 d=S.1j(2,2),i=0;H(d.2y()){i++;d=S.u([[N[i%3],N[(i+1)%3]],[O[i%3],O[(i+1)%3]]])}9 e=d.2w().4;9 x=N[0]*A[0]+N[1]*A[1]+N[2]*A[2];9 y=O[0]*B[0]+O[1]*B[1]+O[2]*B[2];9 f=[e[0][0]*x+e[0][1]*y,e[1][0]*x+e[1][1]*y];9 g=[];2e(9 j=1;j<=3;j++){g.19((i==j)?0:f[(j+(5-i)%3)%3])}8 14.u(g,c)}},1r:l(a){9 P=a.4||a;9 A=7.K.4,N=7.W.4;9 b=(A[0]-P[0])*N[0]+(A[1]-P[1])*N[1]+(A[2]-(P[2]||0))*N[2];8 v.u([P[0]+N[0]*b,P[1]+N[1]*b,(P[2]||0)+N[2]*b])},1V:l(t,a){9 R=S.1R(t,a.U).4;9 C=a.1r(7.K).4;9 A=7.K.4,N=7.W.4;9 b=C[0],1E=C[1],1J=C[2],1w=A[0],18=A[1],1a=A[2];9 x=1w-b,y=18-1E,z=1a-1J;8 11.u([b+R[0][0]*x+R[0][1]*y+R[0][2]*z,1E+R[1][0]*x+R[1][1]*y+R[1][2]*z,1J+R[2][0]*x+R[2][1]*y+R[2][2]*z],[R[0][0]*N[0]+R[0][1]*N[1]+R[0][2]*N[2],R[1][0]*N[0]+R[1][1]*N[1]+R[1][2]*N[2],R[2][0]*N[0]+R[2][1]*N[1]+R[2][2]*N[2]])},1t:l(a){o(a.W){9 A=7.K.4,N=7.W.4;9 b=A[0],18=A[1],1a=A[2],2M=N[0],2L=N[1],2Q=N[2];9 c=7.K.1t(a).4;9 d=b+2M,2p=18+2L,2m=1a+2Q;9 Q=a.1r([d,2p,2m]).4;9 e=[Q[0]+(Q[0]-d)-c[0],Q[1]+(Q[1]-2p)-c[1],Q[2]+(Q[2]-2m)-c[2]];8 11.u(c,e)}1d o(a.U){8 7.1V(F.1A,a)}1d{9 P=a.4||a;8 11.u(7.K.1t([P[0],P[1],(P[2]||0)]),7.W)}},1Z:l(a,b,c){a=v.u(a);a=a.1N();o(a===w){8 w}b=v.u(b);b=b.1N();o(b===w){8 w}o(1g(c)=='1f'){c=w}1d{c=v.u(c);c=c.1N();o(c===w){8 w}}9 d=a.4[0],18=a.4[1],1a=a.4[2];9 e=b.4[0],1W=b.4[1],1X=b.4[2];9 f,1i;o(c!==w){9 g=c.4[0],2l=c.4[1],2t=c.4[2];f=v.u([(1W-18)*(2t-1a)-(1X-1a)*(2l-18),(1X-1a)*(g-d)-(e-d)*(2t-1a),(e-d)*(2l-18)-(1W-18)*(g-d)]);1i=f.1u();o(1i===0){8 w}f=v.u([f.4[0]/1i,f.4[1]/1i,f.4[2]/1i])}1d{1i=F.1x(e*e+1W*1W+1X*1X);o(1i===0){8 w}f=v.u([b.4[0]/1i,b.4[1]/1i,b.4[2]/1i])}7.K=a;7.W=f;8 7}};11.u=l(a,b,c){9 P=25 11();8 P.1Z(a,b,c)};11.2I=11.u(v.1j(3),v.k);11.2H=11.u(v.1j(3),v.i);11.2G=11.u(v.1j(3),v.j);11.36=11.2I;11.35=11.2H;11.3j=11.2G;9 $V=v.u;9 $M=S.u;9 $L=14.u;9 $P=11.u;",62,206,"||||elements|||this|return|var||||||||||||function|||if||length||||create|Vector|null|||||||||Math|nj|while||do|anchor||||||||Matrix||direction||normal||||kj|Plane|ni|abs|Line|ki|precision|Sylvester|A2|push|A3|map|els|else||undefined|typeof|contains|mod|Zero|D3|D2|isParallelTo|kp|distanceFrom|cols|dup|pointClosestTo|np|reflectionIn|modulus|intersects|A1|sqrt|isSquare|X2|PI|X3|angleFrom|mod1|C2|mod2|sin|cos|break|C3|toRightTriangular|false|Y3|to3D|E2|E1|E3|Rotation|Y2|Y1|intersectionWith|rotate|v12|v13|rank|setVectors|nc|sum|multiply|prototype|eql|new|setElements|case|each|PA3|PA2|part|new_element|round|for|cross|product|AD2|isSameSizeAs|add|isPerpendicularTo|v22|AN3|inspect|AD3|AN2|toUnitVector|PsubQ3|PsubQ2|v23|dot|divisor|inverse|true|isSingular|determinant|max|canMultiplyFromLeft|subtract|rows|col|random|ZX|YZ|XY|Random|join|N2|N1|D1|slice|default|N3|dimensions|switch|liesIn|translate|snapTo|augment|Diagonal|trace|indexOf|diagonal|transpose|minor|row|isAntiparallelTo|ZY|YX|acos|RotationZ|RotationY|liesOn|RotationX|inv|rk|tr|det|toDiagonalMatrix|toUpperTriangular|version|XZ".split("|"),0,{}));
function mht(e){var t="";if(16==e.length)for(var n=0;n<4;n++)t+="<span style='font-family: monospace'>["+e[4*n+0].toFixed(4)+","+e[4*n+1].toFixed(4)+","+e[4*n+2].toFixed(4)+","+e[4*n+3].toFixed(4)+"]</span><br>";else{if(9!=e.length)return e.toString();for(var n=0;n<3;n++)t+="<span style='font-family: monospace'>["+e[3*n+0].toFixed(4)+","+e[3*n+1].toFixed(4)+","+e[3*n+2].toFixed(4)+"]</font><br>"}return t}function makeLookAt(e,t,n,s,r,i,l,h,o){var m=$V([e,t,n]),a=$V([s,r,i]),u=$V([l,h,o]),f=m.subtract(a).toUnitVector(),c=u.cross(f).toUnitVector(),p=f.cross(c).toUnitVector(),g=$M([[c.e(1),c.e(2),c.e(3),0],[p.e(1),p.e(2),p.e(3),0],[f.e(1),f.e(2),f.e(3),0],[0,0,0,1]]),v=$M([[1,0,0,-e],[0,1,0,-t],[0,0,1,-n],[0,0,0,1]]);return g.x(v)}function makeOrtho(e,t,n,s,r,i){var l=-(t+e)/(t-e),h=-(s+n)/(s-n),o=-(i+r)/(i-r);return $M([[2/(t-e),0,0,l],[0,2/(s-n),0,h],[0,0,-2/(i-r),o],[0,0,0,1]])}function makePerspective(e,t,n,s){var r=n*Math.tan(e*Math.PI/360),i=-r,l=i*t,h=r*t;return makeFrustum(l,h,i,r,n,s)}function makeFrustum(e,t,n,s,r,i){var l=2*r/(t-e),h=2*r/(s-n),o=(t+e)/(t-e),m=(s+n)/(s-n),a=-(i+r)/(i-r),u=-2*i*r/(i-r);return $M([[l,0,o,0],[0,h,m,0],[0,0,a,u],[0,0,-1,0]])}function makeOrtho(e,t,n,s,r,i){var l=-(t+e)/(t-e),h=-(s+n)/(s-n),o=-(i+r)/(i-r);return $M([[2/(t-e),0,0,l],[0,2/(s-n),0,h],[0,0,-2/(i-r),o],[0,0,0,1]])}Matrix.Translation=function(e){if(2==e.elements.length){var t=Matrix.I(3);return t.elements[2][0]=e.elements[0],t.elements[2][1]=e.elements[1],t}if(3==e.elements.length){var t=Matrix.I(4);return t.elements[0][3]=e.elements[0],t.elements[1][3]=e.elements[1],t.elements[2][3]=e.elements[2],t}throw"Invalid length for Translation"},Matrix.prototype.flatten=function(){var e=[];if(0==this.elements.length)return[];for(var t=0;t<this.elements[0].length;t++)for(var n=0;n<this.elements.length;n++)e.push(this.elements[n][t]);return e},Matrix.prototype.ensure4x4=function(){if(4==this.elements.length&&4==this.elements[0].length)return this;if(this.elements.length>4||this.elements[0].length>4)return null;for(var e=0;e<this.elements.length;e++)for(var t=this.elements[e].length;t<4;t++)e==t?this.elements[e].push(1):this.elements[e].push(0);for(var e=this.elements.length;e<4;e++)0==e?this.elements.push([1,0,0,0]):1==e?this.elements.push([0,1,0,0]):2==e?this.elements.push([0,0,1,0]):3==e&&this.elements.push([0,0,0,1]);return this},Matrix.prototype.make3x3=function(){return 4!=this.elements.length||4!=this.elements[0].length?null:Matrix.create([[this.elements[0][0],this.elements[0][1],this.elements[0][2]],[this.elements[1][0],this.elements[1][1],this.elements[1][2]],[this.elements[2][0],this.elements[2][1],this.elements[2][2]]])},Vector.prototype.flatten=function(){return this.elements};
"use strict";function error(t){console.error(t),console.trace()}function assert(t,r){t||error(r)}function isPowerOfTwo(t){return 0==(t&t-1)}function text(t){return t.join("\n")}function nextHighestPowerOfTwo(t){--t;for(var r=1;r<32;r<<=1)t|=t>>r;return t+1}function inherit(t,r){var n=Object.create(t.prototype);for(var e in r)n[e]=r[e];return n}var Size=function(){function t(t,r){this.w=t,this.h=r}return t.prototype={toString:function(){return"("+this.w+", "+this.h+")"},getHalfSize:function(){return new Size(this.w>>>1,this.h>>>1)},length:function(){return this.w*this.h}},t}();
function globalEval(i){eval.call(null,i)}function abort(i){throw print(i+":\n"+Error().stack),ABORT=!0,"Assertion: "+i}function assert(i,e){i||abort("Assertion failed: "+e)}function setValue(i,e,A){switch(A=A||"i8","*"===A[A.length-1]&&(A="i32"),A){case"i1":HEAP8[i]=e;break;case"i8":HEAP8[i]=e;break;case"i16":HEAP16[i>>1]=e;break;case"i32":HEAP32[i>>2]=e;break;case"i64":HEAP32[i>>2]=e[0],HEAP32[i+4>>2]=e[1];break;case"float":HEAPF32[i>>2]=e;break;case"double":tempDoubleF64[0]=e,HEAP32[i>>2]=tempDoubleI32[0],HEAP32[i+4>>2]=tempDoubleI32[1];break;default:abort("invalid type for setValue: "+A)}}function getValue(i,e){switch(e=e||"i8","*"===e[e.length-1]&&(e="i32"),e){case"i1":return HEAP8[i];case"i8":return HEAP8[i];case"i16":return HEAP16[i>>1];case"i32":return HEAP32[i>>2];case"i64":return[HEAPU32[i>>2],HEAPU32[i+4>>2]];case"float":return HEAPF32[i>>2];case"double":return tempDoubleI32[0]=HEAP32[i>>2],tempDoubleI32[1]=HEAP32[i+4>>2],tempDoubleF64[0];default:abort("invalid type for setValue: "+e)}return null}function allocate(i,e,A){var P,E;"number"==typeof i?(P=!0,E=i):(P=!1,E=i.length);for(var H,r="string"==typeof e?e:null,A=[_malloc,Runtime.stackAlloc,Runtime.staticAlloc][void 0===A?ALLOC_STATIC:A](Math.max(E,r?1:e.length)),o=0;o<E;){var f=P?0:i[o];"function"==typeof f&&(f=Runtime.getFunctionIndex(f)),H=r||e[o],0===H?o++:("i64"==H&&(H="i32"),setValue(A+o,f,H),o+=Runtime.getNativeTypeSize(H))}return A}function Pointer_stringify(i){for(var e,A="",P=0,E=String.fromCharCode(0);e=String.fromCharCode(HEAPU8[i+P]),e!=E;)A+=e,P+=1;return A}function Array_stringify(i){for(var e="",A=0;A<i.length;A++)e+=String.fromCharCode(i[A]);return e}function alignMemoryPage(i){return Math.ceil(i/PAGE_SIZE)*PAGE_SIZE}function enlargeMemory(){for(;TOTAL_MEMORY<=STATICTOP;)TOTAL_MEMORY=alignMemoryPage(1.25*TOTAL_MEMORY);var i=HEAP8,e=new ArrayBuffer(TOTAL_MEMORY);HEAP8=new Int8Array(e),HEAP16=new Int16Array(e),HEAP32=new Int32Array(e),HEAPU8=new Uint8Array(e),HEAPU16=new Uint16Array(e),HEAPU32=new Uint32Array(e),HEAPF32=new Float32Array(e),HEAP8.set(i)}function __shutdownRuntime__(){for(;0<__ATEXIT__.length;){var i=__ATEXIT__.pop(),e=i.func;"number"==typeof e&&(e=FUNCTION_TABLE[e]),e(void 0===i.arg?null:i.arg)}CorrectionsMonitor.print()}function Array_copy(i,e){return Array.prototype.slice.call(HEAP8.subarray(i,i+e))}function String_len(i){for(var e=0;HEAP8[i+e];)e++;return e}function String_copy(i,e){var A=String_len(i);e&&A++;var P=Array_copy(i,A);return e&&(P[A-1]=0),P}function intArrayFromString(i,e){for(var A=[],P=0;P<i.length;){var E=i.charCodeAt(P);255<E&&(E&=255),A.push(E),P+=1}return e||A.push(0),A}function intArrayToString(i){for(var e=[],A=0;A<i.length;A++){var P=i[A];255<P&&(P&=255),e.push(String.fromCharCode(P))}return e.join("")}function unSign(i,e){return 0<=i?i:32>=e?2*Math.abs(1<<e-1)+i:Math.pow(2,e)+i}function reSign(i,e){if(0>=i)return i;var A=32>=e?Math.abs(1<<e-1):Math.pow(2,e-1);return i>=A&&(32>=e||i>A)&&(i=-2*A+i),i}function _h264bsdProcessBlock(i,e,A,P){var E,H,r,o,f,t,a;H=255&HEAPU8[_qpDiv6+e],r=HEAP32[_levelScale+12*(255&HEAPU8[_qpMod6+e])>>2]<<H,o=HEAP32[_levelScale+12*(255&HEAPU8[_qpMod6+e])+4>>2]<<H,e=HEAP32[_levelScale+12*(255&HEAPU8[_qpMod6+e])+8>>2]<<H,1==(0!=(0|A)?2:1)&&(HEAP32[i>>2]*=r),A=0!=(65436&P|0)?3:17;i:do if(3==A){f=HEAP32[i+4>>2],t=HEAP32[i+56>>2],a=HEAP32[i+60>>2],HEAP32[i+4>>2]=f*o,HEAP32[i+56>>2]=t*o,HEAP32[i+60>>2]=a*e,f=HEAP32[i+8>>2],t=HEAP32[i+20>>2],a=HEAP32[i+16>>2],HEAP32[i+16>>2]=f*o,HEAP32[i+8>>2]=t*r,HEAP32[i+20>>2]=a*e,f=HEAP32[i+32>>2],t=HEAP32[i+12>>2],a=HEAP32[i+24>>2],H=f*o,HEAP32[i+32>>2]=t*r,HEAP32[i+12>>2]=a*o,f=HEAP32[i+28>>2],t=HEAP32[i+48>>2],a=HEAP32[i+36>>2],HEAP32[i+24>>2]=f*o,HEAP32[i+28>>2]=t*e,HEAP32[i+48>>2]=a*o,HEAP32[i+36>>2]=H,f=HEAP32[i+40>>2],t=HEAP32[i+44>>2],a=HEAP32[i+52>>2],HEAP32[i+52>>2]=f*e,HEAP32[i+40>>2]=t*r,HEAP32[i+44>>2]=a*o,f=4,t=i;e:for(;H=f,f=H-1,0!=(0|H);)H=HEAP32[t>>2]+HEAP32[t+8>>2],r=HEAP32[t>>2]-HEAP32[t+8>>2],o=(HEAP32[t+4>>2]>>1)-HEAP32[t+12>>2],e=HEAP32[t+4>>2]+(HEAP32[t+12>>2]>>1),HEAP32[t>>2]=H+e,HEAP32[t+4>>2]=r+o,HEAP32[t+8>>2]=r-o,HEAP32[t+12>>2]=H-e,t+=16;f=4;e:for(;;){A=f,f=A-1,A=0!=(0|A)?9:16;do{if(9==A){H=HEAP32[i>>2]+HEAP32[i+32>>2],r=HEAP32[i>>2]-HEAP32[i+32>>2],o=(HEAP32[i+16>>2]>>1)-HEAP32[i+48>>2],e=HEAP32[i+16>>2]+(HEAP32[i+48>>2]>>1),HEAP32[i>>2]=e+(H+32)>>6,HEAP32[i+16>>2]=o+(r+32)>>6,HEAP32[i+32>>2]=r-o+32>>6,HEAP32[i+48>>2]=H-e+32>>6,A=1023<HEAP32[i>>2]+512>>>0?13:10;A:do if(10==A){if(1023<HEAP32[i+16>>2]+512>>>0)break A;if(1023<HEAP32[i+32>>2]+512>>>0)break A;if(1023<HEAP32[i+48>>2]+512>>>0)break A;i+=4;continue e}while(0);E=1,A=29;break i}if(16==A){A=28;break i}}while(0)}}else if(17==A){A=0==(98&P|0)?18:21;e:do if(18==A){H=HEAP32[i>>2]+32>>6,A=1023<H+512>>>0?19:20;do{if(19==A){E=1,A=29;break i}20==A&&(P=H,HEAP32[i+60>>2]=P,HEAP32[i+56>>2]=P,HEAP32[i+52>>2]=P,HEAP32[i+48>>2]=P,HEAP32[i+44>>2]=P,HEAP32[i+40>>2]=P,HEAP32[i+36>>2]=P,HEAP32[i+32>>2]=P,HEAP32[i+28>>2]=P,HEAP32[i+24>>2]=P,HEAP32[i+20>>2]=P,HEAP32[i+16>>2]=P,HEAP32[i+12>>2]=P,HEAP32[i+8>>2]=P,HEAP32[i+4>>2]=P,HEAP32[i>>2]=P)}while(0)}else if(21==A){HEAP32[i+4>>2]*=o,HEAP32[i+8>>2]=HEAP32[i+20>>2]*r,HEAP32[i+12>>2]=HEAP32[i+24>>2]*o,H=HEAP32[i>>2]+HEAP32[i+8>>2],r=HEAP32[i>>2]-HEAP32[i+8>>2],o=(HEAP32[i+4>>2]>>1)-HEAP32[i+12>>2],e=HEAP32[i+4>>2]+(HEAP32[i+12>>2]>>1),HEAP32[i>>2]=e+(H+32)>>6,HEAP32[i+4>>2]=o+(r+32)>>6,HEAP32[i+8>>2]=r-o+32>>6,HEAP32[i+12>>2]=H-e+32>>6,P=HEAP32[i>>2],HEAP32[i+48>>2]=P,HEAP32[i+32>>2]=P,HEAP32[i+16>>2]=P,P=HEAP32[i+4>>2],HEAP32[i+52>>2]=P,HEAP32[i+36>>2]=P,HEAP32[i+20>>2]=P,P=HEAP32[i+8>>2],HEAP32[i+56>>2]=P,HEAP32[i+40>>2]=P,HEAP32[i+24>>2]=P,P=HEAP32[i+12>>2],HEAP32[i+60>>2]=P,HEAP32[i+44>>2]=P,HEAP32[i+28>>2]=P,A=1023<HEAP32[i>>2]+512>>>0?25:22;A:do if(22==A){if(1023<HEAP32[i+4>>2]+512>>>0)break A;if(1023<HEAP32[i+8>>2]+512>>>0)break A;if(1023<HEAP32[i+12>>2]+512>>>0)break A;break e}while(0);E=1,A=29;break i}while(0);A=28;break i}while(0);return 28==A&&(E=0),E}function _h264bsdCountLeadingZeros(i,e){var A,P,E;P=0,E=1<<e-1;i:for(;;){if(0!=(0|E))A=2;else{var H=0;A=3}if(2==A&&(H=0!=(i&E|0)^1),!H)break i;P+=1,E>>>=1}return P}function _abs(i){var e;if(e=0>(0|i)?1:2,1==e)var A=-i;else 2==e&&(A=i);return A}function _clip(i,e,A){var P;if(P=(0|A)<(0|i)?1:2,1==P)var E=i;else if(2==P){if(P=(0|A)>(0|e)?3:4,3==P)var H=e;else 4==P&&(H=A);E=H}return E}function _h264bsdProcessLumaDc(i,e){var A,P,E,H,r,o,f,t,a,d;P=i,f=255&HEAPU8[_qpMod6+e],t=255&HEAPU8[_qpDiv6+e],E=HEAP32[P+8>>2],HEAP32[P+8>>2]=HEAP32[P+20>>2],HEAP32[P+20>>2]=HEAP32[P+16>>2],HEAP32[P+16>>2]=E,E=HEAP32[P+32>>2],HEAP32[P+32>>2]=HEAP32[P+12>>2],HEAP32[P+12>>2]=HEAP32[P+24>>2],HEAP32[P+24>>2]=HEAP32[P+28>>2],HEAP32[P+28>>2]=HEAP32[P+48>>2],HEAP32[P+48>>2]=HEAP32[P+36>>2],HEAP32[P+36>>2]=E,E=HEAP32[P+40>>2],HEAP32[P+40>>2]=HEAP32[P+44>>2],HEAP32[P+44>>2]=HEAP32[P+52>>2],HEAP32[P+52>>2]=E,A=4,a=P;i:for(;E=A,A=E-1,0!=(0|E);)E=HEAP32[a>>2]+HEAP32[a+8>>2],H=HEAP32[a>>2]-HEAP32[a+8>>2],r=HEAP32[a+4>>2]-HEAP32[a+12>>2],o=HEAP32[a+4>>2]+HEAP32[a+12>>2],HEAP32[a>>2]=E+o,HEAP32[a+4>>2]=H+r,HEAP32[a+8>>2]=H-r,HEAP32[a+12>>2]=E-o,a+=16;a=HEAP32[_levelScale+12*f>>2],A=12<=e>>>0?5:10;do if(5==A){a<<=t-2,f=4;i:for(;E=f,f=E-1,0!=(0|E);)E=HEAP32[P>>2]+HEAP32[P+32>>2],H=HEAP32[P>>2]-HEAP32[P+32>>2],r=HEAP32[P+16>>2]-HEAP32[P+48>>2],o=HEAP32[P+16>>2]+HEAP32[P+48>>2],HEAP32[P>>2]=(E+o)*a,HEAP32[P+16>>2]=(H+r)*a,HEAP32[P+32>>2]=(H-r)*a,HEAP32[P+48>>2]=(E-o)*a,P+=4}else if(10==A){d=0==(1-t|0)?1:2,f=4;i:for(;E=f,f=E-1,0!=(0|E);)E=HEAP32[P>>2]+HEAP32[P+32>>2],H=HEAP32[P>>2]-HEAP32[P+32>>2],r=HEAP32[P+16>>2]-HEAP32[P+48>>2],o=HEAP32[P+16>>2]+HEAP32[P+48>>2],HEAP32[P>>2]=(E+o)*a+d>>(2-t|0),HEAP32[P+16>>2]=(H+r)*a+d>>(2-t|0),HEAP32[P+32>>2]=(H-r)*a+d>>(2-t|0),HEAP32[P+48>>2]=(E-o)*a+d>>(2-t|0),P+=4}while(0)}function _h264bsdProcessChromaDc(i,e){var A,P,E,H,r,o;P=255&HEAPU8[_qpDiv6+e],r=HEAP32[_levelScale+12*(255&HEAPU8[_qpMod6+e])>>2],A=6<=e>>>0?1:2,1==A?(r<<=P-1,o=0):2==A&&(o=1),A=HEAP32[i>>2]+HEAP32[i+8>>2],P=HEAP32[i>>2]-HEAP32[i+8>>2],E=HEAP32[i+4>>2]-HEAP32[i+12>>2],H=HEAP32[i+4>>2]+HEAP32[i+12>>2],HEAP32[i>>2]=(A+H)*r>>(0|o),HEAP32[i+4>>2]=(A-H)*r>>(0|o),HEAP32[i+8>>2]=(P+E)*r>>(0|o),HEAP32[i+12>>2]=(P-E)*r>>(0|o),A=HEAP32[i+16>>2]+HEAP32[i+24>>2],P=HEAP32[i+16>>2]-HEAP32[i+24>>2],E=HEAP32[i+20>>2]-HEAP32[i+28>>2],H=HEAP32[i+20>>2]+HEAP32[i+28>>2],HEAP32[i+16>>2]=(A+H)*r>>(0|o),HEAP32[i+20>>2]=(A-H)*r>>(0|o),HEAP32[i+24>>2]=(P+E)*r>>(0|o),HEAP32[i+28>>2]=(P-E)*r>>(0|o)}function _h264bsdNextMbAddress(i,e,A){var P,E,H;E=HEAP32[i+(A<<2)>>2],P=A+1,H=HEAP32[i+(P<<2)>>2];i:for(;;){if(P>>>0<e>>>0)A=2;else var r=0,A=3;if(2==A&&(r=(0|H)!=(0|E)),!r)break i;P+=1,H=HEAP32[i+(P<<2)>>2]}return 6==((0|P)==(0|e)?6:7)&&(P=0),P}function _h264bsdSetCurrImageMbPointers(i,e){var A,P,E,H;A=HEAP32[i+4>>2],P=HEAP32[i+8>>2],E=Math.floor((e>>>0)/(A>>>0)),H=(e>>>0)%(A>>>0),E*=A,A*=P,HEAP32[i+12>>2]=HEAP32[i>>2]+(H<<4)+(E<<8),HEAP32[i+16>>2]=HEAP32[i>>2]+(A<<8)+(E<<6)+(H<<3),HEAP32[i+20>>2]=HEAP32[i+16>>2]+(A<<6)}function _h264bsdRbspTrailingBits(i){var e,A,P;return P=8-HEAP32[i+8>>2],A=_h264bsdGetBits(i,P),i=-1==(0|A)?1:2,1==i?e=1:2==i&&(i=(0|A)!=(0|HEAP32[_stuffingTable+(P-1<<2)>>2])?3:4,3==i?e=1:4==i&&(e=0)),e}function _h264bsdMoreRbspData(i){var e,A,P;P=(HEAP32[i+12>>2]<<3)-HEAP32[i+16>>2],e=0==(0|P)?1:2;i:do if(1==e)A=0;else if(2==e){e=8<P>>>0?4:3;e:do if(3==e){if((_h264bsdShowBits32(i)>>>(32-P>>>0)|0)!=(1<<P-1|0))break e;A=0;break i}while(0);A=1}while(0);return A}function _h264bsdExtractNalUnit(i,e,A,P){var E,H,r,o,f,t,a,d,n;d=a=0,E=3<e>>>0?1:36;i:do if(1==E){if(0!=(255&HEAPU8[i]|0)){E=36;break i}if(0!=(255&HEAPU8[i+1]|0)){E=36;break i}if(0!=(254&HEAPU8[i+2]|0)){E=36;break i}f=r=2,n=i+2;e:for(;;){E=n,n=E+1,t=HEAP8[E],r+=1,E=(0|r)==(0|e)?6:7;do{if(6==E){HEAP32[P>>2]=e,H=1,E=58;break i}if(7==E){E=0!=t<<24>>24?9:8;do if(9==E){E=1==(255&t|0)?10:12;do if(10==E&&2<=f>>>0)break e;while(0);f=0}else 8==E&&(f+=1);while(0)}}while(0)}o=r,f=0;e:for(;;){E=n,n=E+1,t=HEAP8[E],r+=1,E=0!=t<<24>>24?18:17,17==E&&(f+=1),E=3==(255&t|0)?19:21;A:do if(19==E){if(2!=(0|f))break A;a=1}while(0);E=1==(255&t|0)?22:27;A:do if(22==E){if(!(2<=f>>>0))break A;if(HEAP32[A+12>>2]=r-o-f-1,E=3>f>>>0?24:25,24==E)var l=f;else 25==E&&(l=3);f-=l;break e}while(0);E=0!=t<<24>>24?28:31,28==E&&(E=3<=f>>>0?29:30,29==E&&(d=1),f=0),E=(0|r)==(0|e)?33:34;do if(33==E){HEAP32[A+12>>2]=r-o-f;break e}while(0)}E=37;break i}while(0);i:do if(36==E){f=o=0,HEAP32[A+12>>2]=e,a=1,E=37;break i}while(0);i:do if(37==E){HEAP32[A>>2]=i+o,HEAP32[A+4>>2]=HEAP32[A>>2],HEAP32[A+8>>2]=0,HEAP32[A+16>>2]=0,HEAP32[P>>2]=HEAP32[A+12>>2]+o+f,E=0!=(0|d)?38:39;do if(38==E)H=1;else if(39==E){E=0!=(0|a)?40:57;e:do if(40==E)for(H=HEAP32[A+12>>2],e=HEAP32[A>>2],n=HEAP32[A>>2],f=0;;){E=H,H=E-1,E=0!=(0|E)?42:56;do if(42==E){E=2==(0|f)?43:48;A:do if(43==E){if(3!=(255&HEAPU8[n]|0)){E=48;break A}E=0==(0|H)?46:45;P:do if(45==E){if(3<(255&HEAPU8[n+1]|0))break P;n+=1,f=0,E=55;break A}while(0);H=1;break i}while(0);do if(48==E){E=2==(0|f)?49:51;A:do if(49==E){if(!(2>=(255&HEAPU8[n]|0)))break A;H=1;break i}while(0);E=0==(255&HEAPU8[n]|0)?52:53,52==E?f+=1:53==E&&(f=0),r=n,n=r+1,r=HEAP8[r],l=e,e=l+1,HEAP8[l]=r}while(0)}else if(56==E){HEAP32[A+12>>2]-=n-e;break e}while(0)}while(0);H=0}while(0)}while(0);return H}function _GetDpbSize(i,e){var A,P,E,H;A=10==e?1:11==e?2:12==e?3:13==e?4:20==e?5:21==e?6:22==e?7:30==e?8:31==e?9:32==e?10:40==e?11:41==e?12:42==e?13:50==e?14:51==e?15:16;i:do{if(16==A){P=2147483647,A=23;break i}if(1==A){E=152064,H=99,A=17;break i}if(2==A){E=345600,H=396,A=17;break i}if(3==A){E=912384,H=396,A=17;break i}if(4==A){E=912384,H=396,A=17;break i}if(5==A){E=912384,H=396,A=17;break i}if(6==A){E=1824768,H=792,A=17;break i}if(7==A){E=3110400,H=1620,A=17;break i}if(8==A){E=3110400,H=1620,A=17;break i}if(9==A){E=6912e3,H=3600,A=17;break i}if(10==A){E=7864320,H=5120,A=17;break i}if(11==A){E=12582912,H=8192,A=17;break i}if(12==A){E=12582912,H=8192,A=17;break i}if(13==A){E=13369344,H=8704,A=17;break i}if(14==A){E=42393600,H=22080,A=17;break i}if(15==A){E=70778880,H=36864,A=17;break i}}while(0);if(17==A)if(A=i>>>0>H>>>0?18:19,18==A)P=2147483647;else if(19==A){if(E=Math.floor((E>>>0)/(384*i>>>0)),A=16>E>>>0?20:21,20==A)var r=E;else 21==A&&(r=16);P=r}return P}function _h264bsdDecodeSeqParamSet(i,e){var A=STACKTOP;STACKTOP+=4;var P,E,H,r;_H264SwDecMemset(e,0,92),H=_h264bsdGetBits(i,8),P=-1==(0|H)?1:2;i:do if(1==P)E=1;else if(2==P){HEAP32[e>>2]=H,_h264bsdGetBits(i,1),_h264bsdGetBits(i,1),H=_h264bsdGetBits(i,1),P=-1==(0|H)?5:6;do if(5==P)E=1;else if(6==P){H=_h264bsdGetBits(i,5),P=-1==(0|H)?7:8;do if(7==P)E=1;else if(8==P){H=_h264bsdGetBits(i,8),P=-1==(0|H)?9:10;do if(9==P)E=1;else if(10==P){HEAP32[e+4>>2]=H,H=_h264bsdDecodeExpGolombUnsigned(i,e+8),P=0!=(0|H)?11:12;do if(11==P)E=H;else if(12==P){P=32<=HEAPU32[e+8>>2]>>>0?13:14;do if(13==P)E=1;else if(14==P){H=_h264bsdDecodeExpGolombUnsigned(i,A),P=0!=(0|H)?15:16;do if(15==P)E=H;else if(16==P){P=12<HEAPU32[A>>2]>>>0?17:18;do if(17==P)E=1;else if(18==P){HEAP32[e+12>>2]=1<<HEAP32[A>>2]+4,H=_h264bsdDecodeExpGolombUnsigned(i,A),P=0!=(0|H)?19:20;do if(19==P)E=H;else if(20==P){P=2<HEAPU32[A>>2]>>>0?21:22;do if(21==P)E=1;else if(22==P){HEAP32[e+16>>2]=HEAP32[A>>2],P=0==(0|HEAP32[e+16>>2])?23:28;do if(23==P){H=_h264bsdDecodeExpGolombUnsigned(i,A),P=0!=(0|H)?24:25;do{if(24==P){E=H;break i}if(25==P){P=12<HEAPU32[A>>2]>>>0?26:27;do{if(26==P){E=1;break i}27==P&&(HEAP32[e+20>>2]=1<<HEAP32[A>>2]+4)}while(0)}}while(0)}else if(28==P){P=1==(0|HEAP32[e+16>>2])?29:51;do if(29==P){H=_h264bsdGetBits(i,1),P=-1==(0|H)?30:31;do{if(30==P){E=1;break i}if(31==P){HEAP32[e+24>>2]=1==(0|H)?1:0,H=_h264bsdDecodeExpGolombSigned(i,e+28),P=0!=(0|H)?32:33;do{if(32==P){E=H;break i}if(33==P){H=_h264bsdDecodeExpGolombSigned(i,e+32),P=0!=(0|H)?34:35;do{if(34==P){E=H;break i}if(35==P){H=_h264bsdDecodeExpGolombUnsigned(i,e+36),P=0!=(0|H)?36:37;do{if(36==P){E=H;break i}if(37==P){P=255<HEAPU32[e+36>>2]>>>0?38:39;do{if(38==P){E=1;break i}if(39==P){P=0!=(0|HEAP32[e+36>>2])?40:49;e:do if(40==P){P=_H264SwDecMalloc(HEAP32[e+36>>2]<<2),HEAP32[e+40>>2]=P,P=0==(0|HEAP32[e+40>>2])?41:42;do{if(41==P){E=65535;break i}if(42==P)for(r=0;;){P=r>>>0<HEAPU32[e+36>>2]>>>0?44:48;do if(44==P){H=_h264bsdDecodeExpGolombSigned(i,HEAP32[e+40>>2]+(r<<2)),P=0!=(0|H)?45:46;do{if(45==P){E=H;break i}46==P&&(r+=1)}while(0)}else if(48==P)break e;while(0)}}while(0)}else 49==P&&(HEAP32[e+40>>2]=0);while(0)}}while(0)}}while(0)}}while(0)}}while(0)}}while(0)}while(0)}while(0);H=_h264bsdDecodeExpGolombUnsigned(i,e+44),P=0!=(0|H)?53:54;do if(53==P)E=H;else if(54==P){P=16<HEAPU32[e+44>>2]>>>0?55:56;do if(55==P)E=1;else if(56==P){H=_h264bsdGetBits(i,1),P=-1==(0|H)?57:58;do if(57==P)E=1;else if(58==P){HEAP32[e+48>>2]=1==(0|H)?1:0,H=_h264bsdDecodeExpGolombUnsigned(i,A),P=0!=(0|H)?59:60;do if(59==P)E=H;else if(60==P){HEAP32[e+52>>2]=HEAP32[A>>2]+1,H=_h264bsdDecodeExpGolombUnsigned(i,A),P=0!=(0|H)?61:62;do if(61==P)E=H;else if(62==P){HEAP32[e+56>>2]=HEAP32[A>>2]+1,H=_h264bsdGetBits(i,1),P=-1==(0|H)?63:64;do if(63==P)E=1;else if(64==P){P=0!=(0|H)?66:65;do if(66==P){H=_h264bsdGetBits(i,1),P=-1==(0|H)?67:68;do if(67==P)E=1;else if(68==P){H=_h264bsdGetBits(i,1),P=-1==(0|H)?69:70;do if(69==P)E=1;else if(70==P){HEAP32[e+60>>2]=1==(0|H)?1:0,P=0!=(0|HEAP32[e+60>>2])?71:83;e:do if(71==P){H=_h264bsdDecodeExpGolombUnsigned(i,e+64),P=0!=(0|H)?72:73;do{if(72==P){E=H;break i}if(73==P){H=_h264bsdDecodeExpGolombUnsigned(i,e+68),P=0!=(0|H)?74:75;do{if(74==P){E=H;break i}if(75==P){H=_h264bsdDecodeExpGolombUnsigned(i,e+72),P=0!=(0|H)?76:77;do{if(76==P){E=H;break i}if(77==P){H=_h264bsdDecodeExpGolombUnsigned(i,e+76),P=0!=(0|H)?78:79;do{if(78==P){E=H;break i}if(79==P){P=(0|HEAP32[e+64>>2])>((HEAP32[e+52>>2]<<3)-(HEAP32[e+68>>2]+1)|0)?81:80;A:do if(80==P){if((0|HEAP32[e+72>>2])>((HEAP32[e+56>>2]<<3)-(HEAP32[e+76>>2]+1)|0))break A;break e}while(0);E=1;break i}}while(0)}}while(0)}}while(0)}}while(0)}while(0);H=HEAP32[e+52>>2]*HEAP32[e+56>>2],H=_GetDpbSize(H,HEAP32[e+4>>2]),HEAP32[A>>2]=H,P=2147483647==(0|HEAP32[A>>2])?85:84;e:do if(84==P){P=HEAPU32[e+44>>2]>>>0>HEAPU32[A>>2]>>>0?85:86;break e}while(0);85==P&&(HEAP32[A>>2]=HEAP32[e+44>>2]),HEAP32[e+88>>2]=HEAP32[A>>2],H=_h264bsdGetBits(i,1),P=-1==(0|H)?87:88;do if(87==P)E=1;else if(88==P){HEAP32[e+80>>2]=1==(0|H)?1:0,P=0!=(0|HEAP32[e+80>>2])?89:103;do if(89==P){E=_H264SwDecMalloc(952),HEAP32[e+84>>2]=E,P=0==(0|HEAP32[e+84>>2])?90:91;do{if(90==P){E=65535;break i}if(91==P){H=_h264bsdDecodeVuiParameters(i,HEAP32[e+84>>2]),P=0!=(0|H)?92:93;do{if(92==P){E=H;break i}if(93==P){P=0!=(0|HEAP32[HEAP32[e+84>>2]+920>>2])?94:102;e:do if(94==P){P=HEAPU32[HEAP32[e+84>>2]+944>>2]>>>0>HEAPU32[HEAP32[e+84>>2]+948>>2]>>>0?97:95;A:do if(95==P){if(HEAPU32[HEAP32[e+84>>2]+948>>2]>>>0<HEAPU32[e+44>>2]>>>0)break A;if(HEAPU32[HEAP32[e+84>>2]+948>>2]>>>0>HEAPU32[e+88>>2]>>>0)break A;if(P=1>HEAPU32[HEAP32[e+84>>2]+948>>2]>>>0?99:100,99==P)var o=1;else 100==P&&(o=HEAP32[HEAP32[e+84>>2]+948>>2]);HEAP32[e+88>>2]=o;break e}while(0);E=1;break i}while(0)}}while(0)}}while(0)}while(0);H=_h264bsdRbspTrailingBits(i),E=0}while(0)}while(0)}while(0)}else 65==P&&(E=1);while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0);return STACKTOP=A,E}function _h264bsdCompareSeqParamSets(i,e){var A,P;A=(0|HEAP32[i>>2])==(0|HEAP32[e>>2])?1:37;i:do if(1==A){if((0|HEAP32[i+4>>2])!=(0|HEAP32[e+4>>2])){A=37;break i}if((0|HEAP32[i+12>>2])!=(0|HEAP32[e+12>>2])){A=37;break i}if((0|HEAP32[i+16>>2])!=(0|HEAP32[e+16>>2])){A=37;break i}if((0|HEAP32[i+44>>2])!=(0|HEAP32[e+44>>2])){A=37;break i}if((0|HEAP32[i+48>>2])!=(0|HEAP32[e+48>>2])){A=37;break i}if((0|HEAP32[i+52>>2])!=(0|HEAP32[e+52>>2])){A=37;break i}if((0|HEAP32[i+56>>2])!=(0|HEAP32[e+56>>2])){A=37;break i}if((0|HEAP32[i+60>>2])!=(0|HEAP32[e+60>>2])){A=37;break i}if((0|HEAP32[i+80>>2])!=(0|HEAP32[e+80>>2])){A=37;break i}A=0==(0|HEAP32[i+16>>2])?11:14;do if(11==A){A=(0|HEAP32[i+20>>2])!=(0|HEAP32[e+20>>2])?12:13;do if(12==A){P=1,A=38;break i}while(0)}else if(14==A){A=1==(0|HEAP32[i+16>>2])?15:28;e:do if(15==A){A=(0|HEAP32[i+24>>2])!=(0|HEAP32[e+24>>2])?19:16;A:do if(16==A){if((0|HEAP32[i+28>>2])!=(0|HEAP32[e+28>>2]))break A;if((0|HEAP32[i+32>>2])!=(0|HEAP32[e+32>>2]))break A;if((0|HEAP32[i+36>>2])!=(0|HEAP32[e+36>>2]))break A;for(P=0;;){A=P>>>0<HEAPU32[i+36>>2]>>>0?22:26;do if(22==A){A=(0|HEAP32[HEAP32[i+40>>2]+(P<<2)>>2])!=(0|HEAP32[HEAP32[e+40>>2]+(P<<2)>>2])?23:24;do{if(23==A){P=1,A=38;break i}24==A&&(P+=1)}while(0)}else if(26==A)break e;while(0)}}while(0);P=1,A=38;break i}while(0)}while(0);A=0!=(0|HEAP32[i+60>>2])?30:36;e:do if(30==A){A=(0|HEAP32[i+64>>2])!=(0|HEAP32[e+64>>2])?34:31;A:do if(31==A){if((0|HEAP32[i+68>>2])!=(0|HEAP32[e+68>>2]))break A;if((0|HEAP32[i+72>>2])!=(0|HEAP32[e+72>>2]))break A;if((0|HEAP32[i+76>>2])!=(0|HEAP32[e+76>>2]))break A;break e}while(0);P=1,A=38;break i}while(0);P=0,A=38;break i}while(0);return 37==A&&(P=1),P}function _h264bsdDecodePicParamSet(i,e){var A=STACKTOP;STACKTOP+=8;var P,E,H,r,o=A+4;_H264SwDecMemset(e,0,72),H=_h264bsdDecodeExpGolombUnsigned(i,e),P=0!=(0|H)?1:2;i:do if(1==P)E=H;else if(2==P){P=256<=HEAPU32[e>>2]>>>0?3:4;do if(3==P)E=1;else if(4==P){H=_h264bsdDecodeExpGolombUnsigned(i,e+4),P=0!=(0|H)?5:6;do if(5==P)E=H;else if(6==P){P=32<=HEAPU32[e+4>>2]>>>0?7:8;do if(7==P)E=1;else if(8==P){H=_h264bsdGetBits(i,1),P=0!=(0|H)?9:10;do if(9==P)E=1;else if(10==P){H=_h264bsdGetBits(i,1),P=-1==(0|H)?11:12;do if(11==P)E=1;else if(12==P){HEAP32[e+8>>2]=1==(0|H)?1:0,H=_h264bsdDecodeExpGolombUnsigned(i,A),P=0!=(0|H)?13:14;do if(13==P)E=H;else if(14==P){HEAP32[e+12>>2]=HEAP32[A>>2]+1,P=8<HEAPU32[e+12>>2]>>>0?15:16;do if(15==P)E=1;else if(16==P){P=1<HEAPU32[e+12>>2]>>>0?17:68;do if(17==P){H=_h264bsdDecodeExpGolombUnsigned(i,e+16),P=0!=(0|H)?18:19;do{if(18==P){E=H;break i}if(19==P){P=6<HEAPU32[e+16>>2]>>>0?20:21;do{if(20==P){E=1;break i}if(21==P){P=0==(0|HEAP32[e+16>>2])?22:31;e:do if(22==P){r=_H264SwDecMalloc(HEAP32[e+12>>2]<<2),HEAP32[e+20>>2]=r,P=0==(0|HEAP32[e+20>>2])?23:24;do{if(23==P){E=65535;break i}if(24==P)for(r=0;;){P=r>>>0<HEAPU32[e+12>>2]>>>0?26:30;do if(26==P){H=_h264bsdDecodeExpGolombUnsigned(i,A),P=0!=(0|H)?27:28;do{if(27==P){E=H;break i}28==P&&(HEAP32[HEAP32[e+20>>2]+(r<<2)>>2]=HEAP32[A>>2]+1,r+=1)}while(0)}else if(30==P)break e;while(0)}}while(0)}else if(31==P){P=2==(0|HEAP32[e+16>>2])?32:44;A:do{if(32==P){r=_H264SwDecMalloc(HEAP32[e+12>>2]-1<<2),HEAP32[e+24>>2]=r,r=_H264SwDecMalloc(HEAP32[e+12>>2]-1<<2),HEAP32[e+28>>2]=r,P=0==(0|HEAP32[e+24>>2])?34:33;P:do if(33==P){if(0==(0|HEAP32[e+28>>2]))break P;for(r=0;;){P=r>>>0<HEAP32[e+12>>2]-1>>>0?37:43;do if(37==P){H=_h264bsdDecodeExpGolombUnsigned(i,A),P=0!=(0|H)?38:39;do{if(38==P){E=H;break i}if(39==P){HEAP32[HEAP32[e+24>>2]+(r<<2)>>2]=HEAP32[A>>2],H=_h264bsdDecodeExpGolombUnsigned(i,A),P=0!=(0|H)?40:41;do{if(40==P){E=H;break i}41==P&&(HEAP32[HEAP32[e+28>>2]+(r<<2)>>2]=HEAP32[A>>2],r+=1)}while(0)}}while(0)}else if(43==P)break A;while(0)}}while(0);E=65535;break i}if(44==P){P=3==(0|HEAP32[e+16>>2])?47:45;P:do if(45==P){if(4==(0|HEAP32[e+16>>2])){P=47;break P}if(5==(0|HEAP32[e+16>>2])){P=47;break P}P=6==(0|HEAP32[e+16>>2])?53:64;E:do if(53==P){H=_h264bsdDecodeExpGolombUnsigned(i,A),P=0!=(0|H)?54:55;do{if(54==P){E=H;break i}if(55==P){HEAP32[e+40>>2]=HEAP32[A>>2]+1,r=_H264SwDecMalloc(HEAP32[e+40>>2]<<2),HEAP32[e+44>>2]=r,P=0==(0|HEAP32[e+44>>2])?56:57;do{if(56==P){E=65535;break i}if(57==P)for(H=HEAP32[_CeilLog2NumSliceGroups+(HEAP32[e+12>>2]-1<<2)>>2],r=0;;){P=r>>>0<HEAPU32[e+40>>2]>>>0?59:63;do if(59==P){P=_h264bsdGetBits(i,H),HEAP32[HEAP32[e+44>>2]+(r<<2)>>2]=P,P=HEAPU32[HEAP32[e+44>>2]+(r<<2)>>2]>>>0>=HEAPU32[e+12>>2]>>>0?60:61;do{if(60==P){E=1;break i}61==P&&(r+=1)}while(0)}else if(63==P)break E;while(0)}}while(0)}}while(0)}while(0);P=65;break P}while(0);do if(47==P){H=_h264bsdGetBits(i,1),P=-1==(0|H)?48:49;do{if(48==P){E=1;break i}if(49==P){HEAP32[e+32>>2]=1==(0|H)?1:0,H=_h264bsdDecodeExpGolombUnsigned(i,A),P=0!=(0|H)?50:51;do{if(50==P){E=H;break i}51==P&&(HEAP32[e+36>>2]=HEAP32[A>>2]+1)}while(0)}}while(0)}while(0)}}while(0)}while(0)}}while(0)}}while(0)}while(0);H=_h264bsdDecodeExpGolombUnsigned(i,A),P=0!=(0|H)?69:70;do if(69==P)E=H;else if(70==P){P=31<HEAPU32[A>>2]>>>0?71:72;do if(71==P)E=1;else if(72==P){HEAP32[e+48>>2]=HEAP32[A>>2]+1,H=_h264bsdDecodeExpGolombUnsigned(i,A),P=0!=(0|H)?73:74;do if(73==P)E=H;else if(74==P){P=31<HEAPU32[A>>2]>>>0?75:76;do if(75==P)E=1;else if(76==P){H=_h264bsdGetBits(i,1),P=0!=(0|H)?77:78;do if(77==P)E=1;else if(78==P){H=_h264bsdGetBits(i,2),P=2<H>>>0?79:80;do if(79==P)E=1;else if(80==P){H=_h264bsdDecodeExpGolombSigned(i,o),P=0!=(0|H)?81:82;do if(81==P)E=H;else if(82==P){P=-26>(0|HEAP32[o>>2])?84:83;e:do if(83==P){if(25<(0|HEAP32[o>>2]))break e;HEAP32[e+52>>2]=HEAP32[o>>2]+26,H=_h264bsdDecodeExpGolombSigned(i,o),P=0!=(0|H)?86:87;do{if(86==P){E=H;break i}if(87==P){P=-26>(0|HEAP32[o>>2])?89:88;A:do if(88==P){if(25<(0|HEAP32[o>>2]))break A;H=_h264bsdDecodeExpGolombSigned(i,o),P=0!=(0|H)?91:92;do{if(91==P){E=H;break i}if(92==P){P=-12>(0|HEAP32[o>>2])?94:93;P:do if(93==P){if(12<(0|HEAP32[o>>2]))break P;HEAP32[e+56>>2]=HEAP32[o>>2],H=_h264bsdGetBits(i,1),P=-1==(0|H)?96:97;do{if(96==P){E=1;break i}if(97==P){HEAP32[e+60>>2]=1==(0|H)?1:0,H=_h264bsdGetBits(i,1),P=-1==(0|H)?98:99;do{if(98==P){E=1;break i}if(99==P){HEAP32[e+64>>2]=1==(0|H)?1:0,H=_h264bsdGetBits(i,1),P=-1==(0|H)?100:101;do{if(100==P){E=1;break i}if(101==P){HEAP32[e+68>>2]=1==(0|H)?1:0,_h264bsdRbspTrailingBits(i),E=0;break i}}while(0)}}while(0)}}while(0)}while(0);E=1;break i}}while(0)}while(0);E=1;break i}}while(0)}while(0);E=1}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0);return STACKTOP=A,E}function _h264bsdDecodeSliceHeader(i,e,A,P,E){var H=STACKTOP;STACKTOP+=8;var r,o,f,t,a=H+4;_H264SwDecMemset(e,0,988),t=HEAP32[A+52>>2]*HEAP32[A+56>>2],f=_h264bsdDecodeExpGolombUnsigned(i,H),r=0!=(0|f)?1:2;i:do if(1==r)o=f;else if(2==r){HEAP32[e>>2]=HEAP32[H>>2],r=HEAPU32[H>>2]>>>0>=t>>>0?3:4;do if(3==r)o=1;else if(4==r){f=_h264bsdDecodeExpGolombUnsigned(i,H),r=0!=(0|f)?5:6;do if(5==r)o=f;else if(6==r){HEAP32[e+4>>2]=HEAP32[H>>2],r=2==(0|HEAP32[e+4>>2])?13:7;e:do if(7==r){if(7==(0|HEAP32[e+4>>2]))break e;r=0==(0|HEAP32[e+4>>2])?10:9;A:do if(9==r){r=5==(0|HEAP32[e+4>>2])?10:12;break A}while(0);A:do if(10==r){if(5==(0|HEAP32[E>>2]))break A;if(0!=(0|HEAP32[A+44>>2]))break e}while(0);o=1;break i}while(0);f=_h264bsdDecodeExpGolombUnsigned(i,H),r=0!=(0|f)?14:15;do if(14==r)o=f;else if(15==r){HEAP32[e+8>>2]=HEAP32[H>>2],r=(0|HEAP32[e+8>>2])!=(0|HEAP32[P>>2])?16:17;do if(16==r)o=1;else if(17==r){r=0;e:for(;0!=(HEAPU32[A+12>>2]>>>(r>>>0)|0);)r+=1;r-=1,f=_h264bsdGetBits(i,r),r=-1==(0|f)?21:22;do if(21==r)o=1;else if(22==r){r=5==(0|HEAP32[E>>2])?23:25;e:do if(23==r){if(0==(0|f))break e;o=1;break i}while(0);HEAP32[e+12>>2]=f,r=5==(0|HEAP32[E>>2])?26:31;do if(26==r){f=_h264bsdDecodeExpGolombUnsigned(i,H),r=0!=(0|f)?27:28;do{if(27==r){o=f;break i}if(28==r){HEAP32[e+16>>2]=HEAP32[H>>2],r=65535<HEAPU32[H>>2]>>>0?29:30;do if(29==r){o=1;break i}while(0)}}while(0)}while(0);r=0==(0|HEAP32[A+16>>2])?32:49;do if(32==r){r=0;e:for(;0!=(HEAPU32[A+20>>2]>>>(r>>>0)|0);)r+=1;r-=1,f=_h264bsdGetBits(i,r),r=-1==(0|f)?36:37;do{if(36==r){o=1;break i}if(37==r){HEAP32[e+20>>2]=f,r=0!=(0|HEAP32[P+8>>2])?38:41;do if(38==r){f=_h264bsdDecodeExpGolombSigned(i,a),r=0!=(0|f)?39:40;do{if(39==r){o=f;break i}40==r&&(HEAP32[e+24>>2]=HEAP32[a>>2])}while(0)}while(0);r=5==(0|HEAP32[E>>2])?42:48;e:do if(42==r){r=HEAPU32[e+20>>2]>>>0>Math.floor((HEAPU32[A+20>>2]>>>0)/2)>>>0?47:43;do if(43==r){if(r=(0|HEAP32[e+20>>2])<(HEAP32[e+20>>2]+HEAP32[e+24>>2]|0)?44:45,44==r)var d=HEAP32[e+20>>2];else 45==r&&(d=HEAP32[e+20>>2]+HEAP32[e+24>>2]);if(0==(0|d))break e}while(0);o=1;break i}while(0)}}while(0)}while(0);r=1==(0|HEAP32[A+16>>2])?50:64;e:do if(50==r){if(0!=(0|HEAP32[A+24>>2]))break e;f=_h264bsdDecodeExpGolombSigned(i,a),r=0!=(0|f)?52:53;do{if(52==r){o=f;break i}if(53==r){HEAP32[e+28>>2]=HEAP32[a>>2],r=0!=(0|HEAP32[P+8>>2])?54:57;do if(54==r){f=_h264bsdDecodeExpGolombSigned(i,a),r=0!=(0|f)?55:56;do{if(55==r){o=f;break i}56==r&&(HEAP32[e+32>>2]=HEAP32[a>>2])}while(0)}while(0);r=5==(0|HEAP32[E>>2])?58:63;A:do if(58==r){if(r=(0|HEAP32[e+28>>2])<(HEAP32[e+28>>2]+HEAP32[A+32>>2]+HEAP32[e+32>>2]|0)?59:60,59==r)var n=HEAP32[e+28>>2];else 60==r&&(n=HEAP32[e+28>>2]+HEAP32[A+32>>2]+HEAP32[e+32>>2]);if(0==(0|n))break A;o=1;break i}while(0)}}while(0)}while(0);r=0!=(0|HEAP32[P+68>>2])?65:70;do if(65==r){f=_h264bsdDecodeExpGolombUnsigned(i,H),r=0!=(0|f)?66:67;do{if(66==r){o=f;break i}if(67==r){HEAP32[e+36>>2]=HEAP32[H>>2],r=127<HEAPU32[H>>2]>>>0?68:69;do if(68==r){o=1;break i}while(0)}}while(0)}while(0);r=0==(0|HEAP32[e+4>>2])?72:71;e:do if(71==r){r=5==(0|HEAP32[e+4>>2])?72:84;break e}while(0);do if(72==r){f=_h264bsdGetBits(i,1),r=-1==(0|f)?73:74;do{if(73==r){o=1;break i}if(74==r){HEAP32[e+40>>2]=f,r=0!=(0|HEAP32[e+40>>2])?75:80;do if(75==r){f=_h264bsdDecodeExpGolombUnsigned(i,H),r=0!=(0|f)?76:77;do{if(76==r){o=f;break i}if(77==r){r=15<HEAPU32[H>>2]>>>0?78:79;do{if(78==r){o=1;break i}79==r&&(HEAP32[e+44>>2]=HEAP32[H>>2]+1)}while(0)}}while(0)}else if(80==r){r=16<HEAPU32[P+48>>2]>>>0?81:82;do{if(81==r){o=1;break i}82==r&&(HEAP32[e+44>>2]=HEAP32[P+48>>2])}while(0)}while(0)}}while(0)}while(0);r=0==(0|HEAP32[e+4>>2])?86:85;e:do if(85==r){r=5==(0|HEAP32[e+4>>2])?86:89;break e}while(0);do if(86==r){f=_RefPicListReordering(i,e+68,HEAP32[e+44>>2],HEAP32[A+12>>2]),r=0!=(0|f)?87:88;do if(87==r){o=f;break i}while(0)}while(0);r=0!=(0|HEAP32[E+4>>2])?90:93;do if(90==r){f=_DecRefPicMarking(i,e+276,HEAP32[E>>2],HEAP32[A+44>>2]),r=0!=(0|f)?91:92;do if(91==r){o=f;break i}while(0)}while(0);f=_h264bsdDecodeExpGolombSigned(i,a),r=0!=(0|f)?94:95;do if(94==r)o=f;else if(95==r){HEAP32[e+48>>2]=HEAP32[a>>2],HEAP32[a>>2]+=HEAP32[P+52>>2],r=0>(0|HEAP32[a>>2])?97:96;e:do if(96==r){if(51<(0|HEAP32[a>>2]))break e;r=0!=(0|HEAP32[P+60>>2])?99:116;do if(99==r){f=_h264bsdDecodeExpGolombUnsigned(i,H),r=0!=(0|f)?100:101;do{if(100==r){o=f;break i}if(101==r){HEAP32[e+52>>2]=HEAP32[H>>2],r=2<HEAPU32[e+52>>2]>>>0?102:103;do{if(102==r){o=1;break i}if(103==r){r=1!=(0|HEAP32[e+52>>2])?104:115;A:do if(104==r){f=_h264bsdDecodeExpGolombSigned(i,a),r=0!=(0|f)?105:106;do{if(105==r){o=f;break i}if(106==r){r=-6>(0|HEAP32[a>>2])?108:107;P:do if(107==r){if(6<(0|HEAP32[a>>2]))break P;HEAP32[e+56>>2]=HEAP32[a>>2]<<1,f=_h264bsdDecodeExpGolombSigned(i,a),r=0!=(0|f)?110:111;do{if(110==r){o=f;break i}if(111==r){r=-6>(0|HEAP32[a>>2])?113:112;E:do if(112==r){if(6<(0|HEAP32[a>>2]))break E;HEAP32[e+60>>2]=HEAP32[a>>2]<<1;break A}while(0);o=1;break i}}while(0)}while(0);o=1;break i}}while(0)}while(0)}}while(0)}}while(0)}while(0);r=1<HEAPU32[P+12>>2]>>>0?117:124;A:do if(117==r){if(!(3<=HEAPU32[P+16>>2]>>>0))break A;if(!(5>=HEAPU32[P+16>>2]>>>0))break A;f=_NumSliceGroupChangeCycleBits(t,HEAP32[P+36>>2]),A=_h264bsdGetBits(i,f),HEAP32[H>>2]=A,r=-1==(0|HEAP32[H>>2])?120:121;do{if(120==r){o=1;break i}if(121==r){HEAP32[e+64>>2]=HEAP32[H>>2],f=Math.floor((t+HEAP32[P+36>>2]-1>>>0)/(HEAPU32[P+36>>2]>>>0)),r=HEAPU32[e+64>>2]>>>0>f>>>0?122:123;do if(122==r){o=1;break i}while(0)}}while(0)}while(0);o=0;break i}while(0);o=1}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0);return STACKTOP=H,o}function _NumSliceGroupChangeCycleBits(i,e){var A,P;A=0!=((i>>>0)%(e>>>0)|0)?1:2,1==A?P=Math.floor((i>>>0)/(e>>>0))+2:2==A&&(P=Math.floor((i>>>0)/(e>>>0))+1),A=0;i:for(;;){var E=A+1;if(A=E,0==(P&-1<<E|0))break i}return A-=1,7==(0!=(P&(1<<A)-1|0)?7:8)&&(A+=1),A}function _RefPicListReordering(i,e,A,P){var E=STACKTOP;STACKTOP+=8;var H,r,o,f=E+4;o=_h264bsdGetBits(i,1),H=-1==(0|o)?1:2;i:do if(1==H)r=1;else if(2==H){HEAP32[e>>2]=o,H=0!=(0|HEAP32[e>>2])?3:27;e:do if(3==H){r=0;A:for(;;){H=r>>>0>A>>>0?5:6;do{if(5==H){r=1;break i}if(6==H){o=_h264bsdDecodeExpGolombUnsigned(i,f),H=0!=(0|o)?7:8;do{if(7==H){r=o;break i}if(8==H){H=3<HEAPU32[f>>2]>>>0?9:10;do{if(9==H){r=1;break i}if(10==H){HEAP32[e+4+12*r>>2]=HEAP32[f>>2],H=0==(0|HEAP32[f>>2])?12:11;P:do if(11==H){if(1==(0|HEAP32[f>>2])){H=12;break P}H=2==(0|HEAP32[f>>2])?18:21;do if(18==H){o=_h264bsdDecodeExpGolombUnsigned(i,E),H=0!=(0|o)?19:20;do{if(19==H){r=o;break i}20==H&&(HEAP32[e+4+12*r+8>>2]=HEAP32[E>>2])}while(0)}while(0);H=22;break P}while(0);do if(12==H){o=_h264bsdDecodeExpGolombUnsigned(i,E),H=0!=(0|o)?13:14;do{if(13==H){r=o;break i}if(14==H){H=HEAPU32[E>>2]>>>0>=P>>>0?15:16;do{if(15==H){r=1;break i}16==H&&(HEAP32[e+4+12*r+4>>2]=HEAP32[E>>2]+1)}while(0)}}while(0)}while(0);if(r+=1,3!=(0|HEAP32[f>>2]))continue A;H=1==(0|r)?25:26;do{if(25==H){r=1;break i}if(26==H)break e}while(0)}}while(0)}}while(0)}}while(0)}}while(0);r=0}while(0);return STACKTOP=E,r}function _DecRefPicMarking(i,e,A,P){var E=STACKTOP;STACKTOP+=8;var H,r,o,f,t,a,d,n=E+4;d=a=t=f=0,A=5==(0|A)?1:9;i:do if(1==A){r=_h264bsdGetBits(i,1),A=-1==(0|r)?2:3;do{if(2==A){H=1,A=60;break i}if(3==A){HEAP32[e>>2]=r,r=_h264bsdGetBits(i,1),A=-1==(0|r)?4:5;do{if(4==A){H=1,A=60;break i}if(5==A){HEAP32[e+4>>2]=r,A=0!=(0|P)?8:6;e:do if(6==A){if(0==(0|HEAP32[e+4>>2]))break e;H=1,A=60;break i}while(0);A=59;break i}}while(0)}}while(0)}else if(9==A){r=_h264bsdGetBits(i,1),A=-1==(0|r)?10:11;do{if(10==A){H=1,A=60;break i}if(11==A){HEAP32[e+8>>2]=r,A=0!=(0|HEAP32[e+8>>2])?12:58;e:do if(12==A){o=0;A:for(;;){A=o>>>0>(P<<1)+2>>>0?14:15;do{if(14==A){H=1,A=60;break i}if(15==A){r=_h264bsdDecodeExpGolombUnsigned(i,n),A=0!=(0|r)?16:17;do{if(16==A){H=r,A=60;break i}if(17==A){A=6<HEAPU32[n>>2]>>>0?18:19;do{if(18==A){H=1,A=60;break i}if(19==A){HEAP32[e+12+20*o>>2]=HEAP32[n>>2],A=1==(0|HEAP32[n>>2])?21:20;P:do if(20==A){A=3==(0|HEAP32[n>>2])?21:24;break P}while(0);do if(21==A){r=_h264bsdDecodeExpGolombUnsigned(i,E),A=0!=(0|r)?22:23;do{if(22==A){H=r,A=60;break i}23==A&&(HEAP32[e+12+20*o+4>>2]=HEAP32[E>>2]+1)}while(0)}while(0);A=2==(0|HEAP32[n>>2])?25:28;do if(25==A){r=_h264bsdDecodeExpGolombUnsigned(i,E),A=0!=(0|r)?26:27;do{if(26==A){H=r,A=60;break i}27==A&&(HEAP32[e+12+20*o+8>>2]=HEAP32[E>>2])}while(0)}while(0);A=3==(0|HEAP32[n>>2])?30:29;
P:do if(29==A){A=6==(0|HEAP32[n>>2])?30:33;break P}while(0);do if(30==A){r=_h264bsdDecodeExpGolombUnsigned(i,E),A=0!=(0|r)?31:32;do{if(31==A){H=r,A=60;break i}32==A&&(HEAP32[e+12+20*o+12>>2]=HEAP32[E>>2])}while(0)}while(0);A=4==(0|HEAP32[n>>2])?34:42;do if(34==A){r=_h264bsdDecodeExpGolombUnsigned(i,E),A=0!=(0|r)?35:36;do{if(35==A){H=r,A=60;break i}if(36==A){A=HEAPU32[E>>2]>>>0>P>>>0?37:38;do{if(37==A){H=1,A=60;break i}38==A&&(A=0==(0|HEAP32[E>>2])?39:40,39==A?HEAP32[e+12+20*o+16>>2]=65535:40==A&&(HEAP32[e+12+20*o+16>>2]=HEAP32[E>>2]-1),f+=1)}while(0)}}while(0)}while(0);A=5==(0|HEAP32[n>>2])?43:44,43==A&&(t+=1),A=0!=(0|HEAP32[n>>2])?45:47;P:do if(45==A){if(!(3>=HEAPU32[n>>2]>>>0))break P;d+=1}while(0);if(A=6==(0|HEAP32[n>>2])?48:49,48==A&&(a+=1),o+=1,0!=(0|HEAP32[n>>2]))continue A;A=1<f>>>0?56:52;P:do if(52==A){if(1<t>>>0)break P;if(1<a>>>0)break P;A=0!=(0|d)?55:57;do if(55==A&&0!=(0|t))break P;while(0);break e}while(0);H=1,A=60;break i}}while(0)}}while(0)}}while(0)}}while(0);A=59;break i}}while(0)}while(0);return 59==A&&(H=0),STACKTOP=E,H}function _h264bsdCheckPpsId(i,e){var A=STACKTOP;STACKTOP+=24;var P,E,H,r,o,f=A+4;if(P=i,H=f,r=P+20,H%4==P%4){for(;0!==P%4&&P<r;)HEAP8[H++]=HEAP8[P++];for(P>>=2,H>>=2,o=r>>2;P<o;)HEAP32[H++]=HEAP32[P++];P<<=2,H<<=2}for(;P<r;)HEAP8[H++]=HEAP8[P++];return H=_h264bsdDecodeExpGolombUnsigned(f,A),P=0!=(0|H)?1:2,1==P?E=H:2==P&&(H=_h264bsdDecodeExpGolombUnsigned(f,A),P=0!=(0|H)?3:4,3==P?E=H:4==P&&(H=_h264bsdDecodeExpGolombUnsigned(f,A),P=0!=(0|H)?5:6,5==P?E=H:6==P&&(P=256<=HEAPU32[A>>2]>>>0?7:8,7==P?E=1:8==P&&(HEAP32[e>>2]=HEAP32[A>>2],E=0)))),STACKTOP=A,E}function _h264bsdCheckFrameNum(i,e,A){var P=STACKTOP;STACKTOP+=24;var E,H,r,o,f=P+4;if(H=f,r=i+20,H%4==i%4){for(;0!==i%4&&i<r;)HEAP8[H++]=HEAP8[i++];for(i>>=2,H>>=2,o=r>>2;i<o;)HEAP32[H++]=HEAP32[i++];i<<=2,H<<=2}for(;i<r;)HEAP8[H++]=HEAP8[i++];H=_h264bsdDecodeExpGolombUnsigned(f,P),i=0!=(0|H)?1:2;do if(1==i)E=H;else if(2==i){H=_h264bsdDecodeExpGolombUnsigned(f,P),i=0!=(0|H)?3:4;do if(3==i)E=H;else if(4==i){H=_h264bsdDecodeExpGolombUnsigned(f,P),i=0!=(0|H)?5:6;do if(5==i)E=H;else if(6==i){i=0;i:for(;0!=(e>>>(i>>>0)|0);)i+=1;i-=1,H=_h264bsdGetBits(f,i),i=-1==(0|H)?10:11,10==i?E=1:11==i&&(HEAP32[A>>2]=H,E=0)}while(0)}while(0)}while(0);return STACKTOP=P,E}function _h264bsdCheckIdrPicId(i,e,A,P){var E=STACKTOP;STACKTOP+=24;var H,r,o=E+4,A=5!=(0|A)?1:2;do if(1==A)H=1;else if(2==A){r=o;var f,t,A=i;if(f=A+20,r%4==A%4){for(;0!==A%4&&A<f;)HEAP8[r++]=HEAP8[A++];for(A>>=2,r>>=2,t=f>>2;A<t;)HEAP32[r++]=HEAP32[A++];A<<=2,r<<=2}for(;A<f;)HEAP8[r++]=HEAP8[A++];r=_h264bsdDecodeExpGolombUnsigned(o,E),A=0!=(0|r)?3:4;do if(3==A)H=r;else if(4==A){r=_h264bsdDecodeExpGolombUnsigned(o,E),A=0!=(0|r)?5:6;do if(5==A)H=r;else if(6==A){r=_h264bsdDecodeExpGolombUnsigned(o,E),A=0!=(0|r)?7:8;do if(7==A)H=r;else if(8==A){A=0;i:for(;0!=(e>>>(A>>>0)|0);)A+=1;A-=1,r=_h264bsdGetBits(o,A),A=-1==(0|r)?12:13,12==A?H=1:13==A&&(r=_h264bsdDecodeExpGolombUnsigned(o,P),A=0!=(0|r)?14:15,14==A?H=r:15==A&&(H=0))}while(0)}while(0)}while(0)}while(0);return STACKTOP=E,H}function _h264bsdCheckPicOrderCntLsb(i,e,A,P){var E=STACKTOP;STACKTOP+=24;var H,r,o,f,t=E+4;if(r=t,o=i+20,r%4==i%4){for(;0!==i%4&&i<o;)HEAP8[r++]=HEAP8[i++];for(i>>=2,r>>=2,f=o>>2;i<f;)HEAP32[r++]=HEAP32[i++];i<<=2,r<<=2}for(;i<o;)HEAP8[r++]=HEAP8[i++];r=_h264bsdDecodeExpGolombUnsigned(t,E),i=0!=(0|r)?1:2;i:do if(1==i)H=r;else if(2==i){r=_h264bsdDecodeExpGolombUnsigned(t,E),i=0!=(0|r)?3:4;do if(3==i)H=r;else if(4==i){r=_h264bsdDecodeExpGolombUnsigned(t,E),i=0!=(0|r)?5:6;do if(5==i)H=r;else if(6==i){i=0;e:for(;0!=(HEAPU32[e+12>>2]>>>(i>>>0)|0);)i+=1;i-=1,r=_h264bsdGetBits(t,i),i=-1==(0|r)?10:11;do if(10==i)H=1;else if(11==i){i=5==(0|A)?12:15;do if(12==i){r=_h264bsdDecodeExpGolombUnsigned(t,E),i=0!=(0|r)?13:14;do if(13==i){H=r;break i}while(0)}while(0);i=0;e:for(;0!=(HEAPU32[e+20>>2]>>>(i>>>0)|0);)i+=1;i-=1,r=_h264bsdGetBits(t,i),i=-1==(0|r)?19:20,19==i?H=1:20==i&&(HEAP32[P>>2]=r,H=0)}while(0)}while(0)}while(0)}while(0);return STACKTOP=E,H}function _h264bsdCheckDeltaPicOrderCntBottom(i,e,A,P){var E=STACKTOP;STACKTOP+=24;var H,r,o,f,t=E+4;if(r=t,o=i+20,r%4==i%4){for(;0!==i%4&&i<o;)HEAP8[r++]=HEAP8[i++];for(i>>=2,r>>=2,f=o>>2;i<f;)HEAP32[r++]=HEAP32[i++];i<<=2,r<<=2}for(;i<o;)HEAP8[r++]=HEAP8[i++];r=_h264bsdDecodeExpGolombUnsigned(t,E),i=0!=(0|r)?1:2;i:do if(1==i)H=r;else if(2==i){r=_h264bsdDecodeExpGolombUnsigned(t,E),i=0!=(0|r)?3:4;do if(3==i)H=r;else if(4==i){r=_h264bsdDecodeExpGolombUnsigned(t,E),i=0!=(0|r)?5:6;do if(5==i)H=r;else if(6==i){i=0;e:for(;0!=(HEAPU32[e+12>>2]>>>(i>>>0)|0);)i+=1;i-=1,r=_h264bsdGetBits(t,i),i=-1==(0|r)?10:11;do if(10==i)H=1;else if(11==i){i=5==(0|A)?12:15;do if(12==i){r=_h264bsdDecodeExpGolombUnsigned(t,E),i=0!=(0|r)?13:14;do if(13==i){H=r;break i}while(0)}while(0);i=0;e:for(;0!=(HEAPU32[e+20>>2]>>>(i>>>0)|0);)i+=1;i-=1,r=_h264bsdGetBits(t,i),i=-1==(0|r)?19:20,19==i?H=1:20==i&&(r=_h264bsdDecodeExpGolombSigned(t,P),i=0!=(0|r)?21:22,21==i?H=r:22==i&&(H=0))}while(0)}while(0)}while(0)}while(0);return STACKTOP=E,H}function _h264bsdCheckDeltaPicOrderCnt(i,e,A,P,E){var H=STACKTOP;STACKTOP+=24;var r,o,f,t,a=H+4;if(o=a,f=i+20,o%4==i%4){for(;0!==i%4&&i<f;)HEAP8[o++]=HEAP8[i++];for(i>>=2,o>>=2,t=f>>2;i<t;)HEAP32[o++]=HEAP32[i++];i<<=2,o<<=2}for(;i<f;)HEAP8[o++]=HEAP8[i++];o=_h264bsdDecodeExpGolombUnsigned(a,H),i=0!=(0|o)?1:2;i:do if(1==i)r=o;else if(2==i){o=_h264bsdDecodeExpGolombUnsigned(a,H),i=0!=(0|o)?3:4;do if(3==i)r=o;else if(4==i){o=_h264bsdDecodeExpGolombUnsigned(a,H),i=0!=(0|o)?5:6;do if(5==i)r=o;else if(6==i){i=0;e:for(;0!=(HEAPU32[e+12>>2]>>>(i>>>0)|0);)i+=1;i-=1,o=_h264bsdGetBits(a,i),i=-1==(0|o)?10:11;do if(10==i)r=1;else if(11==i){i=5==(0|A)?12:15;do if(12==i){o=_h264bsdDecodeExpGolombUnsigned(a,H),i=0!=(0|o)?13:14;do if(13==i){r=o;break i}while(0)}while(0);o=_h264bsdDecodeExpGolombSigned(a,E),i=0!=(0|o)?16:17;do if(16==i)r=o;else if(17==i){i=0!=(0|P)?18:21;do if(18==i){o=_h264bsdDecodeExpGolombSigned(a,E+4),i=0!=(0|o)?19:20;do if(19==i){r=o;break i}while(0)}while(0);r=0}while(0)}while(0)}while(0)}while(0)}while(0);return STACKTOP=H,r}function _h264bsdCheckRedundantPicCnt(i,e,A,P,E){var H=STACKTOP;STACKTOP+=28;var r,o,f,t,a=H+4,d=H+8;if(o=d,f=i+20,o%4==i%4){for(;0!==i%4&&i<f;)HEAP8[o++]=HEAP8[i++];for(i>>=2,o>>=2,t=f>>2;i<t;)HEAP32[o++]=HEAP32[i++];i<<=2,o<<=2}for(;i<f;)HEAP8[o++]=HEAP8[i++];o=_h264bsdDecodeExpGolombUnsigned(d,H),i=0!=(0|o)?1:2;i:do if(1==i)r=o;else if(2==i){o=_h264bsdDecodeExpGolombUnsigned(d,H),i=0!=(0|o)?3:4;do if(3==i)r=o;else if(4==i){o=_h264bsdDecodeExpGolombUnsigned(d,H),i=0!=(0|o)?5:6;do if(5==i)r=o;else if(6==i){i=0;e:for(;0!=(HEAPU32[e+12>>2]>>>(i>>>0)|0);)i+=1;i-=1,o=_h264bsdGetBits(d,i),i=-1==(0|o)?10:11;do if(10==i)r=1;else if(11==i){i=5==(0|P)?12:15;do if(12==i){o=_h264bsdDecodeExpGolombUnsigned(d,H),i=0!=(0|o)?13:14;do if(13==i){r=o;break i}while(0)}while(0);i=0==(0|HEAP32[e+16>>2])?16:26;do if(16==i){i=0;e:for(;0!=(HEAPU32[e+20>>2]>>>(i>>>0)|0);)i+=1;i-=1,o=_h264bsdGetBits(d,i),i=-1==(0|o)?20:21;do{if(20==i){r=1;break i}if(21==i){i=0!=(0|HEAP32[A+8>>2])?22:25;do if(22==i){o=_h264bsdDecodeExpGolombSigned(d,a),i=0!=(0|o)?23:24;do if(23==i){r=o;break i}while(0)}while(0)}}while(0)}while(0);i=1==(0|HEAP32[e+16>>2])?27:35;e:do if(27==i){if(0!=(0|HEAP32[e+24>>2]))break e;o=_h264bsdDecodeExpGolombSigned(d,a),i=0!=(0|o)?29:30;do{if(29==i){r=o;break i}if(30==i){i=0!=(0|HEAP32[A+8>>2])?31:34;do if(31==i){o=_h264bsdDecodeExpGolombSigned(d,a),i=0!=(0|o)?32:33;do if(32==i){r=o;break i}while(0)}while(0)}}while(0)}while(0);o=_h264bsdDecodeExpGolombUnsigned(d,E),i=0!=(0|o)?36:37,36==i?r=o:37==i&&(r=0)}while(0)}while(0)}while(0)}while(0);return STACKTOP=H,r}function _SetMbParams(i,e,A,P){var E,H;E=HEAP32[e+52>>2],H=HEAP32[e+56>>2],e=HEAP32[e+60>>2],HEAP32[i+4>>2]=A,HEAP32[i+8>>2]=E,HEAP32[i+12>>2]=H,HEAP32[i+16>>2]=e,HEAP32[i+24>>2]=P}function _h264bsdCheckPriorPicsFlag(i,e,A,P){var E=STACKTOP;STACKTOP+=28;var H,r,o,f,t=E+4,a=E+8;if(H=a,o=e+20,H%4==e%4){for(;0!==e%4&&e<o;)HEAP8[H++]=HEAP8[e++];for(e>>=2,H>>=2,f=o>>2;e<f;)HEAP32[H++]=HEAP32[e++];e<<=2,H<<=2}for(;e<o;)HEAP8[H++]=HEAP8[e++];e=_h264bsdDecodeExpGolombUnsigned(a,E),H=0!=(0|e)?1:2;i:do if(1==H)r=e;else if(2==H){e=_h264bsdDecodeExpGolombUnsigned(a,E),H=0!=(0|e)?3:4;do if(3==H)r=e;else if(4==H){e=_h264bsdDecodeExpGolombUnsigned(a,E),H=0!=(0|e)?5:6;do if(5==H)r=e;else if(6==H){e=0;e:for(;0!=(HEAPU32[A+12>>2]>>>(e>>>0)|0);)e+=1;e-=1,e=_h264bsdGetBits(a,e),H=-1==(0|e)?10:11;do if(10==H)r=1;else if(11==H){e=_h264bsdDecodeExpGolombUnsigned(a,E),H=0!=(0|e)?12:13;do if(12==H)r=e;else if(13==H){H=0==(0|HEAP32[A+16>>2])?14:24;do if(14==H){e=0;e:for(;0!=(HEAPU32[A+20>>2]>>>(e>>>0)|0);)e+=1;e-=1,e=_h264bsdGetBits(a,e),H=-1==(0|e)?18:19;do{if(18==H){r=1;break i}if(19==H){H=0!=(0|HEAP32[P+8>>2])?20:23;do if(20==H){e=_h264bsdDecodeExpGolombSigned(a,t),H=0!=(0|e)?21:22;do if(21==H){r=e;break i}while(0)}while(0)}}while(0)}while(0);H=1==(0|HEAP32[A+16>>2])?25:33;e:do if(25==H){if(0!=(0|HEAP32[A+24>>2]))break e;e=_h264bsdDecodeExpGolombSigned(a,t),H=0!=(0|e)?27:28;do{if(27==H){r=e;break i}if(28==H){H=0!=(0|HEAP32[P+8>>2])?29:32;do if(29==H){e=_h264bsdDecodeExpGolombSigned(a,t),H=0!=(0|e)?30:31;do if(30==H){r=e;break i}while(0)}while(0)}}while(0)}while(0);H=0!=(0|HEAP32[P+68>>2])?34:37;do if(34==H){e=_h264bsdDecodeExpGolombUnsigned(a,E),H=0!=(0|e)?35:36;do if(35==H){r=e;break i}while(0)}while(0);H=_h264bsdGetBits(a,1),HEAP32[i>>2]=H,H=-1==(0|HEAP32[i>>2])?38:39,38==H?r=1:39==H&&(r=0)}while(0)}while(0)}while(0)}while(0)}while(0);return STACKTOP=E,r}function _h264bsdDecodeSliceData(i,e,A,P){var E=STACKTOP;STACKTOP+=440;var H,r,o,f,t,a,d,n,l,s=E+432,_=E+436;o=E+Math.floor((16-E&15)>>>0),l=HEAP32[e+3376>>2],a=HEAP32[P>>2],t=HEAP32[s>>2]=0,HEAP32[e+1192>>2]+=1,n=HEAP32[e+1200>>2]=0,HEAP32[_>>2]=HEAP32[HEAP32[e+12>>2]+52>>2]+HEAP32[P+48>>2];i:for(;;){H=0!=(0|HEAP32[P+36>>2])?4:2;e:do if(2==H){if(0==(0|HEAP32[HEAP32[e+1212>>2]+216*a+196>>2]))break e;r=1;break i}while(0);_SetMbParams(HEAP32[e+1212>>2]+216*a,P,HEAP32[e+1192>>2],HEAP32[HEAP32[e+12>>2]+56>>2]),H=2==(0|HEAP32[P+4>>2])?15:5;e:do if(5==H){if(7==(0|HEAP32[P+4>>2]))break e;H=0!=(0|t)?14:7;do if(7==H){f=_h264bsdDecodeExpGolombUnsigned(i,s),H=0!=(0|f)?8:9;do{if(8==H){r=f;break i}if(9==H){H=HEAPU32[s>>2]>>>0>HEAP32[e+1176>>2]-a>>>0?10:11;do{if(10==H){r=1;break i}11==H&&(H=0!=(0|HEAP32[s>>2])?12:13,12==H&&(t=1,_H264SwDecMemset(l+12,0,164),HEAP32[l>>2]=0))}while(0)}}while(0)}while(0)}while(0);H=0!=(0|HEAP32[s>>2])?16:17;do if(16==H)HEAP32[s>>2]-=1;else if(17==H){t=0,f=_h264bsdDecodeMacroblockLayer(i,l,HEAP32[e+1212>>2]+216*a,HEAP32[P+4>>2],HEAP32[P+44>>2]),H=0!=(0|f)?18:19;do if(18==H){r=f;break i}while(0)}while(0);f=_h264bsdDecodeMacroblock(HEAP32[e+1212>>2]+216*a,l,A,e+1220,_,a,HEAP32[HEAP32[e+12>>2]+64>>2],o),H=0!=(0|f)?21:22;do{if(21==H){r=f;break i}if(22==H){if(H=1==(0|HEAP32[HEAP32[e+1212>>2]+216*a+196>>2])?23:24,23==H&&(n+=1),0!=(0|_h264bsdMoreRbspData(i))){var b=1;H=26}else H=25;25==H&&(b=0!=(0|HEAP32[s>>2])),d=b?1:0,H=2==(0|HEAP32[P+4>>2])?28:27;e:do if(27==H){H=7==(0|HEAP32[P+4>>2])?28:29;break e}while(0);28==H&&(HEAP32[e+1200>>2]=a),a=_h264bsdNextMbAddress(HEAP32[e+1172>>2],HEAP32[e+1176>>2],a),H=0!=(0|d)?30:32;e:do if(30==H){if(0!=(0|a))break e;r=1;break i}while(0);if(0!=(0|d))continue i;H=HEAP32[e+1196>>2]+n>>>0>HEAPU32[e+1176>>2]>>>0?35:36;do{if(35==H){r=1;break i}if(36==H){HEAP32[e+1196>>2]+=n,r=0;break i}}while(0)}}while(0)}return STACKTOP=E,r}function _h264bsdMarkSliceCorrupted(i,e){var A,P,E,H,r;r=e,H=HEAP32[i+1192>>2],A=0!=(0|HEAP32[i+1200>>2])?1:12;do if(1==A){E=HEAP32[i+1200>>2]-1,P=0;i:for(;E>>>0>r>>>0;){A=(0|HEAP32[HEAP32[i+1212>>2]+216*E+4>>2])==(0|H)?4:10;do if(4==A){var o=P+=1;if(A=10<HEAPU32[HEAP32[i+16>>2]+52>>2]>>>0?5:6,5==A)var f=HEAP32[HEAP32[i+16>>2]+52>>2];else 6==A&&(f=10);A=o>>>0>=f>>>0?8:9;do if(8==A)break i;while(0)}while(0);E-=1}r=E}while(0);i:for(;;){A=(0|HEAP32[HEAP32[i+1212>>2]+216*r+4>>2])==(0|H)?14:16;e:do if(14==A){if(0==(0|HEAP32[HEAP32[i+1212>>2]+216*r+196>>2]))break e;if(A=HEAP32[i+1212>>2]+216*r+196,HEAP32[A>>2]-=1,r=_h264bsdNextMbAddress(HEAP32[i+1172>>2],HEAP32[i+1176>>2],r),0!=(0|r))continue i;break i}while(0);break i}}function _h264bsdNumMbPart(i){var e,i=1==i||0==i?1:2==i||3==i?2:3;return 3==i?e=4:1==i?e=1:2==i&&(e=2),e}function _h264bsdMbPartPredMode(i){var e,A;return e=5>=i>>>0?1:2,1==e?A=2:2==e&&(e=6==(0|i)?3:4,3==e?A=0:4==e&&(A=1)),A}function _CbpIntra16x16(i){var e,A;return e=19<=i>>>0?1:2,1==e?A=15:2==e&&(A=0),i=i-7>>>2,4==(2<i>>>0?4:5)&&(i-=3),A+(i<<4)}function _h264bsdDecodeMacroblockLayer(i,e,A,P,E){var H=STACKTOP;STACKTOP+=8;var r,o,f,t=H+4;_H264SwDecMemset(e,0,2088),f=_h264bsdDecodeExpGolombUnsigned(i,H),r=2==(0|P)?2:1;i:do if(1==r){if(7==(0|P)){r=2;break i}r=31<HEAP32[H>>2]+1>>>0?8:7;e:do if(7==r){if(0!=(0|f))break e;HEAP32[e>>2]=HEAP32[H>>2]+1,r=10;break i}while(0);o=1,r=45;break i}while(0);i:do if(2==r){r=31<HEAP32[H>>2]+6>>>0?4:3;e:do if(3==r){if(0!=(0|f))break e;HEAP32[e>>2]=HEAP32[H>>2]+6,r=10;break i}while(0);o=1,r=45;break i}while(0);i:do if(10==r){r=31==(0|HEAP32[e>>2])?11:23;e:do if(11==r){A:for(;0!=(0|_h264bsdIsByteAligned(i))^1;){f=_h264bsdGetBits(i,1),r=0!=(0|f)?14:15;do if(14==r){o=1;break i}while(0)}for(o=e+328,P=0;;){r=384>P>>>0?18:22;do if(18==r){r=_h264bsdGetBits(i,8),HEAP32[H>>2]=r,r=-1==(0|HEAP32[H>>2])?19:20;do{if(19==r){o=1;break i}if(20==r){var a=HEAP32[H>>2],d=o;o=d+4,HEAP32[d>>2]=a,P+=1}}while(0)}else if(22==r)break e;while(0)}}else if(23==r){P=_h264bsdMbPartPredMode(HEAP32[e>>2]),r=2==(0|P)?24:26;A:do if(24==r){if(4!=(0|_h264bsdNumMbPart(HEAP32[e>>2]))){r=26;break A}f=_DecodeSubMbPred(i,e+176,HEAP32[e>>2],E),r=27;break A}while(0);26==r&&(f=_DecodeMbPred(i,e+12,HEAP32[e>>2],E)),r=0!=(0|f)?28:29;do{if(28==r){o=f;break i}if(29==r){r=1!=(0|P)?30:33;do if(30==r){f=_h264bsdDecodeExpGolombMapped(i,H,0==(0|P)&1),r=0!=(0|f)?31:32;do{if(31==r){o=f;break i}32==r&&(HEAP32[e+4>>2]=HEAP32[H>>2])}while(0)}else 33==r&&(o=_CbpIntra16x16(HEAP32[e>>2]),HEAP32[e+4>>2]=o);while(0);r=0!=(0|HEAP32[e+4>>2])?36:35;A:do if(35==r){r=1==(0|P)?36:43;break A}while(0);A:do if(36==r){f=_h264bsdDecodeExpGolombSigned(i,t),r=0!=(0|f)?39:37;P:do if(37==r){if(-26>(0|HEAP32[t>>2]))break P;if(25<(0|HEAP32[t>>2]))break P;HEAP32[e+8>>2]=HEAP32[t>>2],f=_DecodeResidual(i,e+272,A,HEAP32[e>>2],HEAP32[e+4>>2]),HEAP32[i+16>>2]=(HEAP32[i+4>>2]-HEAP32[i>>2]<<3)+HEAP32[i+8>>2],r=0!=(0|f)?41:42;do{if(41==r){o=f;break i}if(42==r)break A}while(0)}while(0);o=1;break i}while(0)}}while(0)}while(0);o=0}while(0);return STACKTOP=H,o}function _DecodeSubMbPred(i,e,A,P){var E=STACKTOP;STACKTOP+=8;var H,r,o,f,t,a=E+4;f=0;i:for(;;){if(!(4>f>>>0)){H=7;break i}o=_h264bsdDecodeExpGolombUnsigned(i,E),H=0!=(0|o)?4:3;e:do if(3==H){if(3<HEAPU32[E>>2]>>>0)break e;HEAP32[e+(f<<2)>>2]=HEAP32[E>>2],f+=1;continue i}while(0);r=1,H=30;break i}i:do if(7==H){H=1<P>>>0?8:17;e:do if(8==H){if(5==(0|A))break e;f=0;A:for(;;){H=4>f>>>0?11:16;do{if(11==H){o=_h264bsdDecodeExpGolombTruncated(i,E,2<P>>>0&1),H=0!=(0|o)?13:12;P:do if(12==H){if(HEAPU32[E>>2]>>>0>=P>>>0)break P;HEAP32[e+16+(f<<2)>>2]=HEAP32[E>>2],f+=1;continue A}while(0);r=1;break i}if(16==H)break e}while(0)}}while(0);f=0;e:for(;;){H=4>f>>>0?19:29;do if(19==H)for(t=0,o=_h264bsdNumSubMbPart(HEAP32[e+(f<<2)>>2]),HEAP32[E>>2]=o;;){H=HEAP32[E>>2],HEAP32[E>>2]=H-1,H=0!=(0|H)?21:27;do if(21==H){o=_h264bsdDecodeExpGolombSigned(i,a),H=0!=(0|o)?22:23;do{if(22==H){r=o;break i}if(23==H){HEAP16[e+32+(f<<4)+(t<<2)>>1]=65535&HEAP32[a>>2],o=_h264bsdDecodeExpGolombSigned(i,a),H=0!=(0|o)?24:25;do{if(24==H){r=o;break i}25==H&&(HEAP16[e+32+(f<<4)+(t<<2)+2>>1]=65535&HEAP32[a>>2],t+=1)}while(0)}}while(0)}else if(27==H){f+=1;continue e}while(0)}else if(29==H){r=0;break i}while(0)}}while(0);return STACKTOP=E,r}function _DecodeMbPred(i,e,A,P){var E=STACKTOP;STACKTOP+=8;var H,r,o,f,t,a=E+4;f=_h264bsdMbPartPredMode(A),H=2==f?1:0==f?19:1==f?32:36;i:do if(1==H){H=1<P>>>0?2:10;e:do if(2==H){f=_h264bsdNumMbPart(A),t=0;A:for(;;){o=f,f=o-1,H=0!=(0|o)?4:9;do{if(4==H){o=_h264bsdDecodeExpGolombTruncated(i,E,2<P>>>0&1),H=0!=(0|o)?6:5;P:do if(5==H){if(HEAPU32[E>>2]>>>0>=P>>>0)break P;HEAP32[e+132+(t<<2)>>2]=HEAP32[E>>2],t+=1;continue A}while(0);r=1,H=37;break i}if(9==H)break e}while(0)}}while(0);for(f=_h264bsdNumMbPart(A),t=0;;){o=f,f=o-1,H=0!=(0|o)?12:18;do if(12==H){o=_h264bsdDecodeExpGolombSigned(i,a),H=0!=(0|o)?13:14;do{if(13==H){r=o,H=37;break i}if(14==H){HEAP16[e+148+(t<<2)>>1]=65535&HEAP32[a>>2],o=_h264bsdDecodeExpGolombSigned(i,a),H=0!=(0|o)?15:16;do{if(15==H){r=o,H=37;break i}16==H&&(HEAP16[e+148+(t<<2)+2>>1]=65535&HEAP32[a>>2],t+=1)}while(0)}}while(0)}else if(18==H){H=36;break i}while(0)}}else if(19==H)for(f=HEAP32[a>>2]=0;;){H=2>(0|HEAP32[a>>2])?21:31;do if(21==H){t=_h264bsdShowBits32(i),HEAP32[E>>2]=t,o=0,t=8;e:for(;H=t,t=H-1,0!=(0|H);)HEAP32[e+(f<<2)>>2]=0!=(HEAP32[E>>2]&-2147483648|0)?1:0,HEAP32[E>>2]<<=1,H=0!=(0|HEAP32[e+(f<<2)>>2])?25:24,24==H&&(HEAP32[e+64+(f<<2)>>2]=HEAPU32[E>>2]>>>29,HEAP32[E>>2]<<=3,o+=1),f+=1;H=-1==(0|_h264bsdFlushBits(i,3*o+8))?28:29;do{if(28==H){r=1,H=37;break i}29==H&&(HEAP32[a>>2]+=1)}while(0)}else if(31==H){H=32;break i}while(0)}while(0);i:do if(32==H){o=_h264bsdDecodeExpGolombUnsigned(i,E),H=0!=(0|o)?34:33;e:do if(33==H){if(3<HEAPU32[E>>2]>>>0)break e;HEAP32[e+128>>2]=HEAP32[E>>2],H=36;break i}while(0);r=1,H=37;break i}while(0);return 36==H&&(r=0),STACKTOP=E,r}function _h264bsdNumSubMbPart(i){var e,i=0==i?1:1==i||2==i?2:3;return 3==i?e=4:1==i?e=1:2==i&&(e=2),e}function _h264bsdPredModeIntra16x16(i){return i-7&3}function _DecodeResidual(i,e,A,P,E){var H,r,o,f,t,a,d;d=e+56,H=1==(0|_h264bsdMbPartPredMode(P))?1:4;i:do if(1==H){t=_DetermineNc(A,0,e),f=_h264bsdDecodeResidualBlockCavlc(i,d+1536,t,16),H=0!=(15&f|0)?2:3;do{if(2==H){r=f,H=35;break i}if(3==H){HEAP16[e+48>>1]=f>>>4&255,a=1,H=5;break i}}while(0)}else if(4==H){a=0,H=5;break i}while(0);i:do if(5==H){r=4,P=0;e:for(;H=r,r=H-1,0!=(0|H);){H=1&E,E>>>=1,H=0!=(0|H)?8:18;A:do if(8==H)for(o=4;;){H=o,o=H-1,H=0!=(0|H)?10:17;do if(10==H){t=_DetermineNc(A,P,e),H=0!=(0|a)?11:12,11==H?(f=_h264bsdDecodeResidualBlockCavlc(i,d+(P<<6)+4,t,15),HEAP32[e+1720+(P<<2)>>2]=f>>>15):12==H&&(f=_h264bsdDecodeResidualBlockCavlc(i,d+(P<<6),t,16),HEAP32[e+1720+(P<<2)>>2]=f>>>16),H=0!=(15&f|0)?14:15;do{if(14==H){r=f;break i}15==H&&(HEAP16[e+(P<<1)>>1]=f>>>4&255,P+=1)}while(0)}else if(17==H)break A;while(0)}else 18==H&&(P+=4);while(0)}H=3&E,H=0!=(0|H)?21:26;do if(21==H){f=_h264bsdDecodeResidualBlockCavlc(i,d+1600,-1,4),H=0!=(15&f|0)?22:23;do{if(22==H){r=f;break i}if(23==H){HEAP16[e+50>>1]=f>>>4&255,f=_h264bsdDecodeResidualBlockCavlc(i,d+1616,-1,4),H=0!=(15&f|0)?24:25;do{if(24==H){r=f;break i}25==H&&(HEAP16[e+52>>1]=f>>>4&255)}while(0)}}while(0)}while(0);H=2&E,H=0!=(0|H)?27:34;e:do if(27==H)for(r=8;;){H=r,r=H-1,H=0!=(0|H)?29:33;do if(29==H){t=_DetermineNc(A,P,e),f=_h264bsdDecodeResidualBlockCavlc(i,d+(P<<6)+4,t,15),H=0!=(15&f|0)?30:31;do{if(30==H){r=f;break i}31==H&&(HEAP16[e+(P<<1)>>1]=f>>>4&255,HEAP32[e+1720+(P<<2)>>2]=f>>>15,P+=1)}while(0)}else if(33==H)break e;while(0)}while(0);r=0}while(0);return r}function _h264bsdDecodeMacroblock(i,e,A,P,E,H,r,o){var f,t,a,d,n,l,s;d=HEAP32[e>>2],HEAP32[i>>2]=d,HEAP32[i+196>>2]+=1,_h264bsdSetCurrImageMbPointers(A,H),f=31==(0|d)?1:13;i:do if(1==f){n=o,l=i+28,s=e+328,HEAP32[i+20>>2]=0,f=1<HEAPU32[i+196>>2]>>>0?2:6;do if(2==f){t=24;e:for(;a=t,t=a-1,0!=(0|a);)a=l,l=a+2,HEAP16[a>>1]=16;t=0}else if(6==f){t=24;e:for(;a=t,t=a-1,0!=(0|a);){a=l,l=a+2,a=HEAP16[a>>1]=16;A:for(;;){var _=a;if(a=_-1,0==(0|_))break A;_=s,s=_+4;var _=255&HEAP32[_>>2],b=n;n=b+1,HEAP8[b]=_}}_h264bsdWriteMacroblock(A,o),t=0}while(0)}else if(13==f){f=0!=(0|d)?14:24;do if(14==f){_H264SwDecMemcpy(i+28,e+272,54),f=0!=(0|HEAP32[e+8>>2])?15:21,15==f&&(HEAP32[E>>2]+=HEAP32[e+8>>2],f=0>(0|HEAP32[E>>2])?16:17,16==f?HEAP32[E>>2]+=52:17==f&&(f=52<=(0|HEAP32[E>>2])?18:19,18==f&&(HEAP32[E>>2]-=52))),HEAP32[i+20>>2]=HEAP32[E>>2],a=_ProcessResidual(i,e+328,e+1992),f=0!=(0|a)?22:23;do if(22==f){t=a;break i}while(0)}else 24==f&&(_H264SwDecMemset(i+28,0,54),HEAP32[i+20>>2]=HEAP32[E>>2]);while(0);f=2!=(0|_h264bsdMbPartPredMode(d))?26:29;do if(26==f){a=_h264bsdIntraPrediction(i,e,A,H,r,o),f=0!=(0|a)?27:28;do if(27==f){t=a;break i}while(0)}else if(29==f){a=_h264bsdInterPrediction(i,e,P,H,A,o),f=0!=(0|a)?30:31;do if(30==f){t=a;break i}while(0)}while(0);t=0}while(0);return t}function _h264bsdSubMbPartMode(i){return i}function _h264bsdShowBits32(i){var e,A,P,E,H,r,o;H=HEAP32[i+4>>2],P=(HEAP32[i+12>>2]<<3)-HEAP32[i+16>>2],e=32<=(0|P)?1:4;do if(1==e)E=HEAP32[i+8>>2],A=(255&HEAPU8[H])<<24|(255&HEAPU8[H+1])<<16|(255&HEAPU8[H+2])<<8|255&HEAPU8[H+3],e=0!=(0|E)?2:3,2==e&&(r=255&HEAPU8[H+4],o=8-E,A<<=E,A|=r>>>(o>>>0));else if(4==e){e=0<(0|P)?5:9;do if(5==e){E=HEAP32[i+8>>2]+24,A=H,H=A+1,A=(255&HEAPU8[A])<<E,P-=8-HEAP32[i+8>>2];i:for(;0<(0|P);)E-=8,r=H,H=r+1,A|=(255&HEAPU8[r])<<E,P-=8}else 9==e&&(A=0);while(0)}while(0);return A}function _h264bsdFlushBits(i,e){var A,P;return HEAP32[i+16>>2]+=e,HEAP32[i+8>>2]=7&HEAP32[i+16>>2],A=HEAPU32[i+16>>2]>>>0<=HEAP32[i+12>>2]<<3>>>0?1:2,1==A?(HEAP32[i+4>>2]=HEAP32[i>>2]+(HEAPU32[i+16>>2]>>>3),P=0):2==A&&(P=-1),P}function _h264bsdIsByteAligned(i){var e,i=0!=(0|HEAP32[i+8>>2])?2:1;return 2==i?e=0:1==i&&(e=1),e}function _ProcessResidual(i,e,A){var P,E,H,r,o,f,t;r=e+1536,o=e,f=i+28,P=1==(0|_h264bsdMbPartPredMode(HEAP32[i>>2]))?1:14;i:do if(1==P)for(P=0!=HEAP16[f+48>>1]<<16>>16?2:3,2==P&&_h264bsdProcessLumaDc(r,HEAP32[i+20>>2]),t=_dcCoeffIndex,H=16;;){P=H,H=P-1,P=0!=(0|P)?5:13;do if(5==P){P=t,t=P+4,HEAP32[o>>2]=HEAP32[r+(HEAP32[P>>2]<<2)>>2],P=0!=(0|HEAP32[o>>2])?7:6;e:do if(6==P){if(0!=(HEAP16[f>>1]<<16>>16|0)){P=7;break e}HEAP32[o>>2]=16777215,P=11;break e}while(0);do if(7==P){P=0!=(0|_h264bsdProcessBlock(o,HEAP32[i+20>>2],1,HEAP32[A>>2]))?8:9;do if(8==P){E=1,P=38;break i}while(0)}while(0);o+=64,f+=2,A+=4}else if(13==P){P=24;break i}while(0)}else if(14==P)for(H=16;;){P=H,H=P-1,P=0!=(0|P)?16:23;do if(16==P){P=0!=HEAP16[f>>1]<<16>>16?17:20;do if(17==P){P=0!=(0|_h264bsdProcessBlock(o,HEAP32[i+20>>2],0,HEAP32[A>>2]))?18:19;do if(18==P){E=1,P=38;break i}while(0)}else 20==P&&(HEAP32[o>>2]=16777215);while(0);o+=64,f+=2,A+=4}else if(23==P){P=24;break i}while(0)}while(0);i:do if(24==P){H=_clip(0,51,HEAP32[i+20>>2]+HEAP32[i+24>>2]),r=HEAP32[_h264bsdQpC+(H<<2)>>2],P=0!=(HEAP16[i+78>>1]<<16>>16|0)?26:25;e:do if(25==P){P=0!=(HEAP16[i+80>>1]<<16>>16|0)?26:27;break e}while(0);for(26==P&&_h264bsdProcessChromaDc(e+1600,r),t=e+1600,H=8;;){P=H,H=P-1,P=0!=(0|P)?29:37;do if(29==P){P=t,t=P+4,HEAP32[o>>2]=HEAP32[P>>2],P=0!=(0|HEAP32[o>>2])?31:30;e:do if(30==P){if(0!=(HEAP16[f>>1]<<16>>16|0)){P=31;break e}HEAP32[o>>2]=16777215,P=35;break e}while(0);do if(31==P){P=0!=(0|_h264bsdProcessBlock(o,r,1,HEAP32[A>>2]))?32:33;do if(32==P){E=1;break i}while(0)}while(0);o+=64,f+=2,A+=4}else if(37==P){E=0;break i}while(0)}}while(0);return E}function _DetermineNc(i,e,A){var P,E,H,r,o;E=_h264bsdNeighbour4x4BlockA(e),H=_h264bsdNeighbour4x4BlockB(e),r=HEAP8[E+4],o=HEAP8[H+4],e=4==(0|HEAP32[E>>2])?1:3;i:do if(1==e){if(4!=(0|HEAP32[H>>2])){e=3;break i}P=(HEAP16[A+((255&r)<<1)>>1]<<16>>16)+(HEAP16[A+((255&o)<<1)>>1]<<16>>16)+1>>1,e=21;break i}while(0);return 3==e&&(e=4==(0|HEAP32[E>>2])?4:7,4==e?(P=HEAP16[A+((255&r)<<1)>>1]<<16>>16,e=0!=(0|_h264bsdIsNeighbourAvailable(i,HEAP32[i+204>>2]))?5:6,5==e&&(P=P+(HEAP16[HEAP32[i+204>>2]+28+((255&o)<<1)>>1]<<16>>16)+1>>1)):7==e&&(e=4==(0|HEAP32[H>>2])?8:11,8==e?(P=HEAP16[A+((255&o)<<1)>>1]<<16>>16,e=0!=(0|_h264bsdIsNeighbourAvailable(i,HEAP32[i+200>>2]))?9:10,9==e&&(P=P+(HEAP16[HEAP32[i+200>>2]+28+((255&r)<<1)>>1]<<16>>16)+1>>1)):11==e&&(P=A=0,e=0!=(0|_h264bsdIsNeighbourAvailable(i,HEAP32[i+200>>2]))?12:13,12==e&&(P=HEAP16[HEAP32[i+200>>2]+28+((255&r)<<1)>>1]<<16>>16,A=1),e=0!=(0|_h264bsdIsNeighbourAvailable(i,HEAP32[i+204>>2]))?14:18,14==e&&(e=0!=(0|A)?15:16,15==e?P=P+(HEAP16[HEAP32[i+204>>2]+28+((255&o)<<1)>>1]<<16>>16)+1>>1:16==e&&(P=HEAP16[HEAP32[i+204>>2]+28+((255&o)<<1)>>1]<<16>>16))))),P}function _h264bsdGetBits(i,e){var A,P,E;return E=_h264bsdShowBits32(i)>>>(32-e>>>0),A=0==(0|_h264bsdFlushBits(i,e))?1:2,1==A?P=E:2==A&&(P=-1),P}function _h264bsdDecodeExpGolombUnsigned(i,e){var A,P,E,H;E=_h264bsdShowBits32(i),A=2147483648<=E>>>0?1:2;i:do if(1==A)_h264bsdFlushBits(i,1),P=HEAP32[e>>2]=0;else if(2==A){A=1073741824<=E>>>0?3:6;do if(3==A)A=-1==(0|_h264bsdFlushBits(i,3))?4:5,4==A?P=1:5==A&&(HEAP32[e>>2]=(E>>>29&1)+1,P=0);else if(6==A){A=536870912<=E>>>0?7:10;do if(7==A)A=-1==(0|_h264bsdFlushBits(i,5))?8:9,8==A?P=1:9==A&&(HEAP32[e>>2]=(E>>>27&3)+3,P=0);else if(10==A){A=268435456<=E>>>0?11:14;do if(11==A)A=-1==(0|_h264bsdFlushBits(i,7))?12:13,12==A?P=1:13==A&&(HEAP32[e>>2]=(E>>>25&7)+7,P=0);else if(14==A){H=_h264bsdCountLeadingZeros(E,28)+4,A=32==(0|H)?15:25;do if(15==A){HEAP32[e>>2]=0,_h264bsdFlushBits(i,32),E=_h264bsdGetBits(i,1),A=1==(0|E)?16:24;do if(16==A){E=_h264bsdShowBits32(i),A=-1==(0|_h264bsdFlushBits(i,32))?17:18;do{if(17==A){P=1;break i}if(18==A){A=0==(0|E)?19:20;do{if(19==A){HEAP32[e>>2]=-1,P=0;break i}if(20==A){A=1==(0|E)?21:22;do if(21==A){HEAP32[e>>2]=-1,P=1;break i}while(0)}}while(0)}}while(0)}while(0);P=1}else 25==A&&(_h264bsdFlushBits(i,H+1),E=_h264bsdGetBits(i,H),A=-1==(0|E)?27:28,27==A?P=1:28==A&&(HEAP32[e>>2]=(1<<H)-1+E,P=0));while(0)}while(0)}while(0)}while(0)}while(0);return P}function _h264bsdDecodeExpGolombSigned(i,e){var A=STACKTOP;STACKTOP+=4;var P,E,H;if(HEAP32[A>>2]=0,H=_h264bsdDecodeExpGolombUnsigned(i,A),P=-1==(0|HEAP32[A>>2])?1:4,1==P)P=0==(0|H)?2:3,2==P?E=1:3==P&&(HEAP32[e>>2]=-2147483648,E=0);else if(4==P)if(P=0==(0|H)?5:9,5==P){if(P=0!=(1&HEAP32[A>>2]|0)?6:7,6==P)var r=HEAP32[A>>2]+1>>>1;else 7==P&&(r=-(HEAP32[A>>2]+1>>>1));HEAP32[e>>2]=r,E=0}else 9==P&&(E=1);return STACKTOP=A,E}function _h264bsdDecodeExpGolombMapped(i,e,A){var P=STACKTOP;STACKTOP+=4;var E,i=0!=(0|_h264bsdDecodeExpGolombUnsigned(i,P))?1:2;return 1==i?E=1:2==i&&(i=47<HEAPU32[P>>2]>>>0?3:4,3==i?E=1:4==i&&(i=0!=(0|A)?5:6,5==i?HEAP32[e>>2]=255&HEAPU8[_codedBlockPatternIntra4x4+HEAP32[P>>2]]:6==i&&(HEAP32[e>>2]=255&HEAPU8[_codedBlockPatternInter+HEAP32[P>>2]]),E=0)),STACKTOP=P,E}function _h264bsdDecodeExpGolombTruncated(i,e,A){var P,A=0!=(0|A)?1:2;return 1==A?P=_h264bsdDecodeExpGolombUnsigned(i,e):2==A&&(i=_h264bsdGetBits(i,1),HEAP32[e>>2]=i,A=-1==(0|HEAP32[e>>2])?3:4,3==A?P=1:4==A&&(HEAP32[e>>2]^=1,P=0)),P}function _DecodeCoeffToken(i,e){var A,P;return A=2>e>>>0?1:14,1==A?(A=32768<=i>>>0?2:3,2==A?P=1:3==A&&(A=3072<=i>>>0?4:5,4==A?P=65535&HEAPU16[_coeffToken0_0+(i>>>10<<1)>>1]:5==A&&(A=256<=i>>>0?6:7,6==A?P=65535&HEAPU16[_coeffToken0_1+(i>>>6<<1)>>1]:7==A&&(A=32<=i>>>0?8:9,8==A?P=65535&HEAPU16[_coeffToken0_2+((i>>>2)-8<<1)>>1]:9==A&&(P=65535&HEAPU16[_coeffToken0_3+(i<<1)>>1]))))):14==A&&(A=4>e>>>0?15:25,15==A?(A=32768<=i>>>0?16:17,16==A?P=0!=(16384&i|0)?2:2082:17==A&&(A=4096<=i>>>0?18:19,18==A?P=65535&HEAPU16[_coeffToken2_0+(i>>>10<<1)>>1]:19==A&&(A=512<=i>>>0?20:21,20==A?P=65535&HEAPU16[_coeffToken2_1+(i>>>7<<1)>>1]:21==A&&(P=65535&HEAPU16[_coeffToken2_2+(i>>>2<<1)>>1])))):25==A&&(A=8>e>>>0?26:29,26==A?(P=65535&HEAPU16[_coeffToken4_0+(i>>>10<<1)>>1],27==(0!=(0|P)?28:27)&&(P=65535&HEAPU16[_coeffToken4_1+(i>>>6<<1)>>1])):29==A&&(A=16>=e>>>0?30:31,30==A?P=65535&HEAPU16[_coeffToken8+(i>>>10<<1)>>1]:31==A&&(P=65535&HEAPU16[_coeffTokenMinus1_0+(i>>>13<<1)>>1],32==(0!=(0|P)?33:32)&&(P=65535&HEAPU16[_coeffTokenMinus1_1+(i>>>8<<1)>>1]))))),P}function _h264bsdDecodeResidualBlockCavlc(i,e,A,P){var E=STACKTOP;STACKTOP+=128;var H,r,o,f,t,a,d,n,l,s,_,b,h=E+64;b=32,_=_h264bsdShowBits32(i),H=16>b>>>0?1:4;i:do if(1==H){H=-1==(0|_h264bsdFlushBits(i,32-b))?2:3;do{if(2==H){r=1,H=92;break i}if(3==H){_=_h264bsdShowBits32(i),b=32,H=4;break i}}while(0)}while(0);i:do if(4==H){n=_>>>16,f=_DecodeCoeffToken(n,A),H=0!=(0|f)?6:5;do if(6==H){_<<=31&f,b-=31&f,t=f>>>11&31,H=t>>>0>P>>>0?7:8;do if(7==H)r=1;else if(8==H){a=f>>>5&63,H=0!=(0|t)?9:88;do if(9==H){o=0,H=0!=(0|a)?10:19;do if(10==H){H=b>>>0<a>>>0?11:14;do if(11==H){H=-1==(0|_h264bsdFlushBits(i,32-b))?12:13;do{if(12==H){r=1;break i}13==H&&(_=_h264bsdShowBits32(i),b=32)}while(0)}while(0);n=_>>>(32-a>>>0),_<<=a,b-=a,f=1<<a-1;e:for(;0!=(0|f);)HEAP32[E+(o<<2)>>2]=0!=(n&f|0)?-1:1,f>>>=1,o+=1}while(0);H=10<t>>>0?20:22;e:do if(20==H){if(!(3>a>>>0)){H=22;break e}d=1,H=23;break e}while(0);22==H&&(d=0);e:for(;o>>>0<t>>>0;){H=16>b>>>0?26:29;do if(26==H){H=-1==(0|_h264bsdFlushBits(i,32-b))?27:28;do{if(27==H){r=1;break i}28==H&&(_=_h264bsdShowBits32(i),b=32)}while(0)}while(0);n=_>>>16,n=_DecodeLevelPrefix(n),H=-2==(0|n)?30:31;do{if(30==H){r=1;break i}if(31==H){if(_<<=n+1,b-=n+1,H=14>n>>>0?32:33,32==H)f=d;else if(33==H)if(H=14==(0|n)?34:38,34==H){if(H=0!=(0|d)?35:36,35==H)var c=d;else 36==H&&(c=4);f=c}else 38==H&&(H=0!=(0|d)?40:39,39==H&&(d=1),f=12);H=0!=(0|d)?43:44,43==H&&(n<<=d),H=0!=(0|f)?45:50;do if(45==H){H=b>>>0<f>>>0?46:49;do if(46==H){H=-1==(0|_h264bsdFlushBits(i,32-b))?47:48;do{if(47==H){r=1;break i}48==H&&(_=_h264bsdShowBits32(i),b=32)}while(0)}while(0);l=_>>>(32-f>>>0),_<<=f,b-=f,n+=l}while(0);f=n,H=(0|o)==(0|a)?51:53;A:do if(51==H){if(!(3>a>>>0))break A;f+=2}while(0);HEAP32[E+(o<<2)>>2]=f+2>>>1,H=0==(0|d)?54:55,54==H&&(d=1),H=(0|HEAP32[E+(o<<2)>>2])>(3<<d-1|0)?56:58;A:do if(56==H){if(!(6>d>>>0))break A;d+=1}while(0);H=0!=(1&f|0)?59:60,59==H&&(HEAP32[E+(o<<2)>>2]=-HEAP32[E+(o<<2)>>2]),o+=1}}while(0)}H=t>>>0<P>>>0?63:70;do if(63==H){H=9>b>>>0?64:67;do if(64==H){H=-1==(0|_h264bsdFlushBits(i,32-b))?65:66;do{if(65==H){r=1;break i}66==H&&(_=_h264bsdShowBits32(i),b=32)}while(0)}while(0);n=_>>>23,s=_DecodeTotalZeros(n,t,4==(0|P)&1),H=0!=(0|s)?69:68;do if(69==H)_<<=15&s,b-=15&s,s=s>>>4&15;else if(68==H){r=1;break i}while(0)}else 70==H&&(s=0);while(0);o=0;e:for(;o>>>0<t-1>>>0;){H=0<s>>>0?74:81;do if(74==H){H=11>b>>>0?75:78;do if(75==H){H=-1==(0|_h264bsdFlushBits(i,32-b))?76:77;do{if(76==H){r=1;break i}77==H&&(_=_h264bsdShowBits32(i),b=32)}while(0)}while(0);n=_>>>21,f=_DecodeRunBefore(n,s),H=0!=(0|f)?80:79;do if(80==H)_<<=15&f,b-=15&f,HEAP32[h+(o<<2)>>2]=f>>>4&15,l=HEAP32[h+(o<<2)>>2],HEAP32[h+(o<<2)>>2]=l+1,s-=l;else if(79==H){r=1;break i}while(0)}else 81==H&&(HEAP32[h+(o<<2)>>2]=1);while(0);o+=1}f=s,HEAP32[e+(f<<2)>>2]=HEAP32[E+(t-1<<2)>>2],l=1<<f,o=t-1;e:for(;n=o,o=n-1,0!=(0|n);)f+=HEAP32[h+(o<<2)>>2],l|=1<<f,HEAP32[e+(f<<2)>>2]=HEAP32[E+(o<<2)>>2]}else 88==H&&(l=0);while(0);H=0!=(0|_h264bsdFlushBits(i,32-b))?90:91,90==H?r=1:91==H&&(r=t<<4|l<<16)}while(0)}else 5==H&&(r=1);while(0)}while(0);return STACKTOP=E,r}function _DecodeLevelPrefix(i){var e,A,P;e=32768<=i>>>0?1:2;i:do{if(1==e){P=0,e=48;break i}if(2==e){e=16384<=i>>>0?3:4;do if(3==e)P=1;else if(4==e){e=8192<=i>>>0?5:6;do if(5==e)P=2;else if(6==e){e=4096<=i>>>0?7:8;do if(7==e)P=3;else if(8==e){e=2048<=i>>>0?9:10;do if(9==e)P=4;else if(10==e){e=1024<=i>>>0?11:12;do if(11==e)P=5;else if(12==e){e=512<=i>>>0?13:14;do if(13==e)P=6;else if(14==e){e=256<=i>>>0?15:16;do if(15==e)P=7;else if(16==e){e=128<=i>>>0?17:18;do if(17==e)P=8;else if(18==e){e=64<=i>>>0?19:20;do if(19==e)P=9;else if(20==e){e=32<=i>>>0?21:22;do if(21==e)P=10;else if(22==e){e=16<=i>>>0?23:24;do if(23==e)P=11;else if(24==e){e=8<=i>>>0?25:26;do if(25==e)P=12;else if(26==e){e=4<=i>>>0?27:28;do if(27==e)P=13;else if(28==e){e=2<=i>>>0?29:30;do if(29==e)P=14;else if(30==e){e=1<=i>>>0?31:32;do if(31==e)P=15;else if(32==e){A=-2,e=49;break i}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0);e=48;break i}}while(0);return 48==e&&(A=P),A}function _DecodeTotalZeros(i,e,A){var P;return P=0,A=0!=(0|A)?20:1,20==A?(i>>>=6,A=3<i>>>0?21:22,21==A?P=1:22==A&&(A=3==(0|e)?23:24,23==A?P=17:24==A&&(A=1<i>>>0?25:26,25==A?P=18:26==A&&(A=2==(0|e)?27:28,27==A?P=34:28==A&&(A=0!=(0|i)?29:30,29==A?P=35:30==A&&(P=51)))))):1==A&&(A=1==e?2:2==e?5:3==e?6:4==e?7:5==e?8:6==e?9:7==e?10:8==e?11:9==e?12:10==e?13:11==e?14:12==e?15:13==e?16:14==e?17:18,18==A?P=0!=(i>>>8|0)?17:1:2==A?(P=255&HEAPU8[_totalZeros_1_0+(i>>>4)],3==(0!=(0|P)?4:3)&&(P=255&HEAPU8[_totalZeros_1_1+i])):5==A?P=255&HEAPU8[_totalZeros_2+(i>>>3)]:6==A?P=255&HEAPU8[_totalZeros_3+(i>>>3)]:7==A?P=255&HEAPU8[_totalZeros_4+(i>>>4)]:8==A?P=255&HEAPU8[_totalZeros_5+(i>>>4)]:9==A?P=255&HEAPU8[_totalZeros_6+(i>>>3)]:10==A?P=255&HEAPU8[_totalZeros_7+(i>>>3)]:11==A?P=255&HEAPU8[_totalZeros_8+(i>>>3)]:12==A?P=255&HEAPU8[_totalZeros_9+(i>>>3)]:13==A?P=255&HEAPU8[_totalZeros_10+(i>>>4)]:14==A?P=255&HEAPU8[_totalZeros_11+(i>>>5)]:15==A?P=255&HEAPU8[_totalZeros_12+(i>>>5)]:16==A?P=255&HEAPU8[_totalZeros_13+(i>>>6)]:17==A&&(P=255&HEAPU8[_totalZeros_14+(i>>>7)])),
P}function _DecodeRunBefore(i,e){var A,P;return P=0,A=1==e?1:2==e?2:3==e?3:4==e?4:5==e?5:6==e?6:7,7==A?(A=256<=i>>>0?8:9,8==A?P=(7-(i>>>8)<<4)+3:9==A&&(A=128<=i>>>0?10:11,10==A?P=116:11==A&&(A=64<=i>>>0?12:13,12==A?P=133:13==A&&(A=32<=i>>>0?14:15,14==A?P=150:15==A&&(A=16<=i>>>0?16:17,16==A?P=167:17==A&&(A=8<=i>>>0?18:19,18==A?P=184:19==A&&(A=4<=i>>>0?20:21,20==A?P=201:21==A&&(A=2<=i>>>0?22:23,22==A?P=218:23==A&&24==(0!=(0|i)?24:25)&&(P=235)))))))),34==((P>>>4&15)>>>0>e>>>0?34:35)&&(P=0)):1==A?P=255&HEAPU8[_runBefore_1+(i>>>10)]:2==A?P=255&HEAPU8[_runBefore_2+(i>>>9)]:3==A?P=255&HEAPU8[_runBefore_3+(i>>>9)]:4==A?P=255&HEAPU8[_runBefore_4+(i>>>8)]:5==A?P=255&HEAPU8[_runBefore_5+(i>>>8)]:6==A&&(P=255&HEAPU8[_runBefore_6+(i>>>8)]),P}function _h264bsdInitMbNeighbours(i,e,A){var P,E,H,r;E=H=r=0;i:for(;E>>>0<A>>>0;){P=0!=(0|r)?3:4,3==P?HEAP32[i+216*E+200>>2]=i+216*E-216:4==P&&(HEAP32[i+216*E+200>>2]=0),P=0!=(0|H)?6:7,6==P?HEAP32[i+216*E+204>>2]=i+216*E+216*-e:7==P&&(HEAP32[i+216*E+204>>2]=0),P=0!=(0|H)?9:11;e:do if(9==P){if(!(r>>>0<e-1>>>0)){P=11;break e}HEAP32[i+216*E+208>>2]=i+216*E+216*-(e-1),P=12;break e}while(0);11==P&&(HEAP32[i+216*E+208>>2]=0),P=0!=(0|H)?13:15;e:do if(13==P){if(0==(0|r)){P=15;break e}HEAP32[i+216*E+212>>2]=i+216*E+216*-(e+1),P=16;break e}while(0);15==P&&(HEAP32[i+216*E+212>>2]=0),r+=1,P=(0|r)==(0|e)?17:18,17==P&&(r=0,H+=1),E+=1}}function _h264bsdDecodeNalUnit(i,e){var A,P,E;E=_h264bsdGetBits(i,1),A=-1==(0|E)?1:2;i:do if(1==A)P=1;else if(2==A){E=_h264bsdGetBits(i,2),HEAP32[e+4>>2]=E,E=_h264bsdGetBits(i,5),HEAP32[e>>2]=E,A=2==(0|E)?5:3;e:do if(3==A){if(3==(0|E))break e;if(4==(0|E))break e;A=7==(0|E)?9:7;A:do if(7==A){if(8==(0|E)){A=9;break A}A=5==(0|E)?9:11;break A}while(0);A:do if(9==A){if(0!=(0|HEAP32[e+4>>2]))break A;P=1;break i}while(0);A=6==(0|E)?16:12;A:do if(12==A){if(9==(0|E)){A=16;break A}if(10==(0|E)){A=16;break A}if(11==(0|E)){A=16;break A}A=12==(0|E)?16:18;break A}while(0);A:do if(16==A){if(0==(0|HEAP32[e+4>>2]))break A;P=1;break i}while(0);P=0;break i}while(0);P=1}while(0);return P}function _h264bsdGetNeighbourMb(i,e){var A,P;return A=0==(0|e)?1:2,1==A?P=HEAP32[i+200>>2]:2==A&&(A=1==(0|e)?3:4,3==A?P=HEAP32[i+204>>2]:4==A&&(A=2==(0|e)?5:6,5==A?P=HEAP32[i+208>>2]:6==A&&(A=3==(0|e)?7:8,7==A?P=HEAP32[i+212>>2]:8==A&&(A=4==(0|e)?9:10,9==A?P=i:10==A&&(P=0))))),P}function _h264bsdNeighbour4x4BlockA(i){return _N_A_4x4B+(i<<3)}function _h264bsdNeighbour4x4BlockB(i){return _N_B_4x4B+(i<<3)}function _h264bsdNeighbour4x4BlockC(i){return _N_C_4x4B+(i<<3)}function _h264bsdNeighbour4x4BlockD(i){return _N_D_4x4B+(i<<3)}function _h264bsdIsNeighbourAvailable(i,e){var A,P;A=0==(0|e)?2:1;i:do if(1==A){if((0|HEAP32[i+4>>2])!=(0|HEAP32[e+4>>2])){A=2;break i}P=1,A=4;break i}while(0);return 2==A&&(P=0),P}function _h264bsdInitStorage(i){_H264SwDecMemset(i,0,3388),HEAP32[i+8>>2]=32,HEAP32[i+4>>2]=256,HEAP32[i+1332>>2]=1}function _h264bsdStoreSeqParamSet(i,e){var A,P,E;E=HEAP32[e+8>>2],A=0==(0|HEAP32[i+20+(E<<2)>>2])?1:4;i:do if(1==A){A=_H264SwDecMalloc(92),HEAP32[i+20+(E<<2)>>2]=A,A=0==(0|HEAP32[i+20+(E<<2)>>2])?2:3;do{if(2==A){P=65535,A=12;break i}if(3==A){A=11;break i}}while(0)}else if(4==A){A=(0|E)==(0|HEAP32[i+8>>2])?5:9;do if(5==A){A=0!=(0|_h264bsdCompareSeqParamSets(e,HEAP32[i+16>>2]))?6:7;do if(6==A)_H264SwDecFree(HEAP32[HEAP32[i+20+(E<<2)>>2]+40>>2]),HEAP32[HEAP32[i+20+(E<<2)>>2]+40>>2]=0,_H264SwDecFree(HEAP32[HEAP32[i+20+(E<<2)>>2]+84>>2]),HEAP32[HEAP32[i+20+(E<<2)>>2]+84>>2]=0,HEAP32[i+8>>2]=33,HEAP32[i+4>>2]=257,HEAP32[i+16>>2]=0,HEAP32[i+12>>2]=0;else if(7==A){_H264SwDecFree(HEAP32[e+40>>2]),HEAP32[e+40>>2]=0,_H264SwDecFree(HEAP32[e+84>>2]),P=HEAP32[e+84>>2]=0,A=12;break i}while(0)}else 9==A&&(_H264SwDecFree(HEAP32[HEAP32[i+20+(E<<2)>>2]+40>>2]),HEAP32[HEAP32[i+20+(E<<2)>>2]+40>>2]=0,_H264SwDecFree(HEAP32[HEAP32[i+20+(E<<2)>>2]+84>>2]),HEAP32[HEAP32[i+20+(E<<2)>>2]+84>>2]=0);while(0);A=11;break i}while(0);if(11==A){E=HEAP32[i+20+(E<<2)>>2];var H;if(P=e,A=P+92,E%4==P%4){for(;0!==P%4&&P<A;)HEAP8[E++]=HEAP8[P++];for(P>>=2,E>>=2,H=A>>2;P<H;)HEAP32[E++]=HEAP32[P++];P<<=2,E<<=2}for(;P<A;)HEAP8[E++]=HEAP8[P++];P=0}return P}function _h264bsdStorePicParamSet(i,e){var A,P,E;E=HEAP32[e>>2],A=0==(0|HEAP32[i+148+(E<<2)>>2])?1:4;i:do if(1==A){A=_H264SwDecMalloc(72),HEAP32[i+148+(E<<2)>>2]=A,A=0==(0|HEAP32[i+148+(E<<2)>>2])?2:3;do{if(2==A){P=65535,A=11;break i}if(3==A){A=10;break i}}while(0)}else if(4==A){A=(0|E)==(0|HEAP32[i+4>>2])?5:8,5==A?(A=(0|HEAP32[e+4>>2])!=(0|HEAP32[i+8>>2])?6:7,6==A&&(HEAP32[i+4>>2]=257),_H264SwDecFree(HEAP32[HEAP32[i+148+(E<<2)>>2]+20>>2]),HEAP32[HEAP32[i+148+(E<<2)>>2]+20>>2]=0,_H264SwDecFree(HEAP32[HEAP32[i+148+(E<<2)>>2]+24>>2]),HEAP32[HEAP32[i+148+(E<<2)>>2]+24>>2]=0,_H264SwDecFree(HEAP32[HEAP32[i+148+(E<<2)>>2]+28>>2]),HEAP32[HEAP32[i+148+(E<<2)>>2]+28>>2]=0,_H264SwDecFree(HEAP32[HEAP32[i+148+(E<<2)>>2]+44>>2]),HEAP32[HEAP32[i+148+(E<<2)>>2]+44>>2]=0):8==A&&(_H264SwDecFree(HEAP32[HEAP32[i+148+(E<<2)>>2]+20>>2]),HEAP32[HEAP32[i+148+(E<<2)>>2]+20>>2]=0,_H264SwDecFree(HEAP32[HEAP32[i+148+(E<<2)>>2]+24>>2]),HEAP32[HEAP32[i+148+(E<<2)>>2]+24>>2]=0,_H264SwDecFree(HEAP32[HEAP32[i+148+(E<<2)>>2]+28>>2]),HEAP32[HEAP32[i+148+(E<<2)>>2]+28>>2]=0,_H264SwDecFree(HEAP32[HEAP32[i+148+(E<<2)>>2]+44>>2]),HEAP32[HEAP32[i+148+(E<<2)>>2]+44>>2]=0),A=10;break i}while(0);if(10==A){E=HEAP32[i+148+(E<<2)>>2];var H;if(P=e,A=P+72,E%4==P%4){for(;0!==P%4&&P<A;)HEAP8[E++]=HEAP8[P++];for(P>>=2,E>>=2,H=A>>2;P<H;)HEAP32[E++]=HEAP32[P++];P<<=2,E<<=2}for(;P<A;)HEAP8[E++]=HEAP8[P++];P=0}return P}function _CheckPps(i,e){var A,P,E,H;H=HEAP32[e+52>>2]*HEAP32[e+56>>2],A=1<HEAPU32[i+12>>2]>>>0?1:32;i:do if(1==A){A=0==(0|HEAP32[i+16>>2])?2:9;e:do if(2==A)for(E=0;;){A=E>>>0<HEAPU32[i+12>>2]>>>0?4:8;do if(4==A){A=HEAPU32[HEAP32[i+20>>2]+(E<<2)>>2]>>>0>H>>>0?5:6;do{if(5==A){P=1,A=33;break i}6==A&&(E+=1)}while(0)}else if(8==A)break e;while(0)}else if(9==A){A=2==(0|HEAP32[i+16>>2])?10:20;A:do if(10==A){E=0;P:for(;;){A=E>>>0<HEAP32[i+12>>2]-1>>>0?12:19;do{if(12==A){A=HEAPU32[HEAP32[i+24>>2]+(E<<2)>>2]>>>0>HEAPU32[HEAP32[i+28>>2]+(E<<2)>>2]>>>0?14:13;E:do if(13==A){if(HEAPU32[HEAP32[i+28>>2]+(E<<2)>>2]>>>0>=H>>>0)break E;A=(HEAPU32[HEAP32[i+24>>2]+(E<<2)>>2]>>>0)%(HEAPU32[e+52>>2]>>>0)>>>0>(HEAPU32[HEAP32[i+28>>2]+(E<<2)>>2]>>>0)%(HEAPU32[e+52>>2]>>>0)>>>0?16:17;do{if(16==A){P=1,A=33;break i}if(17==A){E+=1;continue P}}while(0)}while(0);P=1,A=33;break i}if(19==A)break A}while(0)}}else if(20==A){A=2<HEAPU32[i+16>>2]>>>0?21:25;P:do if(21==A){if(!(6>HEAPU32[i+16>>2]>>>0)){A=25;break P}A=HEAPU32[i+36>>2]>>>0>H>>>0?23:24;do{if(23==A){P=1,A=33;break i}if(24==A){A=29;break P}}while(0)}while(0);do if(25==A){A=6==(0|HEAP32[i+16>>2])?26:28;P:do if(26==A){if(!(HEAPU32[i+40>>2]>>>0<H>>>0))break P;P=1,A=33;break i}while(0)}while(0)}while(0)}while(0);A=32;break i}while(0);return 32==A&&(P=0),P}function _h264bsdResetStorage(i){var e;HEAP32[i+1196>>2]=0,e=HEAP32[i+1192>>2]=0;i:for(;e>>>0<HEAPU32[i+1176>>2]>>>0;)HEAP32[HEAP32[i+1212>>2]+216*e+4>>2]=0,HEAP32[HEAP32[i+1212>>2]+216*e+196>>2]=0,e+=1}function _h264bsdIsStartOfPicture(i){var e,i=0==(0|HEAP32[i+1188>>2])?1:2;return 1==i?e=1:2==i&&(e=0),e}function _h264bsdIsEndOfPicture(i){var e,A,P;e=0!=(0|HEAP32[i+1404>>2])?4:1;i:do if(4==e){P=e=0;e:for(;e>>>0<HEAPU32[i+1176>>2]>>>0;)P+=0!=(0|HEAP32[HEAP32[i+1212>>2]+216*e+196>>2])?1:0,e+=1;e=(0|P)==(0|HEAP32[i+1176>>2])?9:10;do{if(9==e){A=1,e=12;break i}if(10==e){e=11;break i}}while(0)}else if(1==e){e=(0|HEAP32[i+1196>>2])==(0|HEAP32[i+1176>>2])?2:3;do{if(2==e){A=1,e=12;break i}if(3==e){e=11;break i}}while(0)}while(0);return 11==e&&(A=0),A}function _h264bsdComputeSliceGroupMap(i,e){_h264bsdDecodeSliceGroupMap(HEAP32[i+1172>>2],HEAP32[i+12>>2],e,HEAP32[HEAP32[i+16>>2]+52>>2],HEAP32[HEAP32[i+16>>2]+56>>2])}function _h264bsdActivateParamSets(i,e,A){var P,E,H,r;P=0==(0|HEAP32[i+148+(e<<2)>>2])?2:1;i:do if(1==P){if(0==(0|HEAP32[i+20+(HEAP32[HEAP32[i+148+(e<<2)>>2]+4>>2]<<2)>>2])){P=2;break i}H=_CheckPps(HEAP32[i+148+(e<<2)>>2],HEAP32[i+20+(HEAP32[HEAP32[i+148+(e<<2)>>2]+4>>2]<<2)>>2]),P=0!=(0|H)?4:5;do{if(4==P){E=H,P=32;break i}if(5==P){P=256==(0|HEAP32[i+4>>2])?6:7;do if(6==P)HEAP32[i+4>>2]=e,HEAP32[i+12>>2]=HEAP32[i+148+(e<<2)>>2],HEAP32[i+8>>2]=HEAP32[HEAP32[i+12>>2]+4>>2],HEAP32[i+16>>2]=HEAP32[i+20+(HEAP32[i+8>>2]<<2)>>2],HEAP32[i+1176>>2]=HEAP32[HEAP32[i+16>>2]+52>>2]*HEAP32[HEAP32[i+16>>2]+56>>2],HEAP32[i+1340>>2]=HEAP32[HEAP32[i+16>>2]+52>>2],HEAP32[i+1344>>2]=HEAP32[HEAP32[i+16>>2]+56>>2],HEAP32[i+3380>>2]=1;else if(7==P){P=0!=(0|HEAP32[i+3380>>2])?8:21;e:do{if(8==P){HEAP32[i+3380>>2]=0,_H264SwDecFree(HEAP32[i+1212>>2]),HEAP32[i+1212>>2]=0,_H264SwDecFree(HEAP32[i+1172>>2]),HEAP32[i+1172>>2]=0,P=_H264SwDecMalloc(216*HEAP32[i+1176>>2]),HEAP32[i+1212>>2]=P,P=_H264SwDecMalloc(HEAP32[i+1176>>2]<<2),HEAP32[i+1172>>2]=P,P=0==(0|HEAP32[i+1212>>2])?10:9;A:do if(9==P){if(0==(0|HEAP32[i+1172>>2]))break A;_H264SwDecMemset(HEAP32[i+1212>>2],0,216*HEAP32[i+1176>>2]),_h264bsdInitMbNeighbours(HEAP32[i+1212>>2],HEAP32[HEAP32[i+16>>2]+52>>2],HEAP32[i+1176>>2]),P=0!=(0|HEAP32[i+1216>>2])?16:12;P:do if(12==P){if(2==(0|HEAP32[HEAP32[i+16>>2]+16>>2])){P=16;break P}P=0!=(0|HEAP32[HEAP32[i+16>>2]+80>>2])?14:17;E:do if(14==P){if(0==(0|HEAP32[HEAP32[HEAP32[i+16>>2]+84>>2]+920>>2]))break E;if(0==(0|HEAP32[HEAP32[HEAP32[i+16>>2]+84>>2]+944>>2])){P=16;break P}}while(0);r=0,P=18;break P}while(0);16==P&&(r=1),H=_h264bsdResetDpb(i+1220,HEAP32[HEAP32[i+16>>2]+52>>2]*HEAP32[HEAP32[i+16>>2]+56>>2],HEAP32[HEAP32[i+16>>2]+88>>2],HEAP32[HEAP32[i+16>>2]+44>>2],HEAP32[HEAP32[i+16>>2]+12>>2],r),P=0!=(0|H)?19:20;do{if(19==P){E=H,P=32;break i}if(20==P)break e}while(0)}while(0);E=65535,P=32;break i}if(21==P){P=(0|e)!=(0|HEAP32[i+4>>2])?22:29;do if(22==P){P=(0|HEAP32[HEAP32[i+148+(e<<2)>>2]+4>>2])!=(0|HEAP32[i+8>>2])?23:27;do if(23==P){P=0!=(0|A)?24:25;do if(24==P)HEAP32[i+4>>2]=e,HEAP32[i+12>>2]=HEAP32[i+148+(e<<2)>>2],HEAP32[i+8>>2]=HEAP32[HEAP32[i+12>>2]+4>>2],HEAP32[i+16>>2]=HEAP32[i+20+(HEAP32[i+8>>2]<<2)>>2],HEAP32[i+1176>>2]=HEAP32[HEAP32[i+16>>2]+52>>2]*HEAP32[HEAP32[i+16>>2]+56>>2],HEAP32[i+1340>>2]=HEAP32[HEAP32[i+16>>2]+52>>2],HEAP32[i+1344>>2]=HEAP32[HEAP32[i+16>>2]+56>>2],HEAP32[i+3380>>2]=1;else if(25==P){E=1,P=32;break i}while(0)}else 27==P&&(HEAP32[i+4>>2]=e,HEAP32[i+12>>2]=HEAP32[i+148+(e<<2)>>2]);while(0)}while(0)}}while(0)}while(0);E=0,P=32;break i}}while(0)}while(0);return 2==P&&(E=1),E}function _h264bsdDecodeSliceGroupMap(i,e,A,P,E){var H,r,o,f,t;t=f=0,o=P*E,H=1==(0|HEAP32[e+12>>2])?1:2;do if(1==H)_H264SwDecMemset(i,0,o<<2);else if(2==H){H=2<HEAPU32[e+16>>2]>>>0?3:14;i:do if(3==H){if(!(6>HEAPU32[e+16>>2]>>>0))break i;if(H=A*HEAP32[e+36>>2]>>>0<o>>>0?5:6,5==H)var a=A*HEAP32[e+36>>2];else 6==H&&(a=o);f=a,H=4==(0|HEAP32[e+16>>2])?9:8;e:do if(8==H){H=5==(0|HEAP32[e+16>>2])?9:13;break e}while(0);if(9==H){if(H=0!=(0|HEAP32[e+32>>2])?10:11,10==H)var d=o-f;else 11==H&&(d=f);t=d}}while(0);H=HEAP32[e+16>>2],H=0==H?15:1==H?16:2==H?17:3==H?18:4==H?19:5==H?20:21;do if(21==H){r=0;i:for(;r>>>0<o>>>0;)HEAP32[i+(r<<2)>>2]=HEAP32[HEAP32[e+44>>2]+(r<<2)>>2],r+=1}else 15==H?_DecodeInterleavedMap(i,HEAP32[e+12>>2],HEAP32[e+20>>2],o):16==H?_DecodeDispersedMap(i,HEAP32[e+12>>2],P,E):17==H?_DecodeForegroundLeftOverMap(i,HEAP32[e+12>>2],HEAP32[e+24>>2],HEAP32[e+28>>2],P,E):18==H?_DecodeBoxOutMap(i,HEAP32[e+32>>2],f,P,E):19==H?_DecodeRasterScanMap(i,HEAP32[e+32>>2],t,o):20==H&&_DecodeWipeMap(i,HEAP32[e+32>>2],t,P,E);while(0)}while(0)}function _DecodeInterleavedMap(i,e,A,P){var E,H,r,o;H=0;i:for(;;){o=0;e:for(;;){if(o>>>0<e>>>0)E=3;else{var f=0;E=4}if(3==E&&(f=H>>>0<P>>>0),!f)break e;r=0;A:for(;;){if(r>>>0<HEAPU32[A+(o<<2)>>2]>>>0)E=7;else{var t=0;E=8}if(7==E&&(t=H+r>>>0<P>>>0),!t)break A;HEAP32[i+(H+r<<2)>>2]=o,r+=1}E=o,o=E+1,H+=HEAP32[A+(E<<2)>>2]}if(!(H>>>0<P>>>0))break i}}function _h264bsdCheckAccessUnitBoundary(i,e,A,P){var E=STACKTOP;STACKTOP+=28;var H,r,o,f,t=E+4,a=E+8,d=E+12,n=E+16,l=E+20;HEAP32[P>>2]=0,H=5<HEAPU32[e>>2]>>>0?1:2;i:do if(1==H){H=12>HEAPU32[e>>2]>>>0?4:2;break i}while(0);i:do if(2==H){H=12<HEAPU32[e>>2]>>>0?3:5;do if(3==H&&18>=HEAPU32[e>>2]>>>0){H=4;break i}while(0);H=1!=(0|HEAP32[e>>2])?6:8;e:do if(6==H){if(5==(0|HEAP32[e>>2]))break e;r=0,H=64;break i}while(0);H=0!=(0|HEAP32[A+1332>>2])?10:11,10==H&&(HEAP32[P>>2]=1,HEAP32[A+1332>>2]=0),o=_h264bsdCheckPpsId(i,E),H=0!=(0|o)?12:13;do{if(12==H){r=o,H=64;break i}if(13==H){f=HEAP32[A+148+(HEAP32[E>>2]<<2)>>2],H=0==(0|f)?18:14;e:do if(14==H){if(0==(0|HEAP32[A+20+(HEAP32[f+4>>2]<<2)>>2]))break e;H=32!=(0|HEAP32[A+8>>2])?16:19;A:do if(16==H){if((0|HEAP32[f+4>>2])==(0|HEAP32[A+8>>2]))break A;if(5!=(0|HEAP32[e>>2]))break e}while(0);r=HEAP32[A+20+(HEAP32[f+4>>2]<<2)>>2],H=(0|HEAP32[A+1304>>2])!=(0|HEAP32[e+4>>2])?20:23;A:do if(20==H){H=0==(0|HEAP32[A+1304>>2])?22:21;do if(21==H&&0!=(0|HEAP32[e+4>>2]))break A;while(0);HEAP32[P>>2]=1}while(0);H=5==(0|HEAP32[A+1300>>2])?24:25;A:do if(24==H){H=5!=(0|HEAP32[e>>2])?27:25;break A}while(0);A:do if(25==H){if(5==(0|HEAP32[A+1300>>2])){H=28;break A}H=5==(0|HEAP32[e>>2])?27:28;break A}while(0);27==H&&(HEAP32[P>>2]=1),o=_h264bsdCheckFrameNum(i,HEAP32[r+12>>2],t),H=0!=(0|o)?29:30;do{if(29==H){r=1,H=64;break i}if(30==H){H=(0|HEAP32[A+1308>>2])!=(0|HEAP32[t>>2])?31:32,31==H&&(HEAP32[A+1308>>2]=HEAP32[t>>2],HEAP32[P>>2]=1),H=5==(0|HEAP32[e>>2])?33:39;do if(33==H){o=_h264bsdCheckIdrPicId(i,HEAP32[r+12>>2],HEAP32[e>>2],a),H=0!=(0|o)?34:35;do{if(34==H){r=1,H=64;break i}if(35==H){H=5==(0|HEAP32[A+1300>>2])?36:38;A:do if(36==H){if((0|HEAP32[A+1312>>2])==(0|HEAP32[a>>2]))break A;HEAP32[P>>2]=1}while(0);HEAP32[A+1312>>2]=HEAP32[a>>2]}}while(0)}while(0);H=0==(0|HEAP32[r+16>>2])?40:51;do if(40==H){o=_h264bsdCheckPicOrderCntLsb(i,r,HEAP32[e>>2],d),H=0!=(0|o)?41:42;do{if(41==H){r=1,H=64;break i}if(42==H){H=(0|HEAP32[A+1316>>2])!=(0|HEAP32[d>>2])?43:44,43==H&&(HEAP32[A+1316>>2]=HEAP32[d>>2],HEAP32[P>>2]=1),H=0!=(0|HEAP32[f+8>>2])?45:50;do if(45==H){o=_h264bsdCheckDeltaPicOrderCntBottom(i,r,HEAP32[e>>2],n),H=0!=(0|o)?46:47;do{if(46==H){r=o,H=64;break i}47==H&&(H=(0|HEAP32[A+1320>>2])!=(0|HEAP32[n>>2])?48:49,48==H&&(HEAP32[A+1320>>2]=HEAP32[n>>2],HEAP32[P>>2]=1))}while(0)}while(0)}}while(0)}else if(51==H){H=1==(0|HEAP32[r+16>>2])?52:62;A:do if(52==H){if(0!=(0|HEAP32[r+24>>2]))break A;o=_h264bsdCheckDeltaPicOrderCnt(i,r,HEAP32[e>>2],HEAP32[f+8>>2],l),H=0!=(0|o)?54:55;do{if(54==H){r=o,H=64;break i}55==H&&(H=(0|HEAP32[A+1324>>2])!=(0|HEAP32[l>>2])?56:57,56==H&&(HEAP32[A+1324>>2]=HEAP32[l>>2],HEAP32[P>>2]=1),H=0!=(0|HEAP32[f+8>>2])?58:61,58==H&&(H=(0|HEAP32[A+1328>>2])!=(0|HEAP32[l+4>>2])?59:60,59==H&&(HEAP32[A+1328>>2]=HEAP32[l+4>>2],HEAP32[P>>2]=1)))}while(0)}while(0)}while(0);for(i=e,A+=1300,e=i+8;i<e;)HEAP8[A++]=HEAP8[i++];r=0,H=64;break i}}while(0)}while(0);r=65520,H=64;break i}}while(0)}while(0);return 4==H&&(HEAP32[P>>2]=1,r=0),STACKTOP=E,r}function _h264bsdValidParamSets(i){var e,A,P;P=0;i:for(;;){e=256>P>>>0?2:8;do if(2==e){e=0!=(0|HEAP32[i+148+(P<<2)>>2])?3:6;e:do if(3==e){if(0==(0|HEAP32[i+20+(HEAP32[HEAP32[i+148+(P<<2)>>2]+4>>2]<<2)>>2]))break e;if(0!=(0|_CheckPps(HEAP32[i+148+(P<<2)>>2],HEAP32[i+20+(HEAP32[HEAP32[i+148+(P<<2)>>2]+4>>2]<<2)>>2])))break e;A=0;break i}while(0);P+=1}else if(8==e){A=1;break i}while(0)}return A}function _DecodeDispersedMap(i,e,A,P){var E;E=A*P,P=0;i:for(;P>>>0<E>>>0;)HEAP32[i+(P<<2)>>2]=((P>>>0)%(A>>>0)+(Math.floor((P>>>0)/(A>>>0))*e>>>1)>>>0)%(e>>>0),P+=1}function _DecodeForegroundLeftOverMap(i,e,A,P,E,H){var r,o,f,t;f=E*H,H=0;i:for(;H>>>0<f>>>0;)HEAP32[i+(H<<2)>>2]=e-1,H+=1;e-=1;i:for(;H=e,e=H-1,0!=(0|H);){r=Math.floor((HEAPU32[A+(e<<2)>>2]>>>0)/(E>>>0)),f=(HEAPU32[A+(e<<2)>>2]>>>0)%(E>>>0),H=Math.floor((HEAPU32[P+(e<<2)>>2]>>>0)/(E>>>0)),t=(HEAPU32[P+(e<<2)>>2]>>>0)%(E>>>0);e:for(;r>>>0<=H>>>0;){o=f;A:for(;o>>>0<=t>>>0;)HEAP32[i+(r*E+o<<2)>>2]=e,o+=1;r+=1}}}function _DecodeBoxOutMap(i,e,A,P,E){var H,r,o,f,t,a,d,n,l,s,_;r=P*E,H=0;i:for(;H>>>0<r>>>0;)HEAP32[i+(H<<2)>>2]=1,H+=1;o=P-e>>>1,f=E-e>>>1,d=o,n=f,l=o,s=f,t=e-1,a=e,r=0;i:for(;r>>>0<A>>>0;){_=1==(0|HEAP32[i+(f*P+o<<2)>>2])?1:0,H=0!=(0|_)?7:8,7==H&&(HEAP32[i+(f*P+o<<2)>>2]=0),H=-1==(0|t)?9:14;e:do if(9==H){if((0|o)!=(0|d)){H=14;break e}if(H=0<(d-1|0)?11:12,11==H)var b=d-1;else 12==H&&(b=0);o=d=b,t=0,a=(e<<1)-1,H=36;break e}while(0);do if(14==H){H=1==(0|t)?15:20;e:do if(15==H){if((0|o)!=(0|l)){H=20;break e}if(H=(l+1|0)<(P-1|0)?17:18,17==H)var h=l+1;else 18==H&&(h=P-1);o=l=h,t=0,a=1-(e<<1),H=35;break e}while(0);do if(20==H){H=-1==(0|a)?21:26;e:do if(21==H){if((0|f)!=(0|n)){H=26;break e}if(H=0<(n-1|0)?23:24,23==H)var c=n-1;else 24==H&&(c=0);f=n=c,t=1-(e<<1),a=0,H=34;break e}while(0);do if(26==H){H=1==(0|a)?27:32;e:do if(27==H){if((0|f)!=(0|s)){H=32;break e}if(H=(s+1|0)<(E-1|0)?29:30,29==H)var u=s+1;else 30==H&&(u=E-1);f=s=u,t=(e<<1)-1,a=0,H=33;break e}while(0);32==H&&(o+=t,f+=a)}while(0)}while(0)}while(0);r+=0!=(0|_)?1:0}}function _DecodeRasterScanMap(i,e,A,P){var E,H;H=0;i:for(;H>>>0<P>>>0;)E=H>>>0<A>>>0?3:4,3==E?HEAP32[i+(H<<2)>>2]=e:4==E&&(HEAP32[i+(H<<2)>>2]=1-e),H+=1}function _DecodeWipeMap(i,e,A,P,E){var H,r,o,f;o=f=0;i:for(;o>>>0<P>>>0;){r=0;e:for(;r>>>0<E>>>0;)H=f,f=H+1,H=H>>>0<A>>>0?5:6,5==H?HEAP32[i+(r*P+o<<2)>>2]=e:6==H&&(HEAP32[i+(r*P+o<<2)>>2]=1-e),r+=1;o+=1}}function _h264bsdIntraPrediction(i,e,A,P,E,H){var r=STACKTOP;STACKTOP+=72;var o,f,t=r+40;_h264bsdGetNeighbourPels(A,r,t,P),P=1==(0|_h264bsdMbPartPredMode(HEAP32[i>>2]))?1:4;i:do if(1==P){f=_h264bsdIntra16x16Prediction(i,H,e+328,r,t,E),P=0!=(0|f)?2:3;do{if(2==P){o=f,P=12;break i}if(3==P){P=7;break i}}while(0)}else if(4==P){f=_h264bsdIntra4x4Prediction(i,H,e,r,t,E),P=0!=(0|f)?5:6;do{if(5==P){o=f,P=12;break i}if(6==P){P=7;break i}}while(0)}while(0);return 7==P&&(f=_h264bsdIntraChromaPrediction(i,H+256,e+1352,r+21,t+16,HEAP32[e+140>>2],E),P=0!=(0|f)?8:9,8==P?o=f:9==P&&(P=1<HEAPU32[i+196>>2]>>>0?10:11,10==P?o=0:11==P&&(_h264bsdWriteMacroblock(A,H),o=0))),STACKTOP=r,o}function _h264bsdGetNeighbourPels(i,e,A,P){var E,H,r,o,f,t,a,d;E=A,A=0!=(0|P)?2:1;i:do if(2==A){r=HEAP32[i+4>>2],o=r*HEAP32[i+8>>2],a=Math.floor((P>>>0)/(r>>>0)),d=P-a*r,r<<=4,f=HEAP32[i>>2]+(a<<4)*r+(d<<4),A=0!=(0|a)?3:7;do if(3==A){t=f+-(r+1),H=21;e:for(;;){var n=H;if(H=n-1,0==(0|n))break e;n=t,t=n+1;var n=HEAP8[n],l=e,e=l+1;HEAP8[l]=n}}while(0);A=0!=(0|d)?8:13;do if(8==A){f-=1,H=16;e:for(;t=H,H=t-1,0!=(0|t);)t=HEAP8[f],n=E,E=n+1,HEAP8[n]=t,f+=r}while(0);r>>>=1,f=HEAP32[i>>2]+(o<<8)+(a<<3)*r+(d<<3),A=0!=(0|a)?14:21;do if(14==A){t=f+-(r+1),H=9;e:for(;a=H,H=a-1,0!=(0|a);)a=t,t=a+1,a=HEAP8[a],n=e,e=n+1,HEAP8[n]=a;t+=(o<<6)-9,H=9;e:for(;a=H,H=a-1,0!=(0|a);)a=t,t=a+1,a=HEAP8[a],n=e,e=n+1,HEAP8[n]=a}while(0);if(0==(0|d))break i;f-=1,H=8;e:for(;d=H,H=d-1,0!=(0|d);)d=HEAP8[f],t=E,E=t+1,HEAP8[t]=d,f+=r;f+=(o<<6)-(r<<3),H=8;e:for(;o=H,H=o-1,0!=(0|o);)o=HEAP8[f],d=E,E=d+1,HEAP8[d]=o,f+=r}while(0)}function _h264bsdIntra16x16Prediction(i,e,A,P,E,H){var r,o,f,t,a;f=_h264bsdIsNeighbourAvailable(i,HEAP32[i+200>>2]),r=0!=(0|f)?1:4;i:do if(1==r){if(0==(0|H))break i;if(2!=(0|_h264bsdMbPartPredMode(HEAP32[HEAP32[i+200>>2]>>2])))break i;f=0}while(0);t=_h264bsdIsNeighbourAvailable(i,HEAP32[i+204>>2]),r=0!=(0|t)?5:8;i:do if(5==r){if(0==(0|H))break i;if(2!=(0|_h264bsdMbPartPredMode(HEAP32[HEAP32[i+204>>2]>>2])))break i;t=0}while(0);a=_h264bsdIsNeighbourAvailable(i,HEAP32[i+212>>2]),r=0!=(0|a)?9:12;i:do if(9==r){if(0==(0|H))break i;if(2!=(0|_h264bsdMbPartPredMode(HEAP32[HEAP32[i+212>>2]>>2])))break i;a=0}while(0);r=_h264bsdPredModeIntra16x16(HEAP32[i>>2]),r=0==r?13:1==r?16:2==r?19:20;i:do{if(20==r){r=0!=(0|f)?21:23;e:do if(21==r){if(0==(0|t))break e;if(0==(0|a))break e;_Intra16x16PlanePrediction(e,P+1,E),r=25;break i}while(0);o=1,r=30;break i}if(13==r){r=0!=(0|t)?15:14;do{if(15==r){_Intra16x16VerticalPrediction(e,P+1),r=25;break i}if(14==r){o=1,r=30;break i}}while(0)}else if(16==r){r=0!=(0|f)?18:17;do{if(18==r){_Intra16x16HorizontalPrediction(e,E),r=25;break i}if(17==r){o=1,r=30;break i}}while(0)}else if(19==r){_Intra16x16DcPrediction(e,P+1,E,f,t),r=25;break i}}while(0);do if(25==r){P=0;i:for(;16>P>>>0;)_h264bsdAddResidual(e,A+(P<<6),P),P+=1;o=0}while(0);return o}function _Intra16x16VerticalPrediction(i,e){var A,P,E;A=i,P=0;i:for(;16>P>>>0;){E=0;e:for(;16>E>>>0;){var H=HEAP8[e+E],r=A;A=r+1,HEAP8[r]=H,E+=1}P+=1}}function _Intra16x16HorizontalPrediction(i,e){var A,P,E;A=i,P=0;i:for(;16>P>>>0;){E=0;e:for(;16>E>>>0;){var H=HEAP8[e+P],r=A;A=r+1,HEAP8[r]=H,E+=1}P+=1}}function _h264bsdIntra4x4Prediction(i,e,A,P,E,H){var r=STACKTOP;STACKTOP+=52;var o,f,t,a,d,n,l,s,_,b=r+8,h=r+16,c=r+28,u=r+36;t=0;i:for(;;){o=16>t>>>0?2:58;do if(2==o){s=_h264bsdNeighbour4x4BlockA(t),l=r;var U;for(o=s,_=l,U=o+8;o<U;)HEAP8[_++]=HEAP8[o++];d=_h264bsdGetNeighbourMb(i,HEAP32[r>>2]),l=_h264bsdIsNeighbourAvailable(i,d),o=0!=(0|l)?3:6;e:do if(3==o){if(0==(0|H))break e;if(2!=(0|_h264bsdMbPartPredMode(HEAP32[d>>2])))break e;l=0}while(0);for(n=_h264bsdNeighbour4x4BlockB(t),s=b,o=n,_=s,U=o+8;o<U;)HEAP8[_++]=HEAP8[o++];n=_h264bsdGetNeighbourMb(i,HEAP32[b>>2]),s=_h264bsdIsNeighbourAvailable(i,n),o=0!=(0|s)?7:10;e:do if(7==o){if(0==(0|H))break e;if(2!=(0|_h264bsdMbPartPredMode(HEAP32[n>>2])))break e;s=0}while(0);if(a=A,0!=(0|l))o=11;else{var w=0;o=12}for(11==o&&(w=0!=(0|s)),a=_DetermineIntra4x4PredMode(a,1&w,r,b,t,d,n),HEAP8[t+(i+82)]=255&a,d=_h264bsdNeighbour4x4BlockC(t),n=r,o=d,_=n,U=o+8;o<U;)HEAP8[_++]=HEAP8[o++];d=_h264bsdGetNeighbourMb(i,HEAP32[r>>2]),n=_h264bsdIsNeighbourAvailable(i,d),o=0!=(0|n)?13:16;e:do if(13==o){if(0==(0|H))break e;if(2!=(0|_h264bsdMbPartPredMode(HEAP32[d>>2])))break e;n=0}while(0);for(o=_h264bsdNeighbour4x4BlockD(t),_=d=r,U=o+8;o<U;)HEAP8[_++]=HEAP8[o++];d=_h264bsdGetNeighbourMb(i,HEAP32[r>>2]),_=_h264bsdIsNeighbourAvailable(i,d),o=0!=(0|_)?17:20;e:do if(17==o){if(0==(0|H))break e;if(2!=(0|_h264bsdMbPartPredMode(HEAP32[d>>2])))break e;_=0}while(0);_Get4x4NeighbourPels(h,c,e,P,E,t),o=0==a?21:1==a?24:2==a?27:3==a?28:4==a?33:5==a?38:6==a?43:7==a?48:53;e:do if(53==o){o=0!=(0|l)?55:54;do if(55==o)_Intra4x4HorizontalUpPrediction(u,c+1);else if(54==o){f=1;break i}while(0)}else if(21==o){o=0!=(0|s)?23:22;do if(23==o)_Intra4x4VerticalPrediction(u,h+1);else if(22==o){f=1;break i}while(0)}else if(24==o){o=0!=(0|l)?26:25;do if(26==o)_Intra4x4HorizontalPrediction(u,c+1);else if(25==o){f=1;break i}while(0)}else if(27==o)_Intra4x4DcPrediction(u,h+1,c+1,l,s);else if(28==o){o=0!=(0|s)?30:29;do if(30==o)o=0!=(0|n)?32:31,31==o&&(a=HEAP8[h+4],HEAP8[h+8]=a,HEAP8[h+7]=a,HEAP8[h+6]=a,HEAP8[h+5]=a),_Intra4x4DiagonalDownLeftPrediction(u,h+1);else if(29==o){f=1;break i}while(0)}else{if(33==o){o=0!=(0|l)?34:36;A:do if(34==o){if(0==(0|s))break A;if(0==(0|_))break A;_Intra4x4DiagonalDownRightPrediction(u,h+1,c+1);break e}while(0);f=1;break i}if(38==o){o=0!=(0|l)?39:41;A:do if(39==o){if(0==(0|s))break A;if(0==(0|_))break A;_Intra4x4VerticalRightPrediction(u,h+1,c+1);break e}while(0);f=1;break i}if(43==o){o=0!=(0|l)?44:46;A:do if(44==o){if(0==(0|s))break A;if(0==(0|_))break A;_Intra4x4HorizontalDownPrediction(u,h+1,c+1);break e}while(0);f=1;break i}if(48==o){o=0!=(0|s)?50:49;do if(50==o)o=0!=(0|n)?52:51,51==o&&(a=HEAP8[h+4],HEAP8[h+8]=a,HEAP8[h+7]=a,HEAP8[h+6]=a,HEAP8[h+5]=a),_Intra4x4VerticalLeftPrediction(u,h+1);else if(49==o){f=1;break i}while(0)}}while(0);_Write4x4To16x16(e,u,t),_h264bsdAddResidual(e,A+328+(t<<6),t),t+=1}else if(58==o){f=0;break i}while(0)}return STACKTOP=r,f}function _h264bsdIntraChromaPrediction(i,e,A,P,E,H,r){var o,f,t,a,d,n;f=E,a=_h264bsdIsNeighbourAvailable(i,HEAP32[i+200>>2]),E=0!=(0|a)?1:4;i:do if(1==E){if(0==(0|r))break i;if(2!=(0|_h264bsdMbPartPredMode(HEAP32[HEAP32[i+200>>2]>>2])))break i;a=0}while(0);d=_h264bsdIsNeighbourAvailable(i,HEAP32[i+204>>2]),E=0!=(0|d)?5:8;i:do if(5==E){if(0==(0|r))break i;if(2!=(0|_h264bsdMbPartPredMode(HEAP32[HEAP32[i+204>>2]>>2])))break i;d=0}while(0);n=_h264bsdIsNeighbourAvailable(i,HEAP32[i+212>>2]),E=0!=(0|n)?9:12;i:do if(9==E){if(0==(0|r))break i;if(2!=(0|_h264bsdMbPartPredMode(HEAP32[HEAP32[i+212>>2]>>2])))break i;n=0}while(0);r=0,t=16;i:for(;;){E=2>r>>>0?14:33;do if(14==E){E=0==H?15:1==H?16:2==H?19:22;e:do{if(22==E){E=0!=(0|a)?23:25;A:do if(23==E){if(0==(0|d))break A;if(0==(0|n))break A;_IntraChromaPlanePrediction(e,P+1,f);break e}while(0);o=1;break i}if(15==E)_IntraChromaDcPrediction(e,P+1,f,a,d);else if(16==E){E=0!=(0|a)?18:17;do if(18==E)_IntraChromaHorizontalPrediction(e,f);else if(17==E){o=1;break i}while(0)}else if(19==E){E=0!=(0|d)?21:20;do if(21==E)_IntraChromaVerticalPrediction(e,P+1);else if(20==E){o=1;break i}while(0)}}while(0);i=0;e:for(;4>i>>>0;)_h264bsdAddResidual(e,A+(i<<6),t),i+=1,t+=1;e+=64,P+=9,f+=8,A+=256,r+=1}else if(33==E){o=0;break i}while(0)}return o}function _Intra16x16DcPrediction(i,e,A,P,E){var H,r,o;H=0!=(0|P)?1:7;i:do if(1==H){if(0==(0|E)){H=7;break i}o=r=0;e:for(;16>r>>>0;)o+=(255&HEAPU8[e+r])+(255&HEAPU8[A+r]),r+=1;o=o+16>>>5,H=22;break i}while(0);do if(7==H){H=0!=(0|P)?8:13;do if(8==H){o=r=0;i:for(;16>r>>>0;)o+=255&HEAPU8[A+r],r+=1;o=o+8>>>4}else if(13==H){H=0!=(0|E)?14:19;do if(14==H){o=r=0;i:for(;16>r>>>0;)o+=255&HEAPU8[e+r],r+=1;o=o+8>>>4}else 19==H&&(o=128);while(0)}while(0)}while(0);r=0;i:for(;256>r>>>0;)HEAP8[i+r]=255&o,r+=1}function _Intra16x16PlanePrediction(i,e,A){var P,E,H,r,o;E=(255&HEAPU8[e+15])+(255&HEAPU8[A+15])<<4,H=P=0;i:for(;8>P>>>0;)H+=(P+1)*((255&HEAPU8[P+(e+8)])-(255&HEAPU8[e+(6-P)])),P+=1;H=5*H+32>>6,r=P=0;i:for(;7>P>>>0;)r+=(P+1)*((255&HEAPU8[P+(A+8)])-(255&HEAPU8[A+(6-P)])),P+=1;r+=(P+1)*((255&HEAPU8[P+(A+8)])-(255&HEAPU8[e-1])),r=5*r+32>>6,P=0;i:for(;16>P>>>0;){A=0;e:for(;16>A>>>0;){if(o=E+H*(A-7)+r*(P-7)+16>>5,e=0>(0|o)?13:14,13==e)var f=0;else if(14==e){if(e=255<(0|o)?15:16,15==e)var t=255;else 16==e&&(t=o);f=t}HEAP8[i+((P<<4)+A)]=255&f,A+=1}P+=1}}function _h264bsdAddResidual(i,e,A){var P,E,H,r,o,f,t,a,d,n,l;P=e,l=_h264bsdClip+512,e=16777215==(0|HEAP32[P>>2])?1:2;i:do if(1!=e&&2==e)for(e=16>A>>>0?3:4,3==e?(o=16,H=HEAP32[_h264bsdBlockX+(A<<2)>>2],r=HEAP32[_h264bsdBlockY+(A<<2)>>2]):4==e&&(o=8,H=HEAP32[_h264bsdBlockX+((3&A)<<2)>>2],r=HEAP32[_h264bsdBlockY+((3&A)<<2)>>2]),n=i+r*o+H,E=4;;){if(0==(0|E))break i;f=P,P=f+4,f=HEAP32[f>>2],t=255&HEAPU8[n],a=P,P=a+4,a=HEAP32[a>>2],d=255&HEAPU8[n+1],HEAP8[n]=HEAP8[l+(f+t)],f=P,P=f+4,f=HEAP32[f>>2],t=255&HEAPU8[n+2],HEAP8[n+1]=HEAP8[l+(a+d)],a=P,P=a+4,a=HEAP32[a>>2],d=255&HEAPU8[n+3],f=255&HEAPU8[l+(f+t)],a=255&HEAPU8[l+(a+d)],HEAP8[n+2]=255&f,HEAP8[n+3]=255&a,n+=o,E-=1}while(0)}function _DetermineIntra4x4PredMode(i,e,A,P,E,H,r){var o,f,e=0!=(0|e)?2:1;if(2==e){if(e=0==(0|_h264bsdMbPartPredMode(HEAP32[H>>2]))?3:4,3==e?o=255&HEAPU8[H+82+(255&HEAPU8[A+4])]:4==e&&(o=2),H=r,e=0==(0|_h264bsdMbPartPredMode(HEAP32[H>>2]))?6:7,6==e?f=255&HEAPU8[H+82+(255&HEAPU8[P+4])]:7==e&&(f=2),e=o>>>0<f>>>0?9:10,9==e)var t=o;else 10==e&&(t=f);o=t}else 1==e&&(o=2);return e=0!=(0|HEAP32[i+12+(E<<2)>>2])?17:13,13==e&&(e=HEAPU32[i+76+(E<<2)>>2]>>>0<o>>>0?14:15,14==e?o=HEAP32[i+76+(E<<2)>>2]:15==e&&(o=HEAP32[i+76+(E<<2)>>2]+1)),o}function _Get4x4NeighbourPels(i,e,A,P,E,H){var r,o,f;o=HEAP32[_h264bsdBlockX+(H<<2)>>2],H=HEAP32[_h264bsdBlockY+(H<<2)>>2],r=0==(0|o)?1:2,1==r?(r=HEAP8[E+H],f=HEAP8[H+(E+1)],HEAP8[e+1]=r,HEAP8[e+2]=f,r=HEAP8[H+(E+2)],f=HEAP8[H+(E+3)],HEAP8[e+3]=r,HEAP8[e+4]=f):2==r&&(r=HEAP8[A+((H<<4)+o-1)],f=HEAP8[A+((H<<4)+o-1+16)],HEAP8[e+1]=r,HEAP8[e+2]=f,r=HEAP8[A+((H<<4)+o-1+32)],f=HEAP8[A+((H<<4)+o-1+48)],HEAP8[e+3]=r,HEAP8[e+4]=f),r=0==(0|H)?4:5,4==r?(r=HEAP8[P+o],f=HEAP8[P+o],HEAP8[e]=r,HEAP8[i]=f,r=HEAP8[o+(P+1)],f=HEAP8[o+(P+2)],HEAP8[i+1]=r,HEAP8[i+2]=f,r=HEAP8[o+(P+3)],f=HEAP8[o+(P+4)],HEAP8[i+3]=r,HEAP8[i+4]=f,r=HEAP8[o+(P+5)],f=HEAP8[o+(P+6)],HEAP8[i+5]=r,HEAP8[i+6]=f,r=HEAP8[o+(P+7)],f=HEAP8[o+(P+8)],HEAP8[i+7]=r,HEAP8[i+8]=f):5==r&&(r=HEAP8[A+((H-1<<4)+o)],f=HEAP8[A+((H-1<<4)+o+1)],HEAP8[i+1]=r,HEAP8[i+2]=f,r=HEAP8[A+((H-1<<4)+o+2)],f=HEAP8[A+((H-1<<4)+o+3)],HEAP8[i+3]=r,HEAP8[i+4]=f,r=HEAP8[A+((H-1<<4)+o+4)],f=HEAP8[A+((H-1<<4)+o+5)],HEAP8[i+5]=r,HEAP8[i+6]=f,r=HEAP8[A+((H-1<<4)+o+6)],f=HEAP8[A+((H-1<<4)+o+7)],HEAP8[i+7]=r,HEAP8[i+8]=f,r=0==(0|o)?6:7,6==r?(A=HEAP8[E+(H-1)],HEAP8[i]=A,HEAP8[e]=A):7==r&&(A=HEAP8[A+((H-1<<4)+o-1)],HEAP8[i]=A,HEAP8[e]=A))}function _Intra4x4VerticalPrediction(i,e){var A,P;A=HEAP8[e],P=HEAP8[e+1],HEAP8[i+12]=A,HEAP8[i+8]=A,HEAP8[i+4]=A,HEAP8[i]=A,HEAP8[i+13]=P,HEAP8[i+9]=P,HEAP8[i+5]=P,HEAP8[i+1]=P,A=HEAP8[e+2],P=HEAP8[e+3],HEAP8[i+14]=A,HEAP8[i+10]=A,HEAP8[i+6]=A,HEAP8[i+2]=A,HEAP8[i+15]=P,HEAP8[i+11]=P,HEAP8[i+7]=P,HEAP8[i+3]=P}function _Intra4x4HorizontalPrediction(i,e){var A,P;A=HEAP8[e],P=HEAP8[e+1],HEAP8[i+3]=A,HEAP8[i+2]=A,HEAP8[i+1]=A,HEAP8[i]=A,HEAP8[i+7]=P,HEAP8[i+6]=P,HEAP8[i+5]=P,HEAP8[i+4]=P,A=HEAP8[e+2],P=HEAP8[e+3],HEAP8[i+11]=A,HEAP8[i+10]=A,HEAP8[i+9]=A,HEAP8[i+8]=A,HEAP8[i+15]=P,HEAP8[i+14]=P,HEAP8[i+13]=P,HEAP8[i+12]=P}function _Intra4x4DcPrediction(i,e,A,P,E){var H,r,o,f,t;H=0!=(0|P)?1:3;i:do if(1==H){if(0==(0|E)){H=3;break i}H=HEAP8[e],o=HEAP8[e+1],f=HEAP8[e+2],t=HEAP8[e+3],r=(255&H)+(255&o)+(255&f)+(255&t),H=HEAP8[A],o=HEAP8[A+1],f=HEAP8[A+2],t=HEAP8[A+3],r+=(255&H)+(255&o)+(255&f)+(255&t),r=r+4>>>3,H=10;break i}while(0);3==H&&(H=0!=(0|P)?4:5,4==H?(H=HEAP8[A],o=HEAP8[A+1],f=HEAP8[A+2],t=HEAP8[A+3],r=(255&H)+(255&o)+(255&f)+(255&t)+2>>2):5==H&&(H=0!=(0|E)?6:7,6==H?(H=HEAP8[e],o=HEAP8[e+1],f=HEAP8[e+2],t=HEAP8[e+3],r=(255&H)+(255&o)+(255&f)+(255&t)+2>>2):7==H&&(r=128))),e=255&r,HEAP8[i+15]=e,HEAP8[i+14]=e,HEAP8[i+13]=e,HEAP8[i+12]=e,HEAP8[i+11]=e,HEAP8[i+10]=e,HEAP8[i+9]=e,HEAP8[i+8]=e,HEAP8[i+7]=e,HEAP8[i+6]=e,HEAP8[i+5]=e,HEAP8[i+4]=e,HEAP8[i+3]=e,HEAP8[i+2]=e,HEAP8[i+1]=e,HEAP8[i]=e}function _Intra4x4DiagonalDownLeftPrediction(i,e){HEAP8[i]=(255&HEAPU8[e])+((255&HEAPU8[e+1])<<1)+(255&HEAPU8[e+2])+2>>2&255,HEAP8[i+1]=(255&HEAPU8[e+1])+((255&HEAPU8[e+2])<<1)+(255&HEAPU8[e+3])+2>>2&255,HEAP8[i+4]=(255&HEAPU8[e+1])+((255&HEAPU8[e+2])<<1)+(255&HEAPU8[e+3])+2>>2&255,HEAP8[i+2]=(255&HEAPU8[e+2])+((255&HEAPU8[e+3])<<1)+(255&HEAPU8[e+4])+2>>2&255,HEAP8[i+5]=(255&HEAPU8[e+2])+((255&HEAPU8[e+3])<<1)+(255&HEAPU8[e+4])+2>>2&255,HEAP8[i+8]=(255&HEAPU8[e+2])+((255&HEAPU8[e+3])<<1)+(255&HEAPU8[e+4])+2>>2&255,HEAP8[i+3]=(255&HEAPU8[e+3])+((255&HEAPU8[e+4])<<1)+(255&HEAPU8[e+5])+2>>2&255,HEAP8[i+6]=(255&HEAPU8[e+3])+((255&HEAPU8[e+4])<<1)+(255&HEAPU8[e+5])+2>>2&255,HEAP8[i+9]=(255&HEAPU8[e+3])+((255&HEAPU8[e+4])<<1)+(255&HEAPU8[e+5])+2>>2&255,HEAP8[i+12]=(255&HEAPU8[e+3])+((255&HEAPU8[e+4])<<1)+(255&HEAPU8[e+5])+2>>2&255,HEAP8[i+7]=(255&HEAPU8[e+4])+((255&HEAPU8[e+5])<<1)+(255&HEAPU8[e+6])+2>>2&255,HEAP8[i+10]=(255&HEAPU8[e+4])+((255&HEAPU8[e+5])<<1)+(255&HEAPU8[e+6])+2>>2&255,HEAP8[i+13]=(255&HEAPU8[e+4])+((255&HEAPU8[e+5])<<1)+(255&HEAPU8[e+6])+2>>2&255,HEAP8[i+11]=(255&HEAPU8[e+5])+((255&HEAPU8[e+6])<<1)+(255&HEAPU8[e+7])+2>>2&255,HEAP8[i+14]=(255&HEAPU8[e+5])+((255&HEAPU8[e+6])<<1)+(255&HEAPU8[e+7])+2>>2&255,HEAP8[i+15]=(255&HEAPU8[e+6])+3*(255&HEAPU8[e+7])+2>>2&255}function _Intra4x4DiagonalDownRightPrediction(i,e,A){HEAP8[i]=(255&HEAPU8[e])+((255&HEAPU8[e-1])<<1)+(255&HEAPU8[A])+2>>2&255,HEAP8[i+5]=(255&HEAPU8[e])+((255&HEAPU8[e-1])<<1)+(255&HEAPU8[A])+2>>2&255,HEAP8[i+10]=(255&HEAPU8[e])+((255&HEAPU8[e-1])<<1)+(255&HEAPU8[A])+2>>2&255,HEAP8[i+15]=(255&HEAPU8[e])+((255&HEAPU8[e-1])<<1)+(255&HEAPU8[A])+2>>2&255,HEAP8[i+1]=(255&HEAPU8[e-1])+((255&HEAPU8[e])<<1)+(255&HEAPU8[e+1])+2>>2&255,HEAP8[i+6]=(255&HEAPU8[e-1])+((255&HEAPU8[e])<<1)+(255&HEAPU8[e+1])+2>>2&255,HEAP8[i+11]=(255&HEAPU8[e-1])+((255&HEAPU8[e])<<1)+(255&HEAPU8[e+1])+2>>2&255,HEAP8[i+2]=(255&HEAPU8[e])+((255&HEAPU8[e+1])<<1)+(255&HEAPU8[e+2])+2>>2&255,HEAP8[i+7]=(255&HEAPU8[e])+((255&HEAPU8[e+1])<<1)+(255&HEAPU8[e+2])+2>>2&255,HEAP8[i+3]=(255&HEAPU8[e+1])+((255&HEAPU8[e+2])<<1)+(255&HEAPU8[e+3])+2>>2&255,HEAP8[i+4]=(255&HEAPU8[A-1])+((255&HEAPU8[A])<<1)+(255&HEAPU8[A+1])+2>>2&255,HEAP8[i+9]=(255&HEAPU8[A-1])+((255&HEAPU8[A])<<1)+(255&HEAPU8[A+1])+2>>2&255,HEAP8[i+14]=(255&HEAPU8[A-1])+((255&HEAPU8[A])<<1)+(255&HEAPU8[A+1])+2>>2&255,HEAP8[i+8]=(255&HEAPU8[A])+((255&HEAPU8[A+1])<<1)+(255&HEAPU8[A+2])+2>>2&255,HEAP8[i+13]=(255&HEAPU8[A])+((255&HEAPU8[A+1])<<1)+(255&HEAPU8[A+2])+2>>2&255,HEAP8[i+12]=(255&HEAPU8[A+1])+((255&HEAPU8[A+2])<<1)+(255&HEAPU8[A+3])+2>>2&255}function _Intra4x4VerticalRightPrediction(i,e,A){HEAP8[i]=(255&HEAPU8[e-1])+(255&HEAPU8[e])+1>>1&255,HEAP8[i+9]=(255&HEAPU8[e-1])+(255&HEAPU8[e])+1>>1&255,
HEAP8[i+5]=(255&HEAPU8[e-1])+((255&HEAPU8[e])<<1)+(255&HEAPU8[e+1])+2>>2&255,HEAP8[i+14]=(255&HEAPU8[e-1])+((255&HEAPU8[e])<<1)+(255&HEAPU8[e+1])+2>>2&255,HEAP8[i+4]=(255&HEAPU8[e])+((255&HEAPU8[e-1])<<1)+(255&HEAPU8[A])+2>>2&255,HEAP8[i+13]=(255&HEAPU8[e])+((255&HEAPU8[e-1])<<1)+(255&HEAPU8[A])+2>>2&255,HEAP8[i+1]=(255&HEAPU8[e])+(255&HEAPU8[e+1])+1>>1&255,HEAP8[i+10]=(255&HEAPU8[e])+(255&HEAPU8[e+1])+1>>1&255,HEAP8[i+6]=(255&HEAPU8[e])+((255&HEAPU8[e+1])<<1)+(255&HEAPU8[e+2])+2>>2&255,HEAP8[i+15]=(255&HEAPU8[e])+((255&HEAPU8[e+1])<<1)+(255&HEAPU8[e+2])+2>>2&255,HEAP8[i+2]=(255&HEAPU8[e+1])+(255&HEAPU8[e+2])+1>>1&255,HEAP8[i+11]=(255&HEAPU8[e+1])+(255&HEAPU8[e+2])+1>>1&255,HEAP8[i+7]=(255&HEAPU8[e+1])+((255&HEAPU8[e+2])<<1)+(255&HEAPU8[e+3])+2>>2&255,HEAP8[i+3]=(255&HEAPU8[e+2])+(255&HEAPU8[e+3])+1>>1&255,HEAP8[i+8]=(255&HEAPU8[A+1])+((255&HEAPU8[A])<<1)+(255&HEAPU8[A-1])+2>>2&255,HEAP8[i+12]=(255&HEAPU8[A+2])+((255&HEAPU8[A+1])<<1)+(255&HEAPU8[A])+2>>2&255}function _Intra4x4HorizontalDownPrediction(i,e,A){HEAP8[i]=(255&HEAPU8[A-1])+(255&HEAPU8[A])+1>>1&255,HEAP8[i+6]=(255&HEAPU8[A-1])+(255&HEAPU8[A])+1>>1&255,HEAP8[i+5]=(255&HEAPU8[A-1])+((255&HEAPU8[A])<<1)+(255&HEAPU8[A+1])+2>>2&255,HEAP8[i+11]=(255&HEAPU8[A-1])+((255&HEAPU8[A])<<1)+(255&HEAPU8[A+1])+2>>2&255,HEAP8[i+4]=(255&HEAPU8[A])+(255&HEAPU8[A+1])+1>>1&255,HEAP8[i+10]=(255&HEAPU8[A])+(255&HEAPU8[A+1])+1>>1&255,HEAP8[i+9]=(255&HEAPU8[A])+((255&HEAPU8[A+1])<<1)+(255&HEAPU8[A+2])+2>>2&255,HEAP8[i+15]=(255&HEAPU8[A])+((255&HEAPU8[A+1])<<1)+(255&HEAPU8[A+2])+2>>2&255,HEAP8[i+8]=(255&HEAPU8[A+1])+(255&HEAPU8[A+2])+1>>1&255,HEAP8[i+14]=(255&HEAPU8[A+1])+(255&HEAPU8[A+2])+1>>1&255,HEAP8[i+13]=(255&HEAPU8[A+1])+((255&HEAPU8[A+2])<<1)+(255&HEAPU8[A+3])+2>>2&255,HEAP8[i+12]=(255&HEAPU8[A+2])+(255&HEAPU8[A+3])+1>>1&255,HEAP8[i+1]=(255&HEAPU8[e])+((255&HEAPU8[e-1])<<1)+(255&HEAPU8[A])+2>>2&255,HEAP8[i+7]=(255&HEAPU8[e])+((255&HEAPU8[e-1])<<1)+(255&HEAPU8[A])+2>>2&255,HEAP8[i+2]=(255&HEAPU8[e+1])+((255&HEAPU8[e])<<1)+(255&HEAPU8[e-1])+2>>2&255,HEAP8[i+3]=(255&HEAPU8[e+2])+((255&HEAPU8[e+1])<<1)+(255&HEAPU8[e])+2>>2&255}function _Intra4x4VerticalLeftPrediction(i,e){HEAP8[i]=(255&HEAPU8[e])+(255&HEAPU8[e+1])+1>>1&255,HEAP8[i+1]=(255&HEAPU8[e+1])+(255&HEAPU8[e+2])+1>>1&255,HEAP8[i+2]=(255&HEAPU8[e+2])+(255&HEAPU8[e+3])+1>>1&255,HEAP8[i+3]=(255&HEAPU8[e+3])+(255&HEAPU8[e+4])+1>>1&255,HEAP8[i+4]=(255&HEAPU8[e])+((255&HEAPU8[e+1])<<1)+(255&HEAPU8[e+2])+2>>2&255,HEAP8[i+5]=(255&HEAPU8[e+1])+((255&HEAPU8[e+2])<<1)+(255&HEAPU8[e+3])+2>>2&255,HEAP8[i+6]=(255&HEAPU8[e+2])+((255&HEAPU8[e+3])<<1)+(255&HEAPU8[e+4])+2>>2&255,HEAP8[i+7]=(255&HEAPU8[e+3])+((255&HEAPU8[e+4])<<1)+(255&HEAPU8[e+5])+2>>2&255,HEAP8[i+8]=(255&HEAPU8[e+1])+(255&HEAPU8[e+2])+1>>1&255,HEAP8[i+9]=(255&HEAPU8[e+2])+(255&HEAPU8[e+3])+1>>1&255,HEAP8[i+10]=(255&HEAPU8[e+3])+(255&HEAPU8[e+4])+1>>1&255,HEAP8[i+11]=(255&HEAPU8[e+4])+(255&HEAPU8[e+5])+1>>1&255,HEAP8[i+12]=(255&HEAPU8[e+1])+((255&HEAPU8[e+2])<<1)+(255&HEAPU8[e+3])+2>>2&255,HEAP8[i+13]=(255&HEAPU8[e+2])+((255&HEAPU8[e+3])<<1)+(255&HEAPU8[e+4])+2>>2&255,HEAP8[i+14]=(255&HEAPU8[e+3])+((255&HEAPU8[e+4])<<1)+(255&HEAPU8[e+5])+2>>2&255,HEAP8[i+15]=(255&HEAPU8[e+4])+((255&HEAPU8[e+5])<<1)+(255&HEAPU8[e+6])+2>>2&255}function _Intra4x4HorizontalUpPrediction(i,e){HEAP8[i]=(255&HEAPU8[e])+(255&HEAPU8[e+1])+1>>1&255,HEAP8[i+1]=(255&HEAPU8[e])+((255&HEAPU8[e+1])<<1)+(255&HEAPU8[e+2])+2>>2&255,HEAP8[i+2]=(255&HEAPU8[e+1])+(255&HEAPU8[e+2])+1>>1&255,HEAP8[i+3]=(255&HEAPU8[e+1])+((255&HEAPU8[e+2])<<1)+(255&HEAPU8[e+3])+2>>2&255,HEAP8[i+4]=(255&HEAPU8[e+1])+(255&HEAPU8[e+2])+1>>1&255,HEAP8[i+5]=(255&HEAPU8[e+1])+((255&HEAPU8[e+2])<<1)+(255&HEAPU8[e+3])+2>>2&255,HEAP8[i+6]=(255&HEAPU8[e+2])+(255&HEAPU8[e+3])+1>>1&255,HEAP8[i+7]=(255&HEAPU8[e+2])+3*(255&HEAPU8[e+3])+2>>2&255,HEAP8[i+8]=(255&HEAPU8[e+2])+(255&HEAPU8[e+3])+1>>1&255,HEAP8[i+9]=(255&HEAPU8[e+2])+3*(255&HEAPU8[e+3])+2>>2&255,HEAP8[i+10]=HEAP8[e+3],HEAP8[i+11]=HEAP8[e+3],HEAP8[i+12]=HEAP8[e+3],HEAP8[i+13]=HEAP8[e+3],HEAP8[i+14]=HEAP8[e+3],HEAP8[i+15]=HEAP8[e+3]}function _Write4x4To16x16(i,e,A){i+=(HEAP32[_h264bsdBlockY+(A<<2)>>2]<<4)+HEAP32[_h264bsdBlockX+(A<<2)>>2],HEAP32[i>>2]=HEAP32[e>>2],e+=4,HEAP32[i+16>>2]=HEAP32[e>>2],e+=4,HEAP32[i+32>>2]=HEAP32[e>>2],HEAP32[i+48>>2]=HEAP32[e+4>>2]}function _IntraChromaDcPrediction(i,e,A,P,E){var H,r,o;H=0!=(0|P)?1:3;i:do if(1==H){if(0==(0|E)){H=3;break i}r=(255&HEAPU8[e])+(255&HEAPU8[e+1])+(255&HEAPU8[e+2])+(255&HEAPU8[e+3])+(255&HEAPU8[A])+(255&HEAPU8[A+1])+(255&HEAPU8[A+2])+(255&HEAPU8[A+3]),r=r+4>>>3,o=(255&HEAPU8[e+4])+(255&HEAPU8[e+5])+(255&HEAPU8[e+6])+(255&HEAPU8[e+7])+2>>2,H=10;break i}while(0);3==H&&(H=0!=(0|E)?4:5,4==H?(r=(255&HEAPU8[e])+(255&HEAPU8[e+1])+(255&HEAPU8[e+2])+(255&HEAPU8[e+3])+2>>2,o=(255&HEAPU8[e+4])+(255&HEAPU8[e+5])+(255&HEAPU8[e+6])+(255&HEAPU8[e+7])+2>>2):5==H&&(H=0!=(0|P)?6:7,6==H?o=r=(255&HEAPU8[A])+(255&HEAPU8[A+1])+(255&HEAPU8[A+2])+(255&HEAPU8[A+3])+2>>2:7==H&&(r=o=128))),H=4;i:for(;;){var f=H;if(H=f-1,0==(0|f))break i;f=i,i=f+1,HEAP8[f]=255&r,f=i,i=f+1,HEAP8[f]=255&r,f=i,i=f+1,HEAP8[f]=255&r,f=i,i=f+1,HEAP8[f]=255&r,f=i,i=f+1,HEAP8[f]=255&o,f=i,i=f+1,HEAP8[f]=255&o,f=i,i=f+1,HEAP8[f]=255&o,f=i,i=f+1,HEAP8[f]=255&o}H=0!=(0|P)?14:18,14==H?(r=(255&HEAPU8[A+4])+(255&HEAPU8[A+5])+(255&HEAPU8[A+6])+(255&HEAPU8[A+7])+2>>2,H=0!=(0|E)?15:16,15==H?(o=(255&HEAPU8[e+4])+(255&HEAPU8[e+5])+(255&HEAPU8[e+6])+(255&HEAPU8[e+7])+(255&HEAPU8[A+4])+(255&HEAPU8[A+5])+(255&HEAPU8[A+6])+(255&HEAPU8[A+7]),o=o+4>>>3):16==H&&(o=r)):18==H&&(H=0!=(0|E)?19:20,19==H?(r=(255&HEAPU8[e])+(255&HEAPU8[e+1])+(255&HEAPU8[e+2])+(255&HEAPU8[e+3])+2>>2,o=(255&HEAPU8[e+4])+(255&HEAPU8[e+5])+(255&HEAPU8[e+6])+(255&HEAPU8[e+7])+2>>2):20==H&&(r=o=128)),H=4;i:for(;e=H,H=e-1,0!=(0|e);)e=i,i=e+1,HEAP8[e]=255&r,e=i,i=e+1,HEAP8[e]=255&r,e=i,i=e+1,HEAP8[e]=255&r,e=i,i=e+1,HEAP8[e]=255&r,e=i,i=e+1,HEAP8[e]=255&o,e=i,i=e+1,HEAP8[e]=255&o,e=i,i=e+1,HEAP8[e]=255&o,e=i,i=e+1,HEAP8[e]=255&o}function _IntraChromaHorizontalPrediction(i,e){var A,P,E;A=i,P=e,E=8;i:for(;;){var H=E;if(E=H-1,0==(0|H))break i;var H=HEAP8[P],r=A;A=r+1,HEAP8[r]=H,H=HEAP8[P],r=A,A=r+1,HEAP8[r]=H,H=HEAP8[P],r=A,A=r+1,HEAP8[r]=H,H=HEAP8[P],r=A,A=r+1,HEAP8[r]=H,H=HEAP8[P],r=A,A=r+1,HEAP8[r]=H,H=HEAP8[P],r=A,A=r+1,HEAP8[r]=H,H=HEAP8[P],r=A,A=r+1,HEAP8[r]=H,H=P,P=H+1,H=HEAP8[H],r=A,A=r+1,HEAP8[r]=H}}function _IntraChromaVerticalPrediction(i,e){var A,P,E;A=i,P=e,E=8;i:for(;;){var H=E;if(E=H-1,0==(0|H))break i;HEAP8[A]=HEAP8[P],HEAP8[A+8]=HEAP8[P],HEAP8[A+16]=HEAP8[P],HEAP8[A+24]=HEAP8[P],HEAP8[A+32]=HEAP8[P],HEAP8[A+40]=HEAP8[P],HEAP8[A+48]=HEAP8[P],H=P,P=H+1,HEAP8[A+56]=HEAP8[H],A+=1}}function _IntraChromaPlanePrediction(i,e,A){var P,E,H,r;r=_h264bsdClip+512,P=(255&HEAPU8[e+7])+(255&HEAPU8[A+7])<<4,E=(255&HEAPU8[e+4])-(255&HEAPU8[e+2])+((255&HEAPU8[e+5])-(255&HEAPU8[e+1])<<1)+3*((255&HEAPU8[e+6])-(255&HEAPU8[e]))+((255&HEAPU8[e+7])-(255&HEAPU8[e-1])<<2),E=17*E+16>>5,A=(255&HEAPU8[A+4])-(255&HEAPU8[A+2])+((255&HEAPU8[A+5])-(255&HEAPU8[A+1])<<1)+3*((255&HEAPU8[A+6])-(255&HEAPU8[A]))+((255&HEAPU8[A+7])-(255&HEAPU8[e-1])<<2),A=17*A+16>>5,P=P-3*A+16,e=8;i:for(;H=e,e=H-1,0!=(0|H);){H=P-3*E;var o=HEAP8[r+(H>>5)],f=i,i=f+1;HEAP8[f]=o,H+=E,o=HEAP8[r+(H>>5)],f=i,i=f+1,HEAP8[f]=o,H+=E,o=HEAP8[r+(H>>5)],f=i,i=f+1,HEAP8[f]=o,H+=E,o=HEAP8[r+(H>>5)],f=i,i=f+1,HEAP8[f]=o,H+=E,o=HEAP8[r+(H>>5)],f=i,i=f+1,HEAP8[f]=o,H+=E,o=HEAP8[r+(H>>5)],f=i,i=f+1,HEAP8[f]=o,H+=E,o=HEAP8[r+(H>>5)],f=i,i=f+1,HEAP8[f]=o,H+=E,H=HEAP8[r+(H>>5)],o=i,i=o+1,HEAP8[o]=H,P+=A}}function _h264bsdInterPrediction(i,e,A,P,E,H){var r=STACKTOP;STACKTOP+=24;var o,f,t,a,d,n;d=Math.floor((P>>>0)/(HEAPU32[E+4>>2]>>>0)),n=P-d*HEAP32[E+4>>2],d<<=4,n<<=4,HEAP32[r+4>>2]=HEAP32[E+4>>2],HEAP32[r+8>>2]=HEAP32[E+8>>2],o=HEAP32[i>>2],o=0==o||1==o?1:2==o?4:3==o?7:10;i:do if(10==o){o=0!=(0|_MvPrediction8x8(i,e+176,A))?11:12;do{if(11==o){f=1,o=28;break i}if(12==o){A=0;e:for(;4>A>>>0;)HEAP32[r>>2]=HEAP32[i+116+(A<<2)>>2],o=_h264bsdSubMbPartMode(HEAP32[e+176+(A<<2)>>2]),t=0!=(1&A|0)?8:0,a=2>A>>>0?0:8,o=0==o?15:1==o?16:2==o?17:18,18==o?(_h264bsdPredictSamples(H,i+132+(A<<2<<2),r,n,d,t,a,4,4),_h264bsdPredictSamples(H,i+132+(A<<2<<2)+4,r,n,d,t+4,a,4,4),_h264bsdPredictSamples(H,i+132+(A<<2<<2)+8,r,n,d,t,a+4,4,4),_h264bsdPredictSamples(H,i+132+(A<<2<<2)+12,r,n,d,t+4,a+4,4,4)):15==o?_h264bsdPredictSamples(H,i+132+(A<<2<<2),r,n,d,t,a,8,8):16==o?(_h264bsdPredictSamples(H,i+132+(A<<2<<2),r,n,d,t,a,8,4),_h264bsdPredictSamples(H,i+132+(A<<2<<2)+8,r,n,d,t,a+4,8,4)):17==o&&(_h264bsdPredictSamples(H,i+132+(A<<2<<2),r,n,d,t,a,4,8),_h264bsdPredictSamples(H,i+132+(A<<2<<2)+4,r,n,d,t+4,a,4,8)),A+=1;o=22;break i}}while(0)}else if(1==o){o=0!=(0|_MvPrediction16x16(i,e+12,A))?2:3;do{if(2==o){f=1,o=28;break i}if(3==o){HEAP32[r>>2]=HEAP32[i+116>>2],_h264bsdPredictSamples(H,i+132,r,n,d,0,0,16,16),o=22;break i}}while(0)}else if(4==o){o=0!=(0|_MvPrediction16x8(i,e+12,A))?5:6;do{if(5==o){f=1,o=28;break i}if(6==o){HEAP32[r>>2]=HEAP32[i+116>>2],_h264bsdPredictSamples(H,i+132,r,n,d,0,0,16,8),HEAP32[r>>2]=HEAP32[i+124>>2],_h264bsdPredictSamples(H,i+164,r,n,d,0,8,16,8),o=22;break i}}while(0)}else if(7==o){o=0!=(0|_MvPrediction8x16(i,e+12,A))?8:9;do{if(8==o){f=1,o=28;break i}if(9==o){HEAP32[r>>2]=HEAP32[i+116>>2],_h264bsdPredictSamples(H,i+132,r,n,d,0,0,8,16),HEAP32[r>>2]=HEAP32[i+120>>2],_h264bsdPredictSamples(H,i+148,r,n,d,8,0,8,16),o=22;break i}}while(0)}while(0);return 22==o&&(o=1<HEAPU32[i+196>>2]>>>0?23:24,23==o?f=0:24==o&&(o=0!=(0|HEAP32[i>>2])?25:26,25==o?_h264bsdWriteOutputBlocks(E,P,H,e+328):26==o&&_h264bsdWriteMacroblock(E,H),f=0)),STACKTOP=r,f}function _MvPrediction16x16(i,e,A){var P=STACKTOP;STACKTOP+=44;var E,H,r,o,f,t=P+4,a=P+8;r=HEAP32[e+132>>2],_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+200>>2],a,5),_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+204>>2],a+12,10),o=a+8,f=a+20,E=0==(0|HEAP32[i>>2])?1:8;i:do if(1==E){E=0!=(0|HEAP32[a>>2])?2:7;e:do if(2==E){if(0==(0|HEAP32[a+12>>2]))break e;E=0==(0|HEAP32[a+4>>2])?4:5;do if(4==E&&0==(0|HEAP32[o>>2]))break e;while(0);if(0!=(0|HEAP32[a+16>>2])){E=8;break i}if(0!=(0|HEAP32[f>>2])){E=8;break i}}while(0);HEAP16[P+2>>1]=0,HEAP16[P>>1]=0,E=15;break i}while(0);i:do if(8==E){for(o=P,E=e+148,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+208>>2],a+24,10),E=0!=(0|HEAP32[a+24>>2])?10:9,9==E&&_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+212>>2],a+24,15),_GetPredictionMv(t,a,r),HEAP16[P>>1]=(HEAP16[P>>1]<<16>>16)+(HEAP16[t>>1]<<16>>16)&65535,HEAP16[P+2>>1]=(HEAP16[P+2>>1]<<16>>16)+(HEAP16[t+2>>1]<<16>>16)&65535,E=16384<=(HEAP16[P>>1]<<16>>16)+8192>>>0?11:12;do{if(11==E){H=1,E=18;break i}if(12==E){E=4096<=(HEAP16[P+2>>1]<<16>>16)+2048>>>0?13:14;do{if(13==E){H=1,E=18;break i}if(14==E){E=15;break i}}while(0)}}while(0)}while(0);if(15==E)if(e=_h264bsdGetRefPicData(A,r),E=0==(0|e)?16:17,16==E)H=1;else if(17==E){for(E=P,o=i+192,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];for(E=i+192,o=i+188,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];for(E=i+188,o=i+184,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];for(E=i+184,o=i+180,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];for(E=i+180,o=i+176,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];for(E=i+176,o=i+172,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];for(E=i+172,o=i+168,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];for(E=i+168,o=i+164,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];for(E=i+164,o=i+160,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];for(E=i+160,o=i+156,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];for(E=i+156,o=i+152,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];for(E=i+152,o=i+148,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];for(E=i+148,o=i+144,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];for(E=i+144,o=i+140,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];for(E=i+140,o=i+136,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];for(E=i+136,o=i+132,f=E+4;E<f;)HEAP8[o++]=HEAP8[E++];HEAP32[i+100>>2]=r,HEAP32[i+104>>2]=r,HEAP32[i+108>>2]=r,HEAP32[i+112>>2]=r,HEAP32[i+116>>2]=e,HEAP32[i+120>>2]=e,HEAP32[i+124>>2]=e,HEAP32[i+128>>2]=e,H=0}return STACKTOP=P,H}function _MvPrediction16x8(i,e,A){var P=STACKTOP;STACKTOP+=44;var E,H,r,o,f,t,a=P+4,d=P+8;for(E=e+148,f=P,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];if(r=HEAP32[e+132>>2],_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+204>>2],d+12,10),E=(0|HEAP32[d+16>>2])==(0|r)?1:2,1==E)for(E=d+20,f=a,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];else 2==E&&(_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+200>>2],d,5),_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+208>>2],d+24,10),E=0!=(0|HEAP32[d+24>>2])?4:3,3==E&&_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+212>>2],d+24,15),_GetPredictionMv(a,d,r));if(HEAP16[P>>1]=(HEAP16[P>>1]<<16>>16)+(HEAP16[a>>1]<<16>>16)&65535,HEAP16[P+2>>1]=(HEAP16[P+2>>1]<<16>>16)+(HEAP16[a+2>>1]<<16>>16)&65535,E=16384<=(HEAP16[P>>1]<<16>>16)+8192>>>0?6:7,6==E)H=1;else if(7==E)if(E=4096<=(HEAP16[P+2>>1]<<16>>16)+2048>>>0?8:9,8==E)H=1;else if(9==E)if(o=_h264bsdGetRefPicData(A,r),E=0==(0|o)?10:11,10==E)H=1;else if(11==E){for(E=P,f=i+160,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+160,f=i+156,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+156,f=i+152,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+152,f=i+148,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+148,f=i+144,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+144,f=i+140,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+140,f=i+136,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+136,f=i+132,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(HEAP32[i+100>>2]=r,HEAP32[i+104>>2]=r,HEAP32[i+116>>2]=o,HEAP32[i+120>>2]=o,E=e+152,f=P,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];if(r=HEAP32[e+136>>2],_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+200>>2],d,13),E=(0|HEAP32[d+4>>2])==(0|r)?12:13,12==E)for(E=d+8,f=a,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];else if(13==E){for(HEAP32[d+12>>2]=1,HEAP32[d+16>>2]=HEAP32[i+100>>2],E=i+132,f=d+20,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+200>>2],d+24,7),_GetPredictionMv(a,d,r)}if(HEAP16[P>>1]=(HEAP16[P>>1]<<16>>16)+(HEAP16[a>>1]<<16>>16)&65535,HEAP16[P+2>>1]=(HEAP16[P+2>>1]<<16>>16)+(HEAP16[a+2>>1]<<16>>16)&65535,E=16384<=(HEAP16[P>>1]<<16>>16)+8192>>>0?15:16,15==E)H=1;else if(16==E)if(E=4096<=(HEAP16[P+2>>1]<<16>>16)+2048>>>0?17:18,17==E)H=1;else if(18==E)if(o=_h264bsdGetRefPicData(A,r),E=0==(0|o)?19:20,19==E)H=1;else if(20==E){for(E=P,f=i+192,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+192,f=i+188,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+188,f=i+184,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+184,f=i+180,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+180,f=i+176,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+176,f=i+172,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+172,f=i+168,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+168,f=i+164,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];HEAP32[i+108>>2]=r,HEAP32[i+112>>2]=r,HEAP32[i+124>>2]=o,HEAP32[i+128>>2]=o,H=0}}return STACKTOP=P,H}function _MvPrediction8x16(i,e,A){var P=STACKTOP;STACKTOP+=44;var E,H,r,o,f,t,a=P+4,d=P+8;for(E=e+148,f=P,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];if(r=HEAP32[e+132>>2],_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+200>>2],d,5),E=(0|HEAP32[d+4>>2])==(0|r)?1:2,1==E)for(E=d+8,f=a,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];else 2==E&&(_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+204>>2],d+12,10),_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+204>>2],d+24,14),E=0!=(0|HEAP32[d+24>>2])?4:3,3==E&&_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+212>>2],d+24,15),_GetPredictionMv(a,d,r));if(HEAP16[P>>1]=(HEAP16[P>>1]<<16>>16)+(HEAP16[a>>1]<<16>>16)&65535,HEAP16[P+2>>1]=(HEAP16[P+2>>1]<<16>>16)+(HEAP16[a+2>>1]<<16>>16)&65535,E=16384<=(HEAP16[P>>1]<<16>>16)+8192>>>0?6:7,6==E)H=1;else if(7==E)if(E=4096<=(HEAP16[P+2>>1]<<16>>16)+2048>>>0?8:9,8==E)H=1;else if(9==E)if(o=_h264bsdGetRefPicData(A,r),E=0==(0|o)?10:11,10==E)H=1;else if(11==E){for(E=P,f=i+176,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+176,f=i+172,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+172,f=i+168,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+168,f=i+164,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+164,f=i+144,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+144,f=i+140,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+140,f=i+136,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+136,f=i+132,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(HEAP32[i+100>>2]=r,HEAP32[i+108>>2]=r,HEAP32[i+116>>2]=o,HEAP32[i+124>>2]=o,E=e+152,f=P,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];if(r=HEAP32[e+136>>2],_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+208>>2],d+24,10),E=0!=(0|HEAP32[d+24>>2])?13:12,12==E&&_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+204>>2],d+24,11),E=(0|HEAP32[d+28>>2])==(0|r)?14:15,14==E)for(E=d+32,f=a,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];else if(15==E){for(HEAP32[d>>2]=1,HEAP32[d+4>>2]=HEAP32[i+100>>2],E=i+132,f=d+8,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];_GetInterNeighbour(HEAP32[i+4>>2],HEAP32[i+204>>2],d+12,14),_GetPredictionMv(a,d,r)}if(HEAP16[P>>1]=(HEAP16[P>>1]<<16>>16)+(HEAP16[a>>1]<<16>>16)&65535,HEAP16[P+2>>1]=(HEAP16[P+2>>1]<<16>>16)+(HEAP16[a+2>>1]<<16>>16)&65535,E=16384<=(HEAP16[P>>1]<<16>>16)+8192>>>0?17:18,17==E)H=1;else if(18==E)if(E=4096<=(HEAP16[P+2>>1]<<16>>16)+2048>>>0?19:20,19==E)H=1;else if(20==E)if(o=_h264bsdGetRefPicData(A,r),E=0==(0|o)?21:22,21==E)H=1;else if(22==E){for(E=P,f=i+192,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+192,f=i+188,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+188,f=i+184,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+184,f=i+180,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+180,f=i+160,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+160,f=i+156,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+156,f=i+152,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];for(E=i+152,f=i+148,t=E+4;E<t;)HEAP8[f++]=HEAP8[E++];HEAP32[i+104>>2]=r,HEAP32[i+112>>2]=r,HEAP32[i+120>>2]=o,HEAP32[i+128>>2]=o,H=0}}return STACKTOP=P,H}function _MvPrediction8x8(i,e,A){var P,E,H,r,o;H=0;i:for(;;){P=4>H>>>0?2:12;do if(2==P){o=_h264bsdNumSubMbPart(HEAP32[e+(H<<2)>>2]),HEAP32[i+100+(H<<2)>>2]=HEAP32[e+16+(H<<2)>>2],P=_h264bsdGetRefPicData(A,HEAP32[e+16+(H<<2)>>2]),HEAP32[i+116+(H<<2)>>2]=P,P=0==(0|HEAP32[i+116+(H<<2)>>2])?3:4;do{if(3==P){E=1;break i}if(4==P)for(r=0;;){P=r>>>0<o>>>0?6:10;do if(6==P){P=0!=(0|_MvPrediction(i,e,H,r))?7:8;do{if(7==P){E=1;break i}8==P&&(r+=1)}while(0)}else if(10==P){H+=1;continue i}while(0)}}while(0)}else if(12==P){E=0;break i}while(0)}return E}function _MedianFilter(i,e,A){var P,E,H;return P=E=H=i,i=(0|e)>(0|P)?1:2,1==i?P=e:2==i&&3==((0|e)<(0|E)?3:4)&&(E=e),i=(0|A)>(0|P)?6:7,6==i?H=P:7==i&&(i=(0|A)<(0|E)?8:9,8==i?H=E:9==i&&(H=A)),H}function _GetInterNeighbour(i,e,A,P){var E=STACKTOP;STACKTOP+=4;var H,r;HEAP32[A>>2]=0,HEAP32[A+4>>2]=-1,HEAP16[A+10>>1]=0,HEAP16[A+8>>1]=0,H=0!=(0|e)?1:5;i:do if(1==H){if((0|i)!=(0|HEAP32[e+4>>2]))break i;if(r=HEAP32[e>>2],HEAP32[A>>2]=1,H=5>=r>>>0?3:4,3==H){var o,f=E;for(r=e+132+(P<<2),o=r+4;r<o;)HEAP8[f++]=HEAP8[r++];for(r=HEAP32[e+100+(P>>>2<<2)>>2],HEAP32[A+4>>2]=r,r=E,f=A+8,o=r+4;r<o;)HEAP8[f++]=HEAP8[r++]}}while(0);STACKTOP=E}function _MvPrediction(i,e,A,P){var E=STACKTOP;STACKTOP+=44;var H,r,o,f,t=E+4,a=E+8;for(o=e+32+(A<<4)+(P<<2),H=E,f=o+4;o<f;)HEAP8[H++]=HEAP8[o++];if(o=_h264bsdSubMbPartMode(HEAP32[e+(A<<2)>>2]),e=HEAP32[e+16+(A<<2)>>2],H=_N_A_SUB_PART+(A<<7)+(o<<5)+(P<<3),f=_h264bsdGetNeighbourMb(i,HEAP32[H>>2]),_GetInterNeighbour(HEAP32[i+4>>2],f,a,255&HEAPU8[H+4]),H=_N_B_SUB_PART+(A<<7)+(o<<5)+(P<<3),f=_h264bsdGetNeighbourMb(i,HEAP32[H>>2]),_GetInterNeighbour(HEAP32[i+4>>2],f,a+12,255&HEAPU8[H+4]),H=_N_C_SUB_PART+(A<<7)+(o<<5)+(P<<3),f=_h264bsdGetNeighbourMb(i,HEAP32[H>>2]),_GetInterNeighbour(HEAP32[i+4>>2],f,a+24,255&HEAPU8[H+4]),H=0!=(0|HEAP32[a+24>>2])?2:1,1==H&&(H=_N_D_SUB_PART+(A<<7)+(o<<5)+(P<<3),f=_h264bsdGetNeighbourMb(i,HEAP32[H>>2]),_GetInterNeighbour(HEAP32[i+4>>2],f,a+24,255&HEAPU8[H+4])),_GetPredictionMv(t,a,e),HEAP16[E>>1]=(HEAP16[E>>1]<<16>>16)+(HEAP16[t>>1]<<16>>16)&65535,HEAP16[E+2>>1]=(HEAP16[E+2>>1]<<16>>16)+(HEAP16[t+2>>1]<<16>>16)&65535,H=16384<=(HEAP16[E>>1]<<16>>16)+8192>>>0?3:4,3==H)r=1;else if(4==H)if(H=4096<=(HEAP16[E+2>>1]<<16>>16)+2048>>>0?5:6,5==H)r=1;else if(6==H){if(H=0==o?7:1==o?8:2==o?9:3==o?10:11,7==H){for(o=E,H=i+132+(A<<2<<2),f=o+4;o<f;)HEAP8[H++]=HEAP8[o++];for(o=E,H=i+132+((A<<2)+1<<2),f=o+4;o<f;)HEAP8[H++]=HEAP8[o++];for(o=E,H=i+132+((A<<2)+2<<2),f=o+4;o<f;)HEAP8[H++]=HEAP8[o++];for(o=E,H=i+132+((A<<2)+3<<2),f=o+4;o<f;)HEAP8[H++]=HEAP8[o++]}else if(8==H){for(o=E,H=i+132+((A<<2)+(P<<1)<<2),f=o+4;o<f;)HEAP8[H++]=HEAP8[o++];for(o=E,H=i+132+((A<<2)+(P<<1)+1<<2),f=o+4;o<f;)HEAP8[H++]=HEAP8[o++]}else if(9==H){for(o=E,H=i+132+((A<<2)+P<<2),f=o+4;o<f;)HEAP8[H++]=HEAP8[o++];for(o=E,H=i+132+((A<<2)+P+2<<2),f=o+4;o<f;)HEAP8[H++]=HEAP8[o++]}else if(10==H)for(o=E,H=i+132+((A<<2)+P<<2),f=o+4;o<f;)HEAP8[H++]=HEAP8[o++];r=0}return STACKTOP=E,r}function _GetPredictionMv(i,e,A){var P,E,H;P=0!=(0|HEAP32[e+12>>2])?3:1;i:do if(1==P){if(0!=(0|HEAP32[e+24>>2])){P=3;break i}if(0==(0|HEAP32[e>>2])){P=3;break i}for(E=e+8,H=i,P=E+4;E<P;)HEAP8[H++]=HEAP8[E++];P=14;break i}while(0);if(3==P)if(E=(0|HEAP32[e+4>>2])==(0|A)?1:0,H=(0|HEAP32[e+16>>2])==(0|A)?1:0,A=(0|HEAP32[e+28>>2])==(0|A)?1:0,P=1!=(E+H+A|0)?4:5,4==P)A=65535&_MedianFilter(HEAP16[e+8>>1]<<16>>16,HEAP16[e+20>>1]<<16>>16,HEAP16[e+32>>1]<<16>>16),HEAP16[i>>1]=A,e=65535&_MedianFilter(HEAP16[e+10>>1]<<16>>16,HEAP16[e+22>>1]<<16>>16,HEAP16[e+34>>1]<<16>>16),HEAP16[i+2>>1]=e;else if(5==P)if(P=0!=(0|E)?6:7,6==P)for(E=e+8,H=i,P=E+4;E<P;)HEAP8[H++]=HEAP8[E++];else if(7==P)if(P=0!=(0|H)?8:9,8==P)for(E=e+20,H=i,P=E+4;E<P;)HEAP8[H++]=HEAP8[E++];else if(9==P)for(E=e+32,H=i,P=E+4;E<P;)HEAP8[H++]=HEAP8[E++]}function _h264bsdInterpolateChromaHor(i,e,A,P,E,H,r,o,f){var t=STACKTOP;STACKTOP+=144;var a,d,n,l,s,_,b,h,c,u;a=0>(0|A)?4:1;i:do if(1==a){if(o+(A+1)>>>0>E>>>0){a=4;break i}if(0>(0|P)){a=4;break i}a=P+f>>>0>H>>>0?4:5;break i}while(0);4==a&&(_h264bsdFillBlock(i,t,A,P,E,H,o+1,f,o+1),_h264bsdFillBlock(i+E*H,t+(o+1)*f,A,P,E,H,o+1,f,o+1),i=t,P=A=0,E=o+1,H=f),b=8-r,u=0;i:for(;1>=u>>>0;){h=i+(u*H+P)*E+A,c=e+(u<<3<<3),d=f>>>1;e:for(;0!=(0|d);){a=o>>>1;A:for(;0!=(0|a);)n=255&HEAPU8[h+E],s=h,h=s+1,l=255&HEAPU8[s],s=255&HEAPU8[h+E],_=h,h=_+1,_=255&HEAPU8[_],n=(b*n+r*s<<3)+32,n>>>=6,HEAP8[c+8]=255&n,n=(b*l+r*_<<3)+32,n>>>=6,l=c,c=l+1,HEAP8[l]=255&n,n=255&HEAPU8[h+E],l=255&HEAPU8[h],n=(b*s+r*n<<3)+32,n>>>=6,HEAP8[c+8]=255&n,n=(b*_+r*l<<3)+32,n>>>=6,s=c,c=s+1,HEAP8[s]=255&n,a-=1;c+=16-o,h+=(E<<1)-o,d-=1}u+=1}STACKTOP=t}function _h264bsdFillBlock(i,e,A,P,E,H,r,o,f){var t,a,d,n,l,s,_;t=A,a=P,d=t+r,P=0<=(0|t)?1:3;i:do if(1==P){if(!((0|d)<=(0|E))){P=3;break i}n=2,P=4;break i}while(0);if(3==P&&(n=4),5==(0>(a+o|0)?5:6)&&(a=-o),7==(0>(0|d)?7:8)&&(t=-r),9==((0|a)>(0|H)?9:10)&&(a=H),11==((0|t)>(0|E)?11:12)&&(t=E),d=t+r,A=a+o,13==(0<(0|t)?13:14)&&(i+=t),15==(0<(0|a)?15:16)&&(i+=a*E),P=0>(0|t)?17:18,17==P?l=-t:18==P&&(l=0),P=(0|d)>(0|E)?20:21,20==P?s=d-E:21==P&&(s=0),r=r-l-s,P=0>(0|a)?23:24,23==P?_=-a:24==P&&(_=0),P=(0|A)>(0|H)?26:27,26==P)var b=A-H;else 27==P&&(b=0);H=b,o=o-_-H;i:for(;0!=(0|_);)FUNCTION_TABLE[n](i,e,l,r,s),e+=f,_-=1;i:for(;0!=(0|o);)FUNCTION_TABLE[n](i,e,l,r,s),i+=E,e+=f,o-=1;i+=-E;i:for(;0!=(0|H);)FUNCTION_TABLE[n](i,e,l,r,s),e+=f,H-=1}function _h264bsdInterpolateChromaVer(i,e,A,P,E,H,r,o,f){var t=STACKTOP;STACKTOP+=144;var a,d,n,l,s,_,b,h,c;a=0>(0|A)?4:1;i:do if(1==a){if(A+o>>>0>E>>>0){a=4;break i}if(0>(0|P)){a=4;break i}a=f+(P+1)>>>0>H>>>0?4:5;break i}while(0);4==a&&(_h264bsdFillBlock(i,t,A,P,E,H,o,f+1,o),_h264bsdFillBlock(i+E*H,t+o*(f+1),A,P,E,H,o,f+1,o),i=t,P=A=0,E=o,H=f+1),_=8-r,c=0;i:for(;1>=c>>>0;){b=i+(c*H+P)*E+A,h=e+(c<<3<<3),d=f>>>1;e:for(;0!=(0|d);){a=o>>>1;A:for(;0!=(0|a);)s=255&HEAPU8[b+(E<<1)],l=255&HEAPU8[b+E],n=b,b=n+1,n=255&HEAPU8[n],s=(_*l+r*s<<3)+32,s>>>=6,HEAP8[h+8]=255&s,s=(_*n+r*l<<3)+32,s>>>=6,l=h,h=l+1,HEAP8[l]=255&s,s=255&HEAPU8[b+(E<<1)],l=255&HEAPU8[b+E],n=b,b=n+1,n=255&HEAPU8[n],s=(_*l+r*s<<3)+32,s>>>=6,HEAP8[h+8]=255&s,s=(_*n+r*l<<3)+32,s>>>=6,l=h,h=l+1,HEAP8[l]=255&s,a-=1;h+=16-o,b+=(E<<1)-o,d-=1}c+=1}STACKTOP=t}function _h264bsdInterpolateChromaHorVer(i,e,A,P,E,H,r,o,f,t){var a=STACKTOP;STACKTOP+=164;var d,n,l,s,_,b,h,c,u,U,w,k;d=0>(0|A)?4:1;i:do if(1==d){if(f+(A+1)>>>0>E>>>0){d=4;break i}if(0>(0|P)){d=4;break i}d=t+(P+1)>>>0>H>>>0?4:5;break i}while(0);4==d&&(_h264bsdFillBlock(i,a,A,P,E,H,f+1,t+1,f+1),_h264bsdFillBlock(i+E*H,a+(f+1)*(t+1),A,P,E,H,f+1,t+1,f+1),i=a,P=A=0,E=f+1,H=t+1),c=8-r,u=8-o,U=0;i:for(;1>=U>>>0;){w=i+(U*H+P)*E+A,k=e+(U<<3<<3),n=t>>>1;e:for(;0!=(0|n);){l=255&HEAPU8[w],_=255&HEAPU8[w+E],h=255&HEAPU8[w+(E<<1)],l*=u,l+=_*o,_*=u,_+=h*o,d=f>>>1;A:for(;0!=(0|d);)w=s=w+1,s=255&HEAPU8[s],b=255&HEAPU8[w+E],h=255&HEAPU8[w+(E<<1)],s*=u,s+=b*o,b*=u,b+=h*o,l=l*c+32,_=_*c+32,l+=s*r,l>>>=6,_+=b*r,_>>>=6,HEAP8[k+8]=255&_,_=k,k=_+1,HEAP8[_]=255&l,w=l=w+1,l=255&HEAPU8[l],_=255&HEAPU8[w+E],h=255&HEAPU8[w+(E<<1)],l*=u,l+=_*o,_*=u,_+=h*o,s=s*c+32,b=b*c+32,s+=l*r,s>>>=6,b+=_*r,b>>>=6,HEAP8[k+8]=255&b,b=k,k=b+1,HEAP8[b]=255&s,d-=1;k+=16-f,w+=(E<<1)-f,n-=1}U+=1}STACKTOP=a}function _h264bsdInterpolateVerHalf(i,e,A,P,E,H,r,o){var f=STACKTOP;STACKTOP+=444;var t,a,d,n,l,s,_;a=P,P=_h264bsdClip+512,t=0>(0|A)?4:1;i:do if(1==t){if(A+r>>>0>E>>>0){t=4;break i}if(0>(0|a)){t=4;break i}t=o+(a+5)>>>0>H>>>0?4:5;break i}while(0);4==t&&(_h264bsdFillBlock(i,f,A,a,E,H,r,o+5,r),a=A=0,i=f,E=r),H=i+(a*E+A)+E,i=H+5*E,o>>>=2;i:for(;0!=(0|o);){A=r;e:for(;0!=(0|A);)l=255&HEAPU8[i+(-E<<1)],a=255&HEAPU8[i+-E],t=255&HEAPU8[i+E],d=255&HEAPU8[i+(E<<1)],n=i,i=n+1,s=255&HEAPU8[n],_=l+t,d-=_<<2,d-=_,d+=16,_=a+s,n=255&HEAPU8[H+(E<<1)],d+=_<<4,d+=_<<2,d+=n,d=255&HEAPU8[P+(d>>5)],t+=16,HEAP8[e+48]=255&d,_=n+s,t-=_<<2,t-=_,_=l+a,d=255&HEAPU8[H+E],t+=_<<4,t+=_<<2,t+=d,t=255&HEAPU8[P+(t>>5)],s+=16,HEAP8[e+32]=255&t,_=d+a,s-=_<<2,s-=_,_=l+n,t=255&HEAPU8[H],s+=_<<4,s+=_<<2,s+=t,s=255&HEAPU8[P+(s>>5)],a+=16,HEAP8[e+16]=255&s,t+=l,a-=t<<2,a-=t,n+=d,s=255&HEAPU8[H+-E],a+=n<<4,a+=n<<2,a+=s,a=255&HEAPU8[P+(a>>5)],t=e,e=t+1,HEAP8[t]=255&a,H+=1,A-=1;H+=(E<<2)-r,i+=(E<<2)-r,e+=64-r,o-=1}STACKTOP=f}function _h264bsdInterpolateVerQuarter(i,e,A,P,E,H,r,o,f){var t=STACKTOP;STACKTOP+=444;var a,d,n,l,s,_,b;d=P,P=_h264bsdClip+512,a=0>(0|A)?4:1;i:do if(1==a){if(A+r>>>0>E>>>0){a=4;break i}if(0>(0|d)){a=4;break i}a=o+(d+5)>>>0>H>>>0?4:5;break i}while(0);4==a&&(_h264bsdFillBlock(i,t,A,d,E,H,r,o+5,r),d=A=0,i=t,E=r),H=i+(d*E+A)+E,i=H+5*E,f=H+(f+2)*E,o>>>=2;i:for(;0!=(0|o);){A=r;e:for(;0!=(0|A);)s=255&HEAPU8[i+(-E<<1)],d=255&HEAPU8[i+-E],a=255&HEAPU8[i+E],n=255&HEAPU8[i+(E<<1)],b=i,i=b+1,_=255&HEAPU8[b],b=s+a,n-=b<<2,n-=b,n+=16,b=d+_,l=255&HEAPU8[H+(E<<1)],n+=b<<4,n+=b<<2,n+=l,n=255&HEAPU8[P+(n>>5)],b=255&HEAPU8[f+(E<<1)],a+=16,n+=1,HEAP8[e+48]=n+b>>1&255,b=l+_,a-=b<<2,a-=b,b=s+d,n=255&HEAPU8[H+E],a+=b<<4,a+=b<<2,a+=n,a=255&HEAPU8[P+(a>>5)],b=255&HEAPU8[f+E],_+=16,a+=1,HEAP8[e+32]=a+b>>1&255,b=n+d,_-=b<<2,_-=b,b=s+l,a=255&HEAPU8[H],_+=b<<4,_+=b<<2,_+=a,_=255&HEAPU8[P+(_>>5)],b=255&HEAPU8[f],d+=16,_+=1,HEAP8[e+16]=_+b>>1&255,a+=s,d-=a<<2,d-=a,l+=n,_=255&HEAPU8[H+-E],d+=l<<4,d+=l<<2,d+=_,d=255&HEAPU8[P+(d>>5)],b=255&HEAPU8[f+-E],d+=1,a=e,e=a+1,HEAP8[a]=d+b>>1&255,H+=1,f+=1,A-=1;H+=(E<<2)-r,i+=(E<<2)-r,f+=(E<<2)-r,e+=64-r,o-=1}STACKTOP=t}function _h264bsdInterpolateHorHalf(i,e,A,P,E,H,r,o){var f=STACKTOP;STACKTOP+=444;var t,a,d,n,l,s;a=P,P=_h264bsdClip+512,t=0>(0|A)?4:1;i:do if(1==t){if(r+(A+5)>>>0>E>>>0){t=4;break i}if(0>(0|a)){t=4;break i}t=a+o>>>0>H>>>0?4:5;break i}while(0);4==t&&(_h264bsdFillBlock(i,f,A,a,E,H,r+5,o,r+5),a=A=0,i=f,E=r+5),H=i+(a*E+A)+5,i=o;i:for(;0!=(0|i);){l=255&HEAPU8[H-5],n=255&HEAPU8[H-4],d=255&HEAPU8[H-3],a=255&HEAPU8[H-2],A=255&HEAPU8[H-1],o=r>>>2;e:for(;0!=(0|o);){l+=16,s=a+d,l+=s<<4,l+=s<<2,s=A+n,t=H,H=t+1,t=255&HEAPU8[t],l-=s<<2,l-=s,l+=t,l=255&HEAPU8[P+(l>>5)],n+=16,s=A+a;var _=e,e=_+1;HEAP8[_]=255&l,n+=s<<4,n+=s<<2,s=t+d,l=H,H=l+1,l=255&HEAPU8[l],n-=s<<2,n-=s,n+=l,n=255&HEAPU8[P+(n>>5)],d+=16,s=t+A,_=e,e=_+1,HEAP8[_]=255&n,d+=s<<4,d+=s<<2,s=l+a,n=H,H=n+1,n=255&HEAPU8[n],d-=s<<2,d-=s,d+=n,d=255&HEAPU8[P+(d>>5)],a+=16,s=l+t,_=e,e=_+1,HEAP8[_]=255&d,a+=s<<4,a+=s<<2,s=n+A,d=H,H=d+1,d=255&HEAPU8[d],a-=s<<2,a-=s,a+=d,a=255&HEAPU8[P+(a>>5)],s=d,d=l,l=A,A=s,s=e,e=s+1,HEAP8[s]=255&a,a=n,n=t,o-=1}H+=E-r,e+=16-r,i-=1}STACKTOP=f}function _h264bsdInterpolateHorQuarter(i,e,A,P,E,H,r,o,f){var t=STACKTOP;STACKTOP+=444;var a,d,n,l,s,_;d=P,P=_h264bsdClip+512,a=0>(0|A)?4:1;i:do if(1==a){if(r+(A+5)>>>0>E>>>0){a=4;break i}if(0>(0|d)){a=4;break i}a=d+o>>>0>H>>>0?4:5;break i}while(0);4==a&&(_h264bsdFillBlock(i,t,A,d,E,H,r+5,o,r+5),d=A=0,i=t,E=r+5),H=i+(d*E+A)+5,i=o;i:for(;0!=(0|i);){_=255&HEAPU8[H-5],s=255&HEAPU8[H-4],l=255&HEAPU8[H-3],d=255&HEAPU8[H-2],A=255&HEAPU8[H-1],o=r>>>2;e:for(;0!=(0|o);)_+=16,a=d+l,_+=a<<4,_+=a<<2,a=A+s,n=H,H=n+1,n=255&HEAPU8[n],_-=a<<2,_-=a,_+=n,_=255&HEAPU8[P+(_>>5)],s+=16,a=0!=(0|f)?11:10,11==a?_+=d:10==a&&(_+=l),a=e,e=a+1,HEAP8[a]=_+1>>1&255,a=A+d,s+=a<<4,s+=a<<2,a=n+l,_=H,H=_+1,_=255&HEAPU8[_],s-=a<<2,s-=a,s+=_,s=255&HEAPU8[P+(s>>5)],l+=16,a=0!=(0|f)?14:13,14==a?s+=A:13==a&&(s+=d),a=e,e=a+1,HEAP8[a]=s+1>>1&255,a=n+A,l+=a<<4,l+=a<<2,a=_+d,s=H,H=s+1,s=255&HEAPU8[s],l-=a<<2,l-=a,l+=s,l=255&HEAPU8[P+(l>>5)],d+=16,a=0!=(0|f)?17:16,17==a?l+=n:16==a&&(l+=A),a=e,e=a+1,HEAP8[a]=l+1>>1&255,a=_+n,d+=a<<4,d+=a<<2,a=s+A,l=H,H=l+1,l=255&HEAPU8[l],d-=a<<2,d-=a,d+=l,d=255&HEAPU8[P+(d>>5)],a=0!=(0|f)?20:19,20==a?d+=_:19==a&&(d+=n),a=e,e=a+1,HEAP8[a]=d+1>>1&255,d=s,s=n,a=l,l=_,_=A,A=a,o-=1;H+=E-r,e+=16-r,i-=1}STACKTOP=t}function _h264bsdInterpolateHorVerQuarter(i,e,A,P,E,H,r,o,f){var t=STACKTOP;STACKTOP+=444;var a,d,n,l,s,_,b;d=P,P=_h264bsdClip+512,a=0>(0|A)?4:1;i:do if(1==a){if(r+(A+5)>>>0>E>>>0){a=4;break i}if(0>(0|d)){a=4;break i}a=o+(d+5)>>>0>H>>>0?4:5;break i}while(0);4==a&&(_h264bsdFillBlock(i,t,A,d,E,H,r+5,o+5,r+5),d=A=0,i=t,E=r+5),i+=d*E+A,A=i+(((2&f)>>>1)+2)*E+5,f=E+(i+2)+(1&f),i=o;i:for(;0!=(0|i);){_=255&HEAPU8[A-5],a=255&HEAPU8[A-4],s=255&HEAPU8[A-3],l=255&HEAPU8[A-2],d=255&HEAPU8[A-1],H=r>>>2;e:for(;0!=(0|H);){_+=16,b=l+s,_+=b<<4,_+=b<<2,b=d+a,n=A,A=n+1,n=255&HEAPU8[n],_-=b<<2,_-=b,_+=n,_=255&HEAPU8[P+(_>>5)],a+=16,b=d+l;var h=e,e=h+1;HEAP8[h]=255&_,a+=b<<4,a+=b<<2,b=n+s,_=A,A=_+1,_=255&HEAPU8[_],a-=b<<2,a-=b,a+=_,a=255&HEAPU8[P+(a>>5)],s+=16,b=n+d,h=e,e=h+1,HEAP8[h]=255&a,s+=b<<4,s+=b<<2,b=_+l,a=A,A=a+1,a=255&HEAPU8[a],s-=b<<2,s-=b,s+=a,s=255&HEAPU8[P+(s>>5)],l+=16,b=_+n,h=e,e=h+1,HEAP8[h]=255&s,l+=b<<4,l+=b<<2,b=a+d,s=A,A=s+1,s=255&HEAPU8[s],l-=b<<2,l-=b,l+=s,l=255&HEAPU8[P+(l>>5)],b=s,s=_,_=d,d=b,b=e,e=b+1,HEAP8[b]=255&l,l=a,a=n,H-=1}A+=E-r,e+=16-r,i-=1}e+=-(o<<4),A=f+5*E,i=o>>>2;i:for(;0!=(0|i);){H=r;e:for(;0!=(0|H);)s=255&HEAPU8[A+(-E<<1)],a=255&HEAPU8[A+-E],n=255&HEAPU8[A+E],d=255&HEAPU8[A+(E<<1)],o=A,A=o+1,_=255&HEAPU8[o],b=s+n,d-=b<<2,d-=b,d+=16,b=a+_,l=255&HEAPU8[f+(E<<1)],d+=b<<4,d+=b<<2,d+=l,b=255&HEAPU8[P+(d>>5)],d=255&HEAPU8[e+48],n+=16,b+=1,HEAP8[e+48]=d+b>>1&255,b=l+_,n-=b<<2,n-=b,b=s+a,d=255&HEAPU8[f+E],n+=b<<4,n+=b<<2,n+=d,b=255&HEAPU8[P+(n>>5)],n=255&HEAPU8[e+32],_+=16,b+=1,HEAP8[e+32]=n+b>>1&255,n=255&HEAPU8[f],b=d+a,_-=b<<2,_-=b,b=s+l,_+=b<<4,_+=b<<2,_+=n,b=255&HEAPU8[P+(_>>5)],_=255&HEAPU8[e+16],a+=16,b+=1,HEAP8[e+16]=_+b>>1&255,_=255&HEAPU8[f+-E],n+=s,a-=n<<2,a-=n,l+=d,a+=l<<4,a+=l<<2,a+=_,b=255&HEAPU8[P+(a>>5)],a=255&HEAPU8[e],b+=1,o=e,e=o+1,HEAP8[o]=a+b>>1&255,f+=1,H-=1;f+=(E<<2)-r,A+=(E<<2)-r,e+=64-r,i-=1}STACKTOP=t}function _h264bsdInterpolateMidHalf(i,e,A,P,E,H,r,o){var f=STACKTOP;STACKTOP+=1788;var t,a,d,n,l,s,_,b,h;b=f+444,a=P,P=E,E=_h264bsdClip+512,t=0>(0|A)?4:1;i:do if(1==t){if(r+(A+5)>>>0>P>>>0){t=4;break i}if(0>(0|a)){t=4;break i}t=o+(a+5)>>>0>H>>>0?4:5;break i}while(0);4==t&&(_h264bsdFillBlock(i,f,A,a,P,H,r+5,o+5,r+5),a=A=0,i=f,P=r+5),t=b,h=i+(a*P+A)+5,i=o+5;i:for(;0!=(0|i);){s=255&HEAPU8[h-5],l=255&HEAPU8[h-4],n=255&HEAPU8[h-3],d=255&HEAPU8[h-2],A=255&HEAPU8[h-1],H=r>>>2;e:for(;0!=(0|H);)_=d+n,s+=_<<4,s+=_<<2,_=A+l,a=h,h=a+1,a=255&HEAPU8[a],s-=_<<2,s-=_,s+=a,_=t,t=_+4,HEAP32[_>>2]=s,_=A+d,l+=_<<4,l+=_<<2,_=a+n,s=h,h=s+1,s=255&HEAPU8[s],l-=_<<2,l-=_,l+=s,_=t,t=_+4,HEAP32[_>>2]=l,_=a+A,n+=_<<4,n+=_<<2,_=s+d,l=h,h=l+1,l=255&HEAPU8[l],n-=_<<2,n-=_,n+=l,_=t,t=_+4,HEAP32[_>>2]=n,_=s+a,d+=_<<4,d+=_<<2,_=l+A,n=h,h=n+1,n=255&HEAPU8[n],d-=_<<2,d-=_,d+=n,_=t,t=_+4,HEAP32[_>>2]=d,_=n,n=s,s=A,A=_,d=l,l=a,H-=1;h+=P-r,i-=1}b+=r<<2,P=b+(5*r<<2),i=o>>>2;i:for(;0!=(0|i);){H=r;e:for(;0!=(0|H);)n=HEAP32[P+(-r<<1<<2)>>2],l=HEAP32[P+(-r<<2)>>2],a=HEAP32[P+(r<<2)>>2],A=HEAP32[P+(r<<1<<2)>>2],o=P,P=o+4,s=HEAP32[o>>2],_=n+a,A-=_<<2,A-=_,A+=512,_=l+s,d=HEAP32[b+(r<<1<<2)>>2],A+=_<<4,A+=_<<2,A+=d,_=255&HEAPU8[E+(A>>10)],a+=512,HEAP8[e+48]=255&_,_=d+s,a-=_<<2,a-=_,_=n+l,A=HEAP32[b+(r<<2)>>2],a+=_<<4,a+=_<<2,a+=A,_=255&HEAPU8[E+(a>>10)],s+=512,HEAP8[e+32]=255&_,
a=HEAP32[b>>2],_=A+l,s-=_<<2,s-=_,_=n+d,s+=_<<4,s+=_<<2,s+=a,_=255&HEAPU8[E+(s>>10)],l+=512,HEAP8[e+16]=255&_,s=HEAP32[b+(-r<<2)>>2],a+=n,l-=a<<2,l-=a,d+=A,l+=d<<4,l+=d<<2,l+=s,_=255&HEAPU8[E+(l>>10)],o=e,e=o+1,HEAP8[o]=255&_,b+=4,H-=1;e+=64-r,b+=3*r<<2,P+=3*r<<2,i-=1}STACKTOP=f}function _h264bsdInterpolateMidVerQuarter(i,e,A,P,E,H,r,o,f){var t=STACKTOP;STACKTOP+=1788;var a,d,n,l,s,_,b,h,c;b=t+444,d=P,P=E,E=_h264bsdClip+512,a=0>(0|A)?4:1;i:do if(1==a){if(r+(A+5)>>>0>P>>>0){a=4;break i}if(0>(0|d)){a=4;break i}a=o+(d+5)>>>0>H>>>0?4:5;break i}while(0);4==a&&(_h264bsdFillBlock(i,t,A,d,P,H,r+5,o+5,r+5),d=A=0,i=t,P=r+5),h=b,c=i+(d*P+A)+5,i=o+5;i:for(;0!=(0|i);){s=255&HEAPU8[c-5],d=255&HEAPU8[c-4],l=255&HEAPU8[c-3],n=255&HEAPU8[c-2],A=255&HEAPU8[c-1],H=r>>>2;e:for(;0!=(0|H);)_=n+l,s+=_<<4,s+=_<<2,_=A+d,a=c,c=a+1,a=255&HEAPU8[a],s-=_<<2,s-=_,s+=a,_=h,h=_+4,HEAP32[_>>2]=s,_=A+n,d+=_<<4,d+=_<<2,_=a+l,s=c,c=s+1,s=255&HEAPU8[s],d-=_<<2,d-=_,d+=s,_=h,h=_+4,HEAP32[_>>2]=d,_=a+A,l+=_<<4,l+=_<<2,_=s+n,d=c,c=d+1,d=255&HEAPU8[d],l-=_<<2,l-=_,l+=d,_=h,h=_+4,HEAP32[_>>2]=l,_=s+a,n+=_<<4,n+=_<<2,_=d+A,l=c,c=l+1,l=255&HEAPU8[l],n-=_<<2,n-=_,n+=l,_=h,h=_+4,HEAP32[_>>2]=n,_=l,l=s,s=A,A=_,n=d,d=a,H-=1;c+=P-r,i-=1}b+=r<<2,P=b+(5*r<<2),f=b+((f+2)*r<<2),i=o>>>2;i:for(;0!=(0|i);){H=r;e:for(;0!=(0|H);)l=HEAP32[P+(-r<<1<<2)>>2],d=HEAP32[P+(-r<<2)>>2],a=HEAP32[P+(r<<2)>>2],A=HEAP32[P+(r<<1<<2)>>2],o=P,P=o+4,s=HEAP32[o>>2],_=l+a,A-=_<<2,A-=_,A+=512,_=d+s,n=HEAP32[b+(r<<1<<2)>>2],A+=_<<4,A+=_<<2,_=HEAP32[f+(r<<1<<2)>>2],A+=n,A=255&HEAPU8[E+(A>>10)],_+=16,_=255&HEAPU8[E+(_>>5)],a+=512,A+=1,HEAP8[e+48]=_+A>>1&255,_=n+s,a-=_<<2,a-=_,_=l+d,A=HEAP32[b+(r<<2)>>2],a+=_<<4,a+=_<<2,_=HEAP32[f+(r<<2)>>2],a+=A,a=255&HEAPU8[E+(a>>10)],_+=16,_=255&HEAPU8[E+(_>>5)],s+=512,a+=1,HEAP8[e+32]=_+a>>1&255,a=HEAP32[b>>2],_=A+d,s-=_<<2,s-=_,_=l+n,s+=_<<4,s+=_<<2,_=HEAP32[f>>2],s+=a,s=255&HEAPU8[E+(s>>10)],_+=16,_=255&HEAPU8[E+(_>>5)],d+=512,s+=1,HEAP8[e+16]=_+s>>1&255,s=HEAP32[b+(-r<<2)>>2],a+=l,d-=a<<2,d-=a,n+=A,d+=n<<4,d+=n<<2,_=HEAP32[f+(-r<<2)>>2],d+=s,d=255&HEAPU8[E+(d>>10)],_+=16,_=255&HEAPU8[E+(_>>5)],d+=1,o=e,e=o+1,HEAP8[o]=_+d>>1&255,b+=4,f+=4,H-=1;e+=64-r,b+=3*r<<2,P+=3*r<<2,f+=3*r<<2,i-=1}STACKTOP=t}function _h264bsdInterpolateMidHorQuarter(i,e,A,P,E,H,r,o,f){var t=STACKTOP;STACKTOP+=1788;var a,d,n,l,s,_,b,h,c,u,U=t+444;d=E,u=r+5,E=_h264bsdClip+512,a=0>(0|A)?4:1;i:do if(1==a){if(r+(A+5)>>>0>d>>>0){a=4;break i}if(0>(0|P)){a=4;break i}a=o+(P+5)>>>0>H>>>0?4:5;break i}while(0);4==a&&(_h264bsdFillBlock(i,t,A,P,d,H,r+5,o+5,r+5),P=A=0,i=t,d=r+5),b=U+(u<<2),h=i+(P*d+A)+d,c=h+5*d,i=o>>>2;i:for(;0!=(0|i);){H=u;e:for(;0!=(0|H);)n=255&HEAPU8[c+(-d<<1)],l=255&HEAPU8[c+-d],P=255&HEAPU8[c+d],A=255&HEAPU8[c+(d<<1)],a=c,c=a+1,s=255&HEAPU8[a],_=n+P,A-=_<<2,A-=_,_=l+s,a=255&HEAPU8[h+(d<<1)],A+=_<<4,A+=_<<2,A+=a,HEAP32[b+(u<<1<<2)>>2]=A,_=a+s,P-=_<<2,P-=_,_=n+l,A=255&HEAPU8[h+d],P+=_<<4,P+=_<<2,P+=A,HEAP32[b+(u<<2)>>2]=P,P=255&HEAPU8[h],_=A+l,s-=_<<2,s-=_,_=n+a,s+=_<<4,s+=_<<2,s+=P,HEAP32[b>>2]=s,s=255&HEAPU8[h+-d],P+=n,l-=P<<2,l-=P,a+=A,l+=a<<4,l+=a<<2,l+=s,HEAP32[b+(-u<<2)>>2]=l,b+=4,h+=1,H-=1;h+=(d<<2)-r-5,c+=(d<<2)-r-5,b+=3*u<<2,i-=1}d=U+20,f=U+8+(f<<2),i=o;i:for(;0!=(0|i);){s=HEAP32[d-20>>2],l=HEAP32[d-16>>2],n=HEAP32[d-12>>2],a=HEAP32[d-8>>2],A=HEAP32[d-4>>2],H=r>>>2;e:for(;0!=(0|H);)s+=512,_=a+n,s+=_<<4,s+=_<<2,_=A+l,P=d,d=P+4,P=HEAP32[P>>2],s-=_<<2,s-=_,o=f,f=o+4,_=HEAP32[o>>2],s+=P,s=255&HEAPU8[E+(s>>10)],_+=16,_=255&HEAPU8[E+(_>>5)],l+=512,s+=1,o=e,e=o+1,HEAP8[o]=s+_>>1&255,_=A+a,l+=_<<4,l+=_<<2,_=P+n,o=d,d=o+4,s=HEAP32[o>>2],l-=_<<2,l-=_,o=f,f=o+4,_=HEAP32[o>>2],l+=s,l=255&HEAPU8[E+(l>>10)],_+=16,_=255&HEAPU8[E+(_>>5)],n+=512,l+=1,o=e,e=o+1,HEAP8[o]=l+_>>1&255,_=P+A,n+=_<<4,n+=_<<2,_=s+a,l=d,d=l+4,l=HEAP32[l>>2],n-=_<<2,n-=_,o=f,f=o+4,_=HEAP32[o>>2],n+=l,n=255&HEAPU8[E+(n>>10)],_+=16,_=255&HEAPU8[E+(_>>5)],a+=512,n+=1,o=e,e=o+1,HEAP8[o]=n+_>>1&255,_=s+P,a+=_<<4,a+=_<<2,_=l+A,n=d,d=n+4,n=HEAP32[n>>2],a-=_<<2,a-=_,o=f,f=o+4,_=HEAP32[o>>2],a+=n,a=255&HEAPU8[E+(a>>10)],_+=16,_=255&HEAPU8[E+(_>>5)],a+=1,o=e,e=o+1,HEAP8[o]=a+_>>1&255,a=l,l=P,_=n,n=s,s=A,A=_,H-=1;d+=20,f+=20,e+=16-r,i-=1}STACKTOP=t}function _FillRow1(i,e,A,P){_H264SwDecMemcpy(e,i,P)}function _h264bsdPredictSamples(i,e,A,P,E,H,r,o,f){var t,a,d,n,l,s,_;_=i+(r<<4)+H,t=HEAP16[e>>1]<<16>>16&3,a=HEAP16[e+2>>1]<<16>>16&3,d=HEAP32[A+4>>2]<<4,n=HEAP32[A+8>>2]<<4,l=P+H+(HEAP16[e>>1]<<16>>16>>2),s=E+r+(HEAP16[e+2>>1]<<16>>16>>2),t=HEAP32[_lumaFracPos+(t<<4)+(a<<2)>>2],t=0==t?1:1==t?2:2==t?3:3==t?4:4==t?5:5==t?6:6==t?7:7==t?8:8==t?9:9==t?10:10==t?11:11==t?12:12==t?13:13==t?14:14==t?15:16,16==t?_h264bsdInterpolateHorVerQuarter(HEAP32[A>>2],_,l-2,s-2,d,n,o,f,3):1==t?_h264bsdFillBlock(HEAP32[A>>2],_,l,s,d,n,o,f,16):2==t?_h264bsdInterpolateVerQuarter(HEAP32[A>>2],_,l,s-2,d,n,o,f,0):3==t?_h264bsdInterpolateVerHalf(HEAP32[A>>2],_,l,s-2,d,n,o,f):4==t?_h264bsdInterpolateVerQuarter(HEAP32[A>>2],_,l,s-2,d,n,o,f,1):5==t?_h264bsdInterpolateHorQuarter(HEAP32[A>>2],_,l-2,s,d,n,o,f,0):6==t?_h264bsdInterpolateHorVerQuarter(HEAP32[A>>2],_,l-2,s-2,d,n,o,f,0):7==t?_h264bsdInterpolateMidHorQuarter(HEAP32[A>>2],_,l-2,s-2,d,n,o,f,0):8==t?_h264bsdInterpolateHorVerQuarter(HEAP32[A>>2],_,l-2,s-2,d,n,o,f,2):9==t?_h264bsdInterpolateHorHalf(HEAP32[A>>2],_,l-2,s,d,n,o,f):10==t?_h264bsdInterpolateMidVerQuarter(HEAP32[A>>2],_,l-2,s-2,d,n,o,f,0):11==t?_h264bsdInterpolateMidHalf(HEAP32[A>>2],_,l-2,s-2,d,n,o,f):12==t?_h264bsdInterpolateMidVerQuarter(HEAP32[A>>2],_,l-2,s-2,d,n,o,f,1):13==t?_h264bsdInterpolateHorQuarter(HEAP32[A>>2],_,l-2,s,d,n,o,f,1):14==t?_h264bsdInterpolateHorVerQuarter(HEAP32[A>>2],_,l-2,s-2,d,n,o,f,1):15==t&&_h264bsdInterpolateMidHorQuarter(HEAP32[A>>2],_,l-2,s-2,d,n,o,f,1),_PredictChroma(i+256+(r>>>1<<3)+(H>>>1),P+H,E+r,o,f,e,A)}function _PredictChroma(i,e,A,P,E,H,r){var o,f,t,a;o=HEAP32[r+4>>2]<<3,f=HEAP32[r+8>>2]<<3,e=(e>>>1)+(HEAP16[H>>1]<<16>>16>>3),t=(A>>>1)+(HEAP16[H+2>>1]<<16>>16>>3),A=HEAP16[H>>1]<<16>>16&7,H=HEAP16[H+2>>1]<<16>>16&7,P>>>=1,E>>>=1,a=HEAP32[r>>2]+(HEAP32[r+4>>2]<<8)*HEAP32[r+8>>2],r=0!=(0|A)?1:3;i:do if(1==r){if(0==(0|H)){r=3;break i}_h264bsdInterpolateChromaHorVer(a,i,e,t,o,f,A,H,P,E),r=10;break i}while(0);3==r&&(r=0!=(0|A)?4:5,4==r?_h264bsdInterpolateChromaHor(a,i,e,t,o,f,A,P,E):5==r&&(r=0!=(0|H)?6:7,6==r?_h264bsdInterpolateChromaVer(a,i,e,t,o,f,H,P,E):7==r&&(_h264bsdFillBlock(a,i,e,t,o,f,P,E,8),_h264bsdFillBlock(a+o*f,i+64,e,t,o,f,P,E,8))))}function _h264bsdFillRow7(i,e,A,P,E){var H;1==(0!=(0|A)?1:2)&&(H=HEAP8[i]);i:for(;0!=(0|A);){var r=e,e=r+1;HEAP8[r]=H,A-=1}i:for(;0!=(0|P);)A=i,i=A+1,A=HEAP8[A],r=e,e=r+1,HEAP8[r]=A,P-=1;11==(0!=(0|E)?11:12)&&(H=HEAP8[i-1]);i:for(;0!=(0|E);)i=e,e=i+1,HEAP8[i]=H,E-=1}function _SetPicNums(i,e){var A,P,E;P=0;i:for(;P>>>0<HEAPU32[i+40>>2]>>>0;){A=1==(0|HEAP32[HEAP32[i>>2]+40*P+20>>2])?4:3;e:do if(3==A){A=2==(0|HEAP32[HEAP32[i>>2]+40*P+20>>2])?4:8;break e}while(0);4==A&&(A=HEAPU32[HEAP32[i>>2]+40*P+12>>2]>>>0>e>>>0?5:6,5==A?E=HEAP32[HEAP32[i>>2]+40*P+12>>2]-HEAP32[i+32>>2]:6==A&&(E=HEAP32[HEAP32[i>>2]+40*P+12>>2]),HEAP32[HEAP32[i>>2]+40*P+8>>2]=E),P+=1}}function _FindDpbPic(i,e,A){var P,E,H;H=E=0,A=0!=(0|A)?1:12;do if(1==A)i:for(;;){if(E>>>0<HEAPU32[i+24>>2]>>>0)A=3;else var r=0,A=4;if(3==A&&(r=0!=(0|H)^1),!r)break i;A=1==(0|HEAP32[HEAP32[i>>2]+40*E+20>>2])?7:6;e:do if(6==A){A=2==(0|HEAP32[HEAP32[i>>2]+40*E+20>>2])?7:9;break e}while(0);e:do if(7==A){if((0|HEAP32[HEAP32[i>>2]+40*E+8>>2])!=(0|e)){A=9;break e}H=1,A=10;break e}while(0);9==A&&(E+=1)}else if(12==A)i:for(;;){if(E>>>0<HEAPU32[i+24>>2]>>>0)A=14;else var o=0,A=15;if(14==A&&(o=0!=(0|H)^1),!o)break i;A=3==(0|HEAP32[HEAP32[i>>2]+40*E+20>>2])?17:19;e:do if(17==A){if((0|HEAP32[HEAP32[i>>2]+40*E+8>>2])!=(0|e)){A=19;break e}H=1,A=20;break e}while(0);19==A&&(E+=1)}while(0);return A=0!=(0|H)?23:24,23==A?P=E:24==A&&(P=-1),P}function _h264bsdReorderRefPicList(i,e,A,P){var E,H,r,o,f,t,a,d,n,l,s;_SetPicNums(i,A),E=0!=(0|HEAP32[e>>2])?2:1;i:do if(2==E){a=0,t=A,r=0;e:for(;;){E=3>HEAPU32[e+4+12*r>>2]>>>0?4:30;do{if(4==E){E=2>HEAPU32[e+4+12*r>>2]>>>0?5:15,5==E?(E=0==(0|HEAP32[e+4+12*r>>2])?6:9,6==E?(n=t-HEAP32[e+4+12*r+4>>2],E=0>(0|n)?7:8,7==E&&(n+=HEAP32[i+32>>2])):9==E&&(n=t+HEAP32[e+4+12*r+4>>2],E=(0|n)>=(0|HEAP32[i+32>>2])?10:11,10==E&&(n-=HEAP32[i+32>>2])),d=t=n,E=n>>>0>A>>>0?13:14,13==E&&(d-=HEAP32[i+32>>2]),s=1):15==E&&(d=HEAP32[e+4+12*r+8>>2],s=0),l=_FindDpbPic(i,d,s),E=0>(0|l)?18:17;A:do if(17==E){if(!(1<HEAPU32[HEAP32[i>>2]+40*l+20>>2]>>>0))break A;o=P;P:for(;o>>>0>a>>>0;)HEAP32[HEAP32[i+4>>2]+(o<<2)>>2]=HEAP32[HEAP32[i+4>>2]+(o-1<<2)>>2],o-=1;o=HEAP32[i>>2]+40*l,f=a,a=f+1,HEAP32[HEAP32[i+4>>2]+(f<<2)>>2]=o,o=f=a;P:for(;o>>>0<=P>>>0;){if(E=(0|HEAP32[HEAP32[i+4>>2]+(o<<2)>>2])!=(HEAP32[i>>2]+40*l|0)?26:27,26==E){var _=HEAP32[HEAP32[i+4>>2]+(o<<2)>>2],b=f;f=b+1,HEAP32[HEAP32[i+4>>2]+(b<<2)>>2]=_}o+=1}r+=1;continue e}while(0);H=1;break i}if(30==E){H=0;break i}}while(0)}}else 1==E&&(H=0);while(0);return H}function _h264bsdMarkDecRefPic(i,e,A,P,E,H,r,o){var f,t,a,d,A=(0|HEAP32[A>>2])!=(0|HEAP32[HEAP32[i+8>>2]>>2])?1:2;do if(1==A)f=1;else if(2==A){t=HEAP32[i+52>>2]=0,d=0!=(0|HEAP32[i+56>>2])?0:1,A=0==(0|e)?3:6;do if(3==A)HEAP32[HEAP32[i+8>>2]+20>>2]=0,HEAP32[HEAP32[i+8>>2]+12>>2]=P,HEAP32[HEAP32[i+8>>2]+8>>2]=P,HEAP32[HEAP32[i+8>>2]+16>>2]=E,HEAP32[HEAP32[i+8>>2]+24>>2]=d,A=0!=(0|HEAP32[i+56>>2])?5:4,4==A&&(HEAP32[i+44>>2]+=1);else if(6==A){A=0!=(0|H)?7:14;do if(7==A){HEAP32[i+20>>2]=0,HEAP32[i+16>>2]=0,_Mmcop5(i),A=0!=(0|HEAP32[e>>2])?9:8;i:do if(8==A){A=0!=(0|HEAP32[i+56>>2])?9:10;break i}while(0);9==A&&(HEAP32[i+16>>2]=0,HEAP32[i+20>>2]=0),A=0!=(0|HEAP32[e+4>>2])?11:12,11==A?(HEAP32[HEAP32[i+8>>2]+20>>2]=3,HEAP32[i+36>>2]=0):12==A&&(HEAP32[HEAP32[i+8>>2]+20>>2]=2,HEAP32[i+36>>2]=65535),HEAP32[HEAP32[i+8>>2]+12>>2]=0,HEAP32[HEAP32[i+8>>2]+8>>2]=0,HEAP32[HEAP32[i+8>>2]+16>>2]=0,HEAP32[HEAP32[i+8>>2]+24>>2]=d,HEAP32[i+44>>2]=1,HEAP32[i+40>>2]=1}else if(14==A){a=0,A=0!=(0|HEAP32[e+8>>2])?15:31;do if(15==A){f=0;i:for(;0!=(0|HEAP32[e+12+20*f>>2]);){A=HEAP32[e+12+20*f>>2],A=1==A?18:2==A?19:3==A?20:4==A?21:5==A?22:6==A?23:26,26==A?t=1:18==A?t=_Mmcop1(i,P,HEAP32[e+12+20*f+4>>2]):19==A?t=_Mmcop2(i,HEAP32[e+12+20*f+8>>2]):20==A?t=_Mmcop3(i,P,HEAP32[e+12+20*f+4>>2],HEAP32[e+12+20*f+12>>2]):21==A?t=_Mmcop4(i,HEAP32[e+12+20*f+16>>2]):22==A?(t=_Mmcop5(i),HEAP32[i+52>>2]=1,P=0):23==A&&(t=_Mmcop6(i,P,E,HEAP32[e+12+20*f+12>>2]),A=0==(0|t)?24:25,24==A&&(a=1)),A=0!=(0|t)?28:29;do{if(28==A)break i;29==A&&(f+=1)}while(0)}}else 31==A&&(t=_SlidingWindowRefPicMarking(i));while(0);A=0!=(0|a)?37:33,33==A&&(A=HEAPU32[i+40>>2]>>>0<HEAPU32[i+24>>2]>>>0?34:35,34==A?(HEAP32[HEAP32[i+8>>2]+12>>2]=P,HEAP32[HEAP32[i+8>>2]+8>>2]=P,HEAP32[HEAP32[i+8>>2]+16>>2]=E,HEAP32[HEAP32[i+8>>2]+20>>2]=2,HEAP32[HEAP32[i+8>>2]+24>>2]=d,HEAP32[i+44>>2]+=1,HEAP32[i+40>>2]+=1):35==A&&(t=1))}while(0)}while(0);HEAP32[HEAP32[i+8>>2]+36>>2]=H,HEAP32[HEAP32[i+8>>2]+28>>2]=r,HEAP32[HEAP32[i+8>>2]+32>>2]=o,A=0!=(0|HEAP32[i+56>>2])?40:41;do if(40==A)HEAP32[HEAP32[i+12>>2]+(HEAP32[i+16>>2]<<4)>>2]=HEAP32[HEAP32[i+8>>2]>>2],HEAP32[HEAP32[i+12>>2]+(HEAP32[i+16>>2]<<4)+12>>2]=HEAP32[HEAP32[i+8>>2]+36>>2],HEAP32[HEAP32[i+12>>2]+(HEAP32[i+16>>2]<<4)+4>>2]=HEAP32[HEAP32[i+8>>2]+28>>2],HEAP32[HEAP32[i+12>>2]+(HEAP32[i+16>>2]<<4)+8>>2]=HEAP32[HEAP32[i+8>>2]+32>>2],HEAP32[i+16>>2]+=1;else if(41==A)i:for(;HEAPU32[i+44>>2]>>>0>HEAPU32[i+28>>2]>>>0;)_OutputPicture(i);while(0);_ShellSort(HEAP32[i>>2],HEAP32[i+28>>2]+1),f=t}while(0);return f}function _Mmcop5(i){var e,A;A=0;i:for(;16>A>>>0;)e=0!=(0|HEAP32[HEAP32[i>>2]+40*A+20>>2])?3:6,3==e&&(HEAP32[HEAP32[i>>2]+40*A+20>>2]=0,e=0!=(0|HEAP32[HEAP32[i>>2]+40*A+24>>2])?5:4,4==e&&(HEAP32[i+44>>2]-=1)),A+=1;i:for(;0==(0|_OutputPicture(i)););return HEAP32[i+40>>2]=0,HEAP32[i+36>>2]=65535,HEAP32[i+48>>2]=0}function _Mmcop1(i,e,A){var P,A=_FindDpbPic(i,e-A,1),e=0>(0|A)?1:2;return 1==e?P=1:2==e&&(HEAP32[HEAP32[i>>2]+40*A+20>>2]=0,HEAP32[i+40>>2]-=1,e=0!=(0|HEAP32[HEAP32[i>>2]+40*A+24>>2])?4:3,3==e&&(HEAP32[i+44>>2]-=1),P=0),P}function _Mmcop2(i,e){var A,P,E;return E=_FindDpbPic(i,e,0),A=0>(0|E)?1:2,1==A?P=1:2==A&&(HEAP32[HEAP32[i>>2]+40*E+20>>2]=0,HEAP32[i+40>>2]-=1,A=0!=(0|HEAP32[HEAP32[i>>2]+40*E+24>>2])?4:3,3==A&&(HEAP32[i+44>>2]-=1),P=0),P}function _Mmcop3(i,e,A,P){var E,H,r;E=65535==(0|HEAP32[i+36>>2])?2:1;i:do if(1==E){if(P>>>0>HEAPU32[i+36>>2]>>>0){E=2;break i}r=0;e:for(;r>>>0<HEAPU32[i+24>>2]>>>0;){E=3==(0|HEAP32[HEAP32[i>>2]+40*r+20>>2])?6:10;A:do if(6==E){if((0|HEAP32[HEAP32[i>>2]+40*r+8>>2])!=(0|P))break A;HEAP32[HEAP32[i>>2]+40*r+20>>2]=0,HEAP32[i+40>>2]-=1,E=0!=(0|HEAP32[HEAP32[i>>2]+40*r+24>>2])?9:8,8==E&&(HEAP32[i+44>>2]-=1);break e}while(0);r+=1}E=e-A,r=_FindDpbPic(i,E,1),E=0>(0|r)?13:14;do{if(13==E){H=1,E=17;break i}if(14==E){E=1<HEAPU32[HEAP32[i>>2]+40*r+20>>2]>>>0?16:15;do{if(16==E){HEAP32[HEAP32[i>>2]+40*r+20>>2]=3,HEAP32[HEAP32[i>>2]+40*r+8>>2]=P,H=0,E=17;break i}if(15==E){H=1,E=17;break i}}while(0)}}while(0)}while(0);return 2==E&&(H=1),H}function _Mmcop4(i,e){var A,P;HEAP32[i+36>>2]=e,P=0;i:for(;P>>>0<HEAPU32[i+24>>2]>>>0;){A=3==(0|HEAP32[HEAP32[i>>2]+40*P+20>>2])?3:8;e:do if(3==A){A=HEAPU32[HEAP32[i>>2]+40*P+8>>2]>>>0>e>>>0?5:4;do if(4==A&&65535!=(0|HEAP32[i+36>>2]))break e;while(0);HEAP32[HEAP32[i>>2]+40*P+20>>2]=0,HEAP32[i+40>>2]-=1,A=0!=(0|HEAP32[HEAP32[i>>2]+40*P+24>>2])?7:6,6==A&&(HEAP32[i+44>>2]-=1)}while(0);P+=1}return 0}function _Mmcop6(i,e,A,P){var E,H,r;E=65535==(0|HEAP32[i+36>>2])?2:1;i:do if(1==E){if(P>>>0>HEAPU32[i+36>>2]>>>0){E=2;break i}r=0;e:for(;r>>>0<HEAPU32[i+24>>2]>>>0;){E=3==(0|HEAP32[HEAP32[i>>2]+40*r+20>>2])?6:10;A:do if(6==E){if((0|HEAP32[HEAP32[i>>2]+40*r+8>>2])!=(0|P))break A;HEAP32[HEAP32[i>>2]+40*r+20>>2]=0,HEAP32[i+40>>2]-=1,E=0!=(0|HEAP32[HEAP32[i>>2]+40*r+24>>2])?9:8,8==E&&(HEAP32[i+44>>2]-=1);break e}while(0);r+=1}E=HEAPU32[i+40>>2]>>>0<HEAPU32[i+24>>2]>>>0?13:17;do{if(13==E){HEAP32[HEAP32[i+8>>2]+12>>2]=e,HEAP32[HEAP32[i+8>>2]+8>>2]=P,HEAP32[HEAP32[i+8>>2]+16>>2]=A,HEAP32[HEAP32[i+8>>2]+20>>2]=3,E=0!=(0|HEAP32[i+56>>2])?14:15,14==E?HEAP32[HEAP32[i+8>>2]+24>>2]=0:15==E&&(HEAP32[HEAP32[i+8>>2]+24>>2]=1),HEAP32[i+40>>2]+=1,HEAP32[i+44>>2]+=1,H=0,E=18;break i}if(17==E){H=1,E=18;break i}}while(0)}while(0);return 2==E&&(H=1),H}function _SlidingWindowRefPicMarking(i){var e,A,P,E,H;e=HEAPU32[i+40>>2]>>>0<HEAPU32[i+24>>2]>>>0?1:2;do if(1==e)A=0;else if(2==e){P=-1,H=E=0;i:for(;H>>>0<HEAPU32[i+40>>2]>>>0;){e=1==(0|HEAP32[HEAP32[i>>2]+40*H+20>>2])?6:5;e:do if(5==e){e=2==(0|HEAP32[HEAP32[i>>2]+40*H+20>>2])?6:10;break e}while(0);do if(6==e){e=(0|HEAP32[HEAP32[i>>2]+40*H+8>>2])<(0|E)?8:7;e:do if(7==e){e=-1==(0|P)?8:9;break e}while(0);8==e&&(P=H,E=HEAP32[HEAP32[i>>2]+40*H+8>>2])}while(0);H+=1}e=0<=(0|P)?13:16,13==e?(HEAP32[HEAP32[i>>2]+40*P+20>>2]=0,HEAP32[i+40>>2]-=1,e=0!=(0|HEAP32[HEAP32[i>>2]+40*P+24>>2])?15:14,14==e&&(HEAP32[i+44>>2]-=1),A=0):16==e&&(A=1)}while(0);return A}function _h264bsdGetRefPicData(i,e){var A,P;A=16<e>>>0?2:1;i:do if(1==A){if(0==(0|HEAP32[HEAP32[i+4>>2]+(e<<2)>>2])){A=2;break i}A=1<HEAPU32[HEAP32[HEAP32[i+4>>2]+(e<<2)>>2]+20>>2]>>>0?5:4;do{if(5==A){P=HEAP32[HEAP32[HEAP32[i+4>>2]+(e<<2)>>2]>>2],A=6;break i}if(4==A){P=0,A=6;break i}}while(0)}while(0);return 2==A&&(P=0),P}function _h264bsdAllocateDpbImage(i){return HEAP32[i+8>>2]=HEAP32[i>>2]+40*HEAP32[i+28>>2],HEAP32[HEAP32[i+8>>2]>>2]}function _OutputPicture(i){var e,A,P;return e=0!=(0|HEAP32[i+56>>2])?1:2,1==e?A=1:2==e&&(P=_FindSmallestPicOrderCnt(i),e=0==(0|P)?3:4,3==e?A=1:4==e&&(HEAP32[HEAP32[i+12>>2]+(HEAP32[i+16>>2]<<4)>>2]=HEAP32[P>>2],HEAP32[HEAP32[i+12>>2]+(HEAP32[i+16>>2]<<4)+12>>2]=HEAP32[P+36>>2],HEAP32[HEAP32[i+12>>2]+(HEAP32[i+16>>2]<<4)+4>>2]=HEAP32[P+28>>2],HEAP32[HEAP32[i+12>>2]+(HEAP32[i+16>>2]<<4)+8>>2]=HEAP32[P+32>>2],HEAP32[i+16>>2]+=1,HEAP32[P+24>>2]=0,e=0!=(0|HEAP32[P+20>>2])?6:5,5==e&&(HEAP32[i+44>>2]-=1),A=0)),A}function _ShellSort(i,e){var A=STACKTOP;STACKTOP+=40;var P,E,H,r;r=7;i:for(;0!=(0|r);){E=r;e:for(;E>>>0<e>>>0;){H=A;var o,f,t;if(P=i+40*E,o=H,f=P+40,o%4==P%4){for(;0!==P%4&&P<f;)HEAP8[o++]=HEAP8[P++];for(P>>=2,o>>=2,t=f>>2;P<t;)HEAP32[o++]=HEAP32[P++];P<<=2,o<<=2}for(;P<f;)HEAP8[o++]=HEAP8[P++];H=E;A:for(;;){if(H>>>0>=r>>>0)P=6;else{var a=0;P=7}if(6==P&&(a=0<(0|_ComparePictures(i+40*H+40*-r,A))),!a)break A;if(P=i+40*(H-r),o=i+40*H,f=P+40,o%4==P%4){for(;0!==P%4&&P<f;)HEAP8[o++]=HEAP8[P++];for(P>>=2,o>>=2,t=f>>2;P<t;)HEAP32[o++]=HEAP32[P++];P<<=2,o<<=2}for(;P<f;)HEAP8[o++]=HEAP8[P++];H-=r}if(P=A,o=i+40*H,f=P+40,o%4==P%4){for(;0!==P%4&&P<f;)HEAP8[o++]=HEAP8[P++];for(P>>=2,o>>=2,t=f>>2;P<t;)HEAP32[o++]=HEAP32[P++];P<<=2,o<<=2}for(;P<f;)HEAP8[o++]=HEAP8[P++];E+=1}r>>>=1}STACKTOP=A}function _h264bsdInitDpb(i,e,A,P,E,H){var r,o;if(HEAP32[i+36>>2]=65535,r=1<P>>>0?1:2,1==r)var f=P;else 2==r&&(f=1);HEAP32[i+24>>2]=f,r=0!=(0|H)?4:5,4==r?HEAP32[i+28>>2]=HEAP32[i+24>>2]:5==r&&(HEAP32[i+28>>2]=A),HEAP32[i+32>>2]=E,HEAP32[i+56>>2]=H,HEAP32[i+44>>2]=0,HEAP32[i+40>>2]=0,HEAP32[i+48>>2]=0,r=_H264SwDecMalloc(680),HEAP32[i>>2]=r,r=0==(0|HEAP32[i>>2])?7:8;i:do if(7==r)o=65535;else if(8==r)for(_H264SwDecMemset(HEAP32[i>>2],0,680),A=0;;){r=A>>>0<HEAP32[i+28>>2]+1>>>0?10:14;do if(10==r){r=_H264SwDecMalloc(384*e+47),HEAP32[HEAP32[i>>2]+40*A+4>>2]=r,r=0==(0|HEAP32[HEAP32[i>>2]+40*A+4>>2])?11:12;do{if(11==r){o=65535;break i}12==r&&(HEAP32[HEAP32[i>>2]+40*A>>2]=HEAP32[HEAP32[i>>2]+40*A+4>>2]+Math.floor((16-HEAP32[HEAP32[i>>2]+40*A+4>>2]&15)>>>0),A+=1)}while(0)}else if(14==r){e=_H264SwDecMalloc(68),HEAP32[i+4>>2]=e,e=_H264SwDecMalloc(HEAP32[i+28>>2]+1<<4),HEAP32[i+12>>2]=e,r=0==(0|HEAP32[i+4>>2])?16:15;e:do if(15==r){if(0==(0|HEAP32[i+12>>2]))break e;_H264SwDecMemset(HEAP32[i+4>>2],0,68),HEAP32[i+20>>2]=0,o=HEAP32[i+16>>2]=0;break i}while(0);o=65535;break i}while(0)}while(0);return o}function _h264bsdFreeDpb(i){var e,A;e=0!=(0|HEAP32[i>>2])?1:6;do if(1==e){A=0;i:for(;A>>>0<HEAP32[i+28>>2]+1>>>0;)_H264SwDecFree(HEAP32[HEAP32[i>>2]+40*A+4>>2]),HEAP32[HEAP32[i>>2]+40*A+4>>2]=0,A+=1}while(0);_H264SwDecFree(HEAP32[i>>2]),HEAP32[i>>2]=0,_H264SwDecFree(HEAP32[i+4>>2]),HEAP32[i+4>>2]=0,_H264SwDecFree(HEAP32[i+12>>2]),HEAP32[i+12>>2]=0}function _h264bsdInitRefPicList(i){var e;e=0;i:for(;e>>>0<HEAPU32[i+40>>2]>>>0;)HEAP32[HEAP32[i+4>>2]+(e<<2)>>2]=HEAP32[i>>2]+40*e,e+=1}function _h264bsdDpbOutputPicture(i){var e,A;return e=HEAPU32[i+20>>2]>>>0<HEAPU32[i+16>>2]>>>0?1:2,1==e?(e=HEAP32[i+12>>2],A=HEAP32[i+20>>2],HEAP32[i+20>>2]=A+1,A=e+(A<<4)):2==e&&(A=0),A}function _ComparePictures(i,e){var A,P;A=0!=(0|HEAP32[i+20>>2])?9:1;i:do if(1==A){if(0!=(0|HEAP32[e+20>>2])){A=9;break i}A=0!=(0|HEAP32[i+24>>2])?3:5;e:do if(3==A){if(0!=(0|HEAP32[e+24>>2]))break e;P=-1,A=33;break i}while(0);A=0!=(0|HEAP32[i+24>>2])?8:6;e:do if(6==A){if(0==(0|HEAP32[e+24>>2]))break e;P=1,A=33;break i}while(0);P=0,A=33;break i}while(0);i:do if(9==A){A=0!=(0|HEAP32[e+20>>2])?11:10;do if(11==A){A=0!=(0|HEAP32[i+20>>2])?13:12;do if(13==A){A=1==(0|HEAP32[i+20>>2])?15:14;e:do if(14==A){A=2==(0|HEAP32[i+20>>2])?15:22;break e}while(0);e:do if(15==A){A=1==(0|HEAP32[e+20>>2])?17:16;do if(16==A&&2!=(0|HEAP32[e+20>>2]))break e;while(0);A=(0|HEAP32[i+8>>2])>(0|HEAP32[e+8>>2])?18:19;do{if(18==A){P=-1;break i}if(19==A){A=(0|HEAP32[i+8>>2])<(0|HEAP32[e+8>>2])?20:21;do{if(20==A){P=1;break i}if(21==A){P=0;break i}}while(0)}}while(0)}while(0);A=1==(0|HEAP32[i+20>>2])?24:23;e:do if(23==A){if(2==(0|HEAP32[i+20>>2]))break e;A=1==(0|HEAP32[e+20>>2])?27:26;A:do if(26==A){if(2==(0|HEAP32[e+20>>2]))break A;A=(0|HEAP32[i+8>>2])>(0|HEAP32[e+8>>2])?29:30;do{if(29==A){P=1;break i}if(30==A){A=(0|HEAP32[i+8>>2])<(0|HEAP32[e+8>>2])?31:32;do{if(31==A){P=-1;break i}if(32==A){P=0;break i}}while(0)}}while(0)}while(0);P=1;break i}while(0);P=-1}else 12==A&&(P=1);while(0)}else 10==A&&(P=-1);while(0)}while(0);return P}function _FindSmallestPicOrderCnt(i){var e,A,P,E;P=2147483647,A=E=0;i:for(;A>>>0<=HEAPU32[i+28>>2]>>>0;){e=0!=(0|HEAP32[HEAP32[i>>2]+40*A+24>>2])?3:5;e:do if(3==e){if(!((0|HEAP32[HEAP32[i>>2]+40*A+16>>2])<(0|P)))break e;E=HEAP32[i>>2]+40*A,P=HEAP32[HEAP32[i>>2]+40*A+16>>2]}while(0);A+=1}return E}function _h264bsdResetDpb(i,e,A,P,E,H){return _h264bsdFreeDpb(i),_h264bsdInitDpb(i,e,A,P,E,H)}function _h264bsdCheckGapsInFrameNum(i,e,A,P){var E,H;HEAP32[i+16>>2]=0,HEAP32[i+20>>2]=0,P=0!=(0|P)?2:1;i:do if(2==P){P=(0|e)!=(0|HEAP32[i+48>>2])?3:27;e:do if(3==P){if((0|e)==((HEAP32[i+48>>2]+1>>>0)%(HEAPU32[i+32>>2]>>>0)|0)){P=27;break e}H=(HEAP32[i+48>>2]+1>>>0)%(HEAPU32[i+32>>2]>>>0),E=HEAP32[HEAP32[i>>2]+40*HEAP32[i+28>>2]>>2];A:for(;;){_SetPicNums(i,H),P=0!=(0|_SlidingWindowRefPicMarking(i))?6:7;do{if(6==P){E=1;break i}if(7==P){P:for(;HEAPU32[i+44>>2]>>>0>=HEAPU32[i+28>>2]>>>0;)_OutputPicture(i);if(HEAP32[HEAP32[i>>2]+40*HEAP32[i+28>>2]+20>>2]=1,HEAP32[HEAP32[i>>2]+40*HEAP32[i+28>>2]+12>>2]=H,HEAP32[HEAP32[i>>2]+40*HEAP32[i+28>>2]+8>>2]=H,HEAP32[HEAP32[i>>2]+40*HEAP32[i+28>>2]+16>>2]=0,HEAP32[HEAP32[i>>2]+40*HEAP32[i+28>>2]+24>>2]=0,HEAP32[i+44>>2]+=1,HEAP32[i+40>>2]+=1,_ShellSort(HEAP32[i>>2],HEAP32[i+28>>2]+1),H=(H+1>>>0)%(HEAPU32[i+32>>2]>>>0),(0|H)==(0|e))break A}}while(0)}P=0!=(0|HEAP32[i+16>>2])?13:26;do if(13==P){H=0;A:for(;;){if(!(H>>>0<HEAPU32[i+16>>2]>>>0)){P=25;break A}if((0|HEAP32[HEAP32[i+12>>2]+(H<<4)>>2])==(0|HEAP32[HEAP32[i>>2]+40*HEAP32[i+28>>2]>>2])){P=16;break A}H+=1}do if(16==P){H=0;A:for(;H>>>0<HEAPU32[i+28>>2]>>>0;){P=(0|HEAP32[HEAP32[i>>2]+40*H>>2])==(0|E)?19:20;do{if(19==P){HEAP32[HEAP32[i>>2]+40*H>>2]=HEAP32[HEAP32[i>>2]+40*HEAP32[i+28>>2]>>2],HEAP32[HEAP32[i>>2]+40*HEAP32[i+28>>2]>>2]=E;break A}20==P&&(H+=1)}while(0)}}while(0)}while(0);P=31;break e}while(0);do if(27==P){P=0!=(0|A)?28:30;e:do if(28==P){if((0|e)!=(0|HEAP32[i+48>>2]))break e;E=1;break i}while(0)}while(0);P=0!=(0|A)?32:33,32==P?HEAP32[i+48>>2]=e:33==P&&(P=(0|e)!=(0|HEAP32[i+48>>2])?34:35,34==P&&(HEAP32[i+48>>2]=(e+HEAP32[i+32>>2]-1>>>0)%(HEAPU32[i+32>>2]>>>0))),E=0}else 1==P&&(E=0);while(0);return E}function _h264bsdFlushDpb(i){var e;e=0!=(0|HEAP32[i>>2])?1:5;do if(1==e){HEAP32[i+60>>2]=1;i:for(;0==(0|_OutputPicture(i)););}while(0)}function _h264bsdWriteMacroblock(i,e){var A,P,E,H,r,o,f,t;P=HEAP32[i+4>>2],E=HEAP32[i+12>>2],H=HEAP32[i+16>>2],r=HEAP32[i+20>>2],o=e,P<<=2,A=16;i:for(;0!=(0|A);){f=o,o=f+4,f=HEAP32[f>>2],t=o,o=t+4,t=HEAP32[t>>2];var a=E;E=a+4,HEAP32[a>>2]=f,f=E,E=f+4,HEAP32[f>>2]=t,f=o,o=f+4,f=HEAP32[f>>2],t=o,o=t+4,t=HEAP32[t>>2],a=E,E=a+4,HEAP32[a>>2]=f,f=E,E=f+4,HEAP32[f>>2]=t,E+=P-4<<2,A-=1}P>>>=1,A=8;i:for(;0!=(0|A);)E=o,o=E+4,f=HEAP32[E>>2],E=o,o=E+4,t=HEAP32[E>>2],E=H,H=E+4,HEAP32[E>>2]=f,E=H,H=E+4,HEAP32[E>>2]=t,H+=P-2<<2,A-=1;A=8;i:for(;0!=(0|A);)H=o,o=H+4,f=HEAP32[H>>2],H=o,o=H+4,t=HEAP32[H>>2],H=r,r=H+4,HEAP32[H>>2]=f,H=r,r=H+4,HEAP32[H>>2]=t,r+=P-2<<2,A-=1}function _h264bsdWriteOutputBlocks(i,e,A,P){var E,H,r,o,f,t,a,d,n,l,s,_;_=_h264bsdClip+512,r=HEAP32[i+4>>2],E=r*HEAP32[i+8>>2],f=Math.floor((e>>>0)/(r>>>0)),e=(e>>>0)%(r>>>0),o=HEAP32[i>>2]+(f*r<<8)+(e<<4),i=HEAP32[i>>2]+(E<<8)+(f*r<<6)+(e<<3),f=i+(E<<6),r<<=4,a=0;i:for(;16>a>>>0;){d=HEAP32[_h264bsdBlockX+(a<<2)>>2],H=HEAP32[_h264bsdBlockY+(a<<2)>>2],n=P+(a<<6),t=A+(H<<4)+d,e=o+H*r+d,E=16777215==(0|HEAP32[n>>2])?3:4;do if(3==E)H=t,s=e,d=HEAP32[H>>2],H+=16,l=HEAP32[H>>2],H+=16,HEAP32[s>>2]=d,s+=Math.floor((r>>>0)/4)<<2,HEAP32[s>>2]=l,s+=Math.floor((r>>>0)/4)<<2,d=HEAP32[H>>2],H+=16,l=HEAP32[H>>2],HEAP32[s>>2]=d,s+=Math.floor((r>>>0)/4)<<2,HEAP32[s>>2]=l;else if(4==E){H=4;e:for(;0!=(0|H);)d=255&HEAPU8[t],s=n,n=s+4,l=HEAP32[s>>2],s=255&HEAPU8[t+1],d=255&HEAPU8[_+(d+l)],l=n,n=l+4,l=HEAP32[l>>2],HEAP8[e]=255&d,s=255&HEAPU8[_+(s+l)],d=255&HEAPU8[t+2],l=n,n=l+4,l=HEAP32[l>>2],HEAP8[e+1]=255&s,d=255&HEAPU8[_+(d+l)],s=255&HEAPU8[t+3],l=n,n=l+4,l=HEAP32[l>>2],HEAP8[e+2]=255&d,s=255&HEAPU8[_+(s+l)],t+=16,HEAP8[e+3]=255&s,e+=r,H-=1}while(0);a+=1}r=Math.floor((r>>>0)/2),a=16;i:for(;23>=a>>>0;){d=HEAP32[_h264bsdBlockX+((3&a)<<2)>>2],H=HEAP32[_h264bsdBlockY+((3&a)<<2)>>2],n=P+(a<<6),t=A+256,e=i,E=20<=a>>>0?14:15,14==E&&(e=f,t+=64),t+=(H<<3)+d,e+=H*r+d,E=16777215==(0|HEAP32[n>>2])?16:17;do if(16==E)o=t,H=e,d=HEAP32[o>>2],o+=8,l=HEAP32[o>>2],o+=8,HEAP32[H>>2]=d,H+=Math.floor((r>>>0)/4)<<2,HEAP32[H>>2]=l,H+=Math.floor((r>>>0)/4)<<2,d=HEAP32[o>>2],o+=8,l=HEAP32[o>>2],HEAP32[H>>2]=d,H+=Math.floor((r>>>0)/4)<<2,HEAP32[H>>2]=l;else if(17==E){H=4;e:for(;0!=(0|H);)d=255&HEAPU8[t],o=n,n=o+4,l=HEAP32[o>>2],s=255&HEAPU8[t+1],d=255&HEAPU8[_+(d+l)],o=n,n=o+4,l=HEAP32[o>>2],HEAP8[e]=255&d,s=255&HEAPU8[_+(s+l)],d=255&HEAPU8[t+2],o=n,n=o+4,l=HEAP32[o>>2],HEAP8[e+1]=255&s,d=255&HEAPU8[_+(d+l)],s=255&HEAPU8[t+3],o=n,n=o+4,l=HEAP32[o>>2],HEAP8[e+2]=255&d,s=255&HEAPU8[_+(s+l)],t+=8,HEAP8[e+3]=255&s,e+=r,H-=1}while(0);a+=1}}function _InnerBoundaryStrength2(i,e,A){var P,E,H,r,o;P=HEAP16[i+132+(e<<2)>>1]<<16>>16,H=HEAP16[i+132+(A<<2)>>1]<<16>>16,r=HEAP16[i+132+(e<<2)+2>>1]<<16>>16,o=HEAP16[i+132+(A<<2)+2>>1]<<16>>16,P=4<=(0|_abs(P-H))?3:1;i:do if(1==P){if(4<=(0|_abs(r-o))){P=3;break i}if((0|HEAP32[i+116+(e>>>2<<2)>>2])!=(0|HEAP32[i+116+(A>>>2<<2)>>2])){P=3;break i}E=0,P=5;break i}while(0);return 3==P&&(E=1),E}function _h264bsdFilterPicture(i,e){var A=STACKTOP;STACKTOP+=164;var P,E,H,r,o,f,t,a=A+128;f=HEAP32[i+4>>2],H=f*HEAP32[i+8>>2],t=e,o=r=0;i:for(;r>>>0<HEAPU32[i+8>>2]>>>0;)E=_GetMbFilteringFlags(t),P=0!=(0|E)?3:6,3==P&&(P=0!=(0|_GetBoundaryStrengths(t,A,E))?4:5,4==P&&(_GetLumaEdgeThresholds(a,t,E),P=HEAP32[i>>2]+(r*f<<8)+(o<<4),_FilterLuma(P,A,a,f<<4),_GetChromaEdgeThresholds(a,t,E,HEAP32[t+24>>2]),P=HEAP32[i>>2]+(H<<8)+(r*f<<6)+(o<<3),_FilterChroma(P,P+(H<<6),A,a,f<<3))),o+=1,P=(0|o)==(0|f)?7:8,7==P&&(o=0,r+=1),t+=216;STACKTOP=A}function _GetMbFilteringFlags(i){var e,A;A=0,e=1!=(0|HEAP32[i+8>>2])?1:10;do if(1==e){A|=1,e=0!=(0|HEAP32[i+200>>2])?2:5;i:do if(2==e){e=2!=(0|HEAP32[i+8>>2])?4:3;do if(3==e&&0!=(0|_IsSliceBoundaryOnLeft(i)))break i;while(0);A|=4}while(0);e=0!=(0|HEAP32[i+204>>2])?6:9;i:do if(6==e){e=2!=(0|HEAP32[i+8>>2])?8:7;do if(7==e&&0!=(0|_IsSliceBoundaryOnTop(i)))break i;while(0);A|=2}while(0)}while(0);return A}function _GetBoundaryStrengths(i,e,A){var P,E;E=0,P=0!=(2&A|0)?1:11;do if(1==P){P=5<HEAPU32[i>>2]>>>0?3:2;i:do if(2==P){if(5<HEAPU32[HEAP32[i+204>>2]>>2]>>>0){P=3;break i}P=_EdgeBoundaryStrength(i,HEAP32[i+204>>2],0,10),HEAP32[e>>2]=P,P=_EdgeBoundaryStrength(i,HEAP32[i+204>>2],1,11),HEAP32[e+8>>2]=P,P=_EdgeBoundaryStrength(i,HEAP32[i+204>>2],4,14),HEAP32[e+16>>2]=P,P=_EdgeBoundaryStrength(i,HEAP32[i+204>>2],5,15),HEAP32[e+24>>2]=P,P=0!=(0|HEAP32[e>>2])?8:5;e:do if(5==P){if(0!=(0|HEAP32[e+8>>2])){P=8;break e}if(0!=(0|HEAP32[e+16>>2])){P=8;break e}P=0!=(0|HEAP32[e+24>>2])?8:9;break e}while(0);8==P&&(E=1),P=10;break i}while(0);3==P&&(HEAP32[e+24>>2]=4,HEAP32[e+16>>2]=4,HEAP32[e+8>>2]=4,HEAP32[e>>2]=4,E=1)}else 11==P&&(HEAP32[e+24>>2]=0,HEAP32[e+16>>2]=0,HEAP32[e+8>>2]=0,HEAP32[e>>2]=0);while(0);P=0!=(4&A|0)?13:24;do if(13==P){P=5<HEAPU32[i>>2]>>>0?15:14;i:do if(14==P){if(5<HEAPU32[HEAP32[i+200>>2]>>2]>>>0){P=15;break i}A=_EdgeBoundaryStrength(i,HEAP32[i+200>>2],0,5),HEAP32[e+4>>2]=A,A=_EdgeBoundaryStrength(i,HEAP32[i+200>>2],2,7),HEAP32[e+36>>2]=A,A=_EdgeBoundaryStrength(i,HEAP32[i+200>>2],8,13),HEAP32[e+68>>2]=A,A=_EdgeBoundaryStrength(i,HEAP32[i+200>>2],10,15),HEAP32[e+100>>2]=A,P=0!=(0|E)?22:17;e:do if(17==P){P=0!=(0|HEAP32[e+4>>2])?21:18;A:do if(18==P){if(0!=(0|HEAP32[e+36>>2]))break A;if(0!=(0|HEAP32[e+68>>2]))break A;if(0==(0|HEAP32[e+100>>2]))break e}while(0);E=1}while(0);P=23;break i}while(0);15==P&&(HEAP32[e+100>>2]=4,HEAP32[e+68>>2]=4,HEAP32[e+36>>2]=4,HEAP32[e+4>>2]=4,E=1)}else 24==P&&(HEAP32[e+100>>2]=0,HEAP32[e+68>>2]=0,HEAP32[e+36>>2]=0,HEAP32[e+4>>2]=0);while(0);P=5<HEAPU32[i>>2]>>>0?26:27;do if(26==P)HEAP32[e+120>>2]=3,HEAP32[e+112>>2]=3,HEAP32[e+104>>2]=3,HEAP32[e+96>>2]=3,HEAP32[e+88>>2]=3,HEAP32[e+80>>2]=3,HEAP32[e+72>>2]=3,HEAP32[e+64>>2]=3,HEAP32[e+56>>2]=3,HEAP32[e+48>>2]=3,HEAP32[e+40>>2]=3,HEAP32[e+32>>2]=3,HEAP32[e+124>>2]=3,HEAP32[e+116>>2]=3,HEAP32[e+108>>2]=3,HEAP32[e+92>>2]=3,HEAP32[e+84>>2]=3,HEAP32[e+76>>2]=3,HEAP32[e+60>>2]=3,HEAP32[e+52>>2]=3,HEAP32[e+44>>2]=3,HEAP32[e+28>>2]=3,HEAP32[e+20>>2]=3,HEAP32[e+12>>2]=3,E=1;else if(27==P){if(P=1==(0|_h264bsdNumMbPart(HEAP32[i>>2]))?28:29,28==P)_GetBoundaryStrengthsA(i,e);else if(29==P)if(P=2==(0|HEAP32[i>>2])?30:71,30==P){if(0!=(HEAP16[i+32>>1]<<16>>16|0)){var H=1;P=32}else P=31;if(31==P&&(H=0!=(HEAP16[i+28>>1]<<16>>16|0)),HEAP32[e+32>>2]=H?2:0,0!=(HEAP16[i+34>>1]<<16>>16|0)){var r=1;P=34}else P=33;if(33==P&&(r=0!=(HEAP16[i+30>>1]<<16>>16|0)),HEAP32[e+40>>2]=r?2:0,0!=(HEAP16[i+40>>1]<<16>>16|0)){var o=1;P=36}else P=35;if(35==P&&(o=0!=(HEAP16[i+36>>1]<<16>>16|0)),HEAP32[e+48>>2]=o?2:0,0!=(HEAP16[i+42>>1]<<16>>16|0)){var f=1;P=38}else P=37;if(37==P&&(f=0!=(HEAP16[i+38>>1]<<16>>16|0)),HEAP32[e+56>>2]=f?2:0,0!=(HEAP16[i+48>>1]<<16>>16|0)){var t=1;P=40}else P=39;if(39==P&&(t=0!=(HEAP16[i+44>>1]<<16>>16|0)),HEAP32[e+96>>2]=t?2:0,0!=(HEAP16[i+50>>1]<<16>>16|0)){var a=1;P=42}else P=41;if(41==P&&(a=0!=(HEAP16[i+46>>1]<<16>>16|0)),HEAP32[e+104>>2]=a?2:0,0!=(HEAP16[i+56>>1]<<16>>16|0)){var d=1;P=44}else P=43;if(43==P&&(d=0!=(HEAP16[i+52>>1]<<16>>16|0)),HEAP32[e+112>>2]=d?2:0,0!=(HEAP16[i+58>>1]<<16>>16|0)){var n=1;P=46}else P=45;if(45==P&&(n=0!=(HEAP16[i+54>>1]<<16>>16|0)),HEAP32[e+120>>2]=n?2:0,A=_InnerBoundaryStrength(i,8,2),HEAP32[e+64>>2]=A,A=_InnerBoundaryStrength(i,9,3),HEAP32[e+72>>2]=A,A=_InnerBoundaryStrength(i,12,6),HEAP32[e+80>>2]=A,A=_InnerBoundaryStrength(i,13,7),HEAP32[e+88>>2]=A,0!=(HEAP16[i+30>>1]<<16>>16|0)){var l=1;P=48}else P=47;if(47==P&&(l=0!=(HEAP16[i+28>>1]<<16>>16|0)),HEAP32[e+12>>2]=l?2:0,0!=(HEAP16[i+36>>1]<<16>>16|0)){var s=1;P=50}else P=49;if(49==P&&(s=0!=(HEAP16[i+30>>1]<<16>>16|0)),HEAP32[e+20>>2]=s?2:0,0!=(HEAP16[i+38>>1]<<16>>16|0)){var _=1;P=52}else P=51;if(51==P&&(_=0!=(HEAP16[i+36>>1]<<16>>16|0)),HEAP32[e+28>>2]=_?2:0,0!=(HEAP16[i+34>>1]<<16>>16|0)){var b=1;P=54}else P=53;if(53==P&&(b=0!=(HEAP16[i+32>>1]<<16>>16|0)),HEAP32[e+44>>2]=b?2:0,0!=(HEAP16[i+40>>1]<<16>>16|0)){var h=1;P=56}else P=55;if(55==P&&(h=0!=(HEAP16[i+34>>1]<<16>>16|0)),HEAP32[e+52>>2]=h?2:0,0!=(HEAP16[i+42>>1]<<16>>16|0)){var c=1;P=58}else P=57;if(57==P&&(c=0!=(HEAP16[i+40>>1]<<16>>16|0)),HEAP32[e+60>>2]=c?2:0,0!=(HEAP16[i+46>>1]<<16>>16|0)){var u=1;P=60}else P=59;if(59==P&&(u=0!=(HEAP16[i+44>>1]<<16>>16|0)),HEAP32[e+76>>2]=u?2:0,0!=(HEAP16[i+52>>1]<<16>>16|0)){var U=1;P=62}else P=61;if(61==P&&(U=0!=(HEAP16[i+46>>1]<<16>>16|0)),HEAP32[e+84>>2]=U?2:0,0!=(HEAP16[i+54>>1]<<16>>16|0)){var w=1;P=64}else P=63;if(63==P&&(w=0!=(HEAP16[i+52>>1]<<16>>16|0)),HEAP32[e+92>>2]=w?2:0,0!=(HEAP16[i+50>>1]<<16>>16|0)){var k=1;P=66}else P=65;if(65==P&&(k=0!=(HEAP16[i+48>>1]<<16>>16|0)),HEAP32[e+108>>2]=k?2:0,0!=(HEAP16[i+56>>1]<<16>>16|0)){var S=1;P=68}else P=67;if(67==P&&(S=0!=(HEAP16[i+50>>1]<<16>>16|0)),HEAP32[e+116>>2]=S?2:0,0!=(HEAP16[i+58>>1]<<16>>16|0)){var p=1;P=70}else P=69;69==P&&(p=0!=(HEAP16[i+56>>1]<<16>>16|0)),HEAP32[e+124>>2]=p?2:0}else if(71==P)if(P=3==(0|HEAP32[i>>2])?72:113,72==P){if(0!=(HEAP16[i+32>>1]<<16>>16|0)){var T=1;P=74}else P=73;if(73==P&&(T=0!=(HEAP16[i+28>>1]<<16>>16|0)),HEAP32[e+32>>2]=T?2:0,0!=(HEAP16[i+34>>1]<<16>>16|0)){var C=1;P=76}else P=75;if(75==P&&(C=0!=(HEAP16[i+30>>1]<<16>>16|0)),HEAP32[e+40>>2]=C?2:0,0!=(HEAP16[i+40>>1]<<16>>16|0)){var m=1;P=78}else P=77;if(77==P&&(m=0!=(HEAP16[i+36>>1]<<16>>16|0)),HEAP32[e+48>>2]=m?2:0,0!=(HEAP16[i+42>>1]<<16>>16|0)){var v=1;P=80}else P=79;if(79==P&&(v=0!=(HEAP16[i+38>>1]<<16>>16|0)),HEAP32[e+56>>2]=v?2:0,0!=(HEAP16[i+44>>1]<<16>>16|0)){var I=1;P=82}else P=81;if(81==P&&(I=0!=(HEAP16[i+32>>1]<<16>>16|0)),HEAP32[e+64>>2]=I?2:0,0!=(HEAP16[i+46>>1]<<16>>16|0)){var g=1;P=84}else P=83;if(83==P&&(g=0!=(HEAP16[i+34>>1]<<16>>16|0)),HEAP32[e+72>>2]=g?2:0,0!=(HEAP16[i+52>>1]<<16>>16|0)){var O=1;P=86}else P=85;if(85==P&&(O=0!=(HEAP16[i+40>>1]<<16>>16|0)),HEAP32[e+80>>2]=O?2:0,0!=(HEAP16[i+54>>1]<<16>>16|0)){var D=1;P=88}else P=87;if(87==P&&(D=0!=(HEAP16[i+42>>1]<<16>>16|0)),HEAP32[e+88>>2]=D?2:0,0!=(HEAP16[i+48>>1]<<16>>16|0)){var M=1;P=90}else P=89;if(89==P&&(M=0!=(HEAP16[i+44>>1]<<16>>16|0)),HEAP32[e+96>>2]=M?2:0,0!=(HEAP16[i+50>>1]<<16>>16|0)){var x=1;P=92}else P=91;if(91==P&&(x=0!=(HEAP16[i+46>>1]<<16>>16|0)),HEAP32[e+104>>2]=x?2:0,0!=(HEAP16[i+56>>1]<<16>>16|0)){var N=1;P=94}else P=93;if(93==P&&(N=0!=(HEAP16[i+52>>1]<<16>>16|0)),
HEAP32[e+112>>2]=N?2:0,0!=(HEAP16[i+58>>1]<<16>>16|0)){var B=1;P=96}else P=95;if(95==P&&(B=0!=(HEAP16[i+54>>1]<<16>>16|0)),HEAP32[e+120>>2]=B?2:0,0!=(HEAP16[i+30>>1]<<16>>16|0)){var F=1;P=98}else P=97;if(97==P&&(F=0!=(HEAP16[i+28>>1]<<16>>16|0)),HEAP32[e+12>>2]=F?2:0,0!=(HEAP16[i+38>>1]<<16>>16|0)){var L=1;P=100}else P=99;if(99==P&&(L=0!=(HEAP16[i+36>>1]<<16>>16|0)),HEAP32[e+28>>2]=L?2:0,0!=(HEAP16[i+34>>1]<<16>>16|0)){var G=1;P=102}else P=101;if(101==P&&(G=0!=(HEAP16[i+32>>1]<<16>>16|0)),HEAP32[e+44>>2]=G?2:0,0!=(HEAP16[i+42>>1]<<16>>16|0)){var R=1;P=104}else P=103;if(103==P&&(R=0!=(HEAP16[i+40>>1]<<16>>16|0)),HEAP32[e+60>>2]=R?2:0,0!=(HEAP16[i+46>>1]<<16>>16|0)){var y=1;P=106}else P=105;if(105==P&&(y=0!=(HEAP16[i+44>>1]<<16>>16|0)),HEAP32[e+76>>2]=y?2:0,0!=(HEAP16[i+54>>1]<<16>>16|0)){var K=1;P=108}else P=107;if(107==P&&(K=0!=(HEAP16[i+52>>1]<<16>>16|0)),HEAP32[e+92>>2]=K?2:0,0!=(HEAP16[i+50>>1]<<16>>16|0)){var X=1;P=110}else P=109;if(109==P&&(X=0!=(HEAP16[i+48>>1]<<16>>16|0)),HEAP32[e+108>>2]=X?2:0,0!=(HEAP16[i+58>>1]<<16>>16|0)){var V=1;P=112}else P=111;111==P&&(V=0!=(HEAP16[i+56>>1]<<16>>16|0)),HEAP32[e+124>>2]=V?2:0,A=_InnerBoundaryStrength(i,4,1),HEAP32[e+20>>2]=A,A=_InnerBoundaryStrength(i,6,3),HEAP32[e+52>>2]=A,A=_InnerBoundaryStrength(i,12,9),HEAP32[e+84>>2]=A,A=_InnerBoundaryStrength(i,14,11),HEAP32[e+116>>2]=A}else 113==P&&(A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+16>>2],HEAP32[_mb4x4Index>>2]),HEAP32[e+32>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+20>>2],HEAP32[_mb4x4Index+4>>2]),HEAP32[e+40>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+24>>2],HEAP32[_mb4x4Index+8>>2]),HEAP32[e+48>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+28>>2],HEAP32[_mb4x4Index+12>>2]),HEAP32[e+56>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+32>>2],HEAP32[_mb4x4Index+16>>2]),HEAP32[e+64>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+36>>2],HEAP32[_mb4x4Index+20>>2]),HEAP32[e+72>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+40>>2],HEAP32[_mb4x4Index+24>>2]),HEAP32[e+80>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+44>>2],HEAP32[_mb4x4Index+28>>2]),HEAP32[e+88>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+48>>2],HEAP32[_mb4x4Index+32>>2]),HEAP32[e+96>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+52>>2],HEAP32[_mb4x4Index+36>>2]),HEAP32[e+104>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+56>>2],HEAP32[_mb4x4Index+40>>2]),HEAP32[e+112>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+60>>2],HEAP32[_mb4x4Index+44>>2]),HEAP32[e+120>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+4>>2],HEAP32[_mb4x4Index>>2]),HEAP32[e+12>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+8>>2],HEAP32[_mb4x4Index+4>>2]),HEAP32[e+20>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+12>>2],HEAP32[_mb4x4Index+8>>2]),HEAP32[e+28>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+20>>2],HEAP32[_mb4x4Index+16>>2]),HEAP32[e+44>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+24>>2],HEAP32[_mb4x4Index+20>>2]),HEAP32[e+52>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+28>>2],HEAP32[_mb4x4Index+24>>2]),HEAP32[e+60>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+36>>2],HEAP32[_mb4x4Index+32>>2]),HEAP32[e+76>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+40>>2],HEAP32[_mb4x4Index+36>>2]),HEAP32[e+84>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+44>>2],HEAP32[_mb4x4Index+40>>2]),HEAP32[e+92>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+52>>2],HEAP32[_mb4x4Index+48>>2]),HEAP32[e+108>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+56>>2],HEAP32[_mb4x4Index+52>>2]),HEAP32[e+116>>2]=A,A=_InnerBoundaryStrength(i,HEAP32[_mb4x4Index+60>>2],HEAP32[_mb4x4Index+56>>2]),HEAP32[e+124>>2]=A);P=0!=(0|E)?142:117;i:do if(117==P){P=0!=(0|HEAP32[e+32>>2])?141:118;e:do if(118==P){if(0!=(0|HEAP32[e+40>>2]))break e;if(0!=(0|HEAP32[e+48>>2]))break e;if(0!=(0|HEAP32[e+56>>2]))break e;if(0!=(0|HEAP32[e+64>>2]))break e;if(0!=(0|HEAP32[e+72>>2]))break e;if(0!=(0|HEAP32[e+80>>2]))break e;if(0!=(0|HEAP32[e+88>>2]))break e;if(0!=(0|HEAP32[e+96>>2]))break e;if(0!=(0|HEAP32[e+104>>2]))break e;if(0!=(0|HEAP32[e+112>>2]))break e;if(0!=(0|HEAP32[e+120>>2]))break e;if(0!=(0|HEAP32[e+12>>2]))break e;if(0!=(0|HEAP32[e+20>>2]))break e;if(0!=(0|HEAP32[e+28>>2]))break e;if(0!=(0|HEAP32[e+44>>2]))break e;if(0!=(0|HEAP32[e+52>>2]))break e;if(0!=(0|HEAP32[e+60>>2]))break e;if(0!=(0|HEAP32[e+76>>2]))break e;if(0!=(0|HEAP32[e+84>>2]))break e;if(0!=(0|HEAP32[e+92>>2]))break e;if(0!=(0|HEAP32[e+108>>2]))break e;if(0!=(0|HEAP32[e+116>>2]))break e;if(0==(0|HEAP32[e+124>>2]))break i}while(0);E=1}while(0)}while(0);return E}function _FilterLuma(i,e,A,P){var E,H,r;H=e,r=0,e=4;i:for(;E=e,e=E-1,0!=(0|E);){E=0!=(0|HEAP32[H+4>>2])?3:4,3==E&&_FilterVerLumaEdge(i,HEAP32[H+4>>2],A+12,P),E=0!=(0|HEAP32[H+12>>2])?5:6,5==E&&_FilterVerLumaEdge(i+4,HEAP32[H+12>>2],A+24,P),E=0!=(0|HEAP32[H+20>>2])?7:8,7==E&&_FilterVerLumaEdge(i+8,HEAP32[H+20>>2],A+24,P),E=0!=(0|HEAP32[H+28>>2])?9:10,9==E&&_FilterVerLumaEdge(i+12,HEAP32[H+28>>2],A+24,P),E=(0|HEAP32[H>>2])==(0|HEAP32[H+8>>2])?11:16;e:do if(11==E){if((0|HEAP32[H+8>>2])!=(0|HEAP32[H+16>>2])){E=16;break e}if((0|HEAP32[H+16>>2])!=(0|HEAP32[H+24>>2])){E=16;break e}E=0!=(0|HEAP32[H>>2])?14:15,14==E&&_FilterHorLuma(i,HEAP32[H>>2],A+12*r,P),E=25;break e}while(0);16==E&&(E=0!=(0|HEAP32[H>>2])?17:18,17==E&&_FilterHorLumaEdge(i,HEAP32[H>>2],A+12*r,P),E=0!=(0|HEAP32[H+8>>2])?19:20,19==E&&_FilterHorLumaEdge(i+4,HEAP32[H+8>>2],A+12*r,P),E=0!=(0|HEAP32[H+16>>2])?21:22,21==E&&_FilterHorLumaEdge(i+8,HEAP32[H+16>>2],A+12*r,P),E=0!=(0|HEAP32[H+24>>2])?23:24,23==E&&_FilterHorLumaEdge(i+12,HEAP32[H+24>>2],A+12*r,P)),i+=P<<2,H+=32,r=2}}function _GetLumaEdgeThresholds(i,e,A){var P,E,H;H=HEAP32[e+20>>2],P=_clip(0,51,H+HEAP32[e+12>>2]),E=_clip(0,51,H+HEAP32[e+16>>2]),HEAP32[i+28>>2]=255&HEAPU8[_alphas+P],HEAP32[i+32>>2]=255&HEAPU8[_betas+E],HEAP32[i+24>>2]=_tc0+3*P,1==(0!=(2&A|0)?1:5)&&(E=HEAP32[HEAP32[e+204>>2]+20>>2],P=(0|E)!=(0|H)?2:3,2==P?(E=E+(H+1)>>>1,P=_clip(0,51,E+HEAP32[e+12>>2]),E=_clip(0,51,E+HEAP32[e+16>>2]),HEAP32[i+4>>2]=255&HEAPU8[_alphas+P],HEAP32[i+8>>2]=255&HEAPU8[_betas+E],HEAP32[i>>2]=_tc0+3*P):3==P&&(HEAP32[i+4>>2]=HEAP32[i+28>>2],HEAP32[i+8>>2]=HEAP32[i+32>>2],HEAP32[i>>2]=HEAP32[i+24>>2])),6==(0!=(4&A|0)?6:10)&&(E=HEAP32[HEAP32[e+200>>2]+20>>2],P=(0|E)!=(0|H)?7:8,7==P?(E=E+(H+1)>>>1,P=_clip(0,51,E+HEAP32[e+12>>2]),E=_clip(0,51,E+HEAP32[e+16>>2]),HEAP32[i+16>>2]=255&HEAPU8[_alphas+P],HEAP32[i+20>>2]=255&HEAPU8[_betas+E],HEAP32[i+12>>2]=_tc0+3*P):8==P&&(HEAP32[i+16>>2]=HEAP32[i+28>>2],HEAP32[i+20>>2]=HEAP32[i+32>>2],HEAP32[i+12>>2]=HEAP32[i+24>>2]))}function _GetChromaEdgeThresholds(i,e,A,P){var E,H,r;r=HEAP32[e+20>>2],r=_clip(0,51,r+P),r=HEAP32[_h264bsdQpC+(r<<2)>>2],E=_clip(0,51,r+HEAP32[e+12>>2]),H=_clip(0,51,r+HEAP32[e+16>>2]),HEAP32[i+28>>2]=255&HEAPU8[_alphas+E],HEAP32[i+32>>2]=255&HEAPU8[_betas+H],HEAP32[i+24>>2]=_tc0+3*E,1==(0!=(2&A|0)?1:5)&&(H=HEAP32[HEAP32[e+204>>2]+20>>2],E=(0|H)!=(0|HEAP32[e+20>>2])?2:3,2==E?(E=_clip(0,51,H+P),H=HEAP32[_h264bsdQpC+(E<<2)>>2],H=H+(r+1)>>>1,E=_clip(0,51,H+HEAP32[e+12>>2]),H=_clip(0,51,H+HEAP32[e+16>>2]),HEAP32[i+4>>2]=255&HEAPU8[_alphas+E],HEAP32[i+8>>2]=255&HEAPU8[_betas+H],HEAP32[i>>2]=_tc0+3*E):3==E&&(HEAP32[i+4>>2]=HEAP32[i+28>>2],HEAP32[i+8>>2]=HEAP32[i+32>>2],HEAP32[i>>2]=HEAP32[i+24>>2])),6==(0!=(4&A|0)?6:10)&&(H=HEAP32[HEAP32[e+200>>2]+20>>2],E=(0|H)!=(0|HEAP32[e+20>>2])?7:8,7==E?(A=_clip(0,51,H+P),H=HEAP32[_h264bsdQpC+(A<<2)>>2],H=H+(r+1)>>>1,E=_clip(0,51,H+HEAP32[e+12>>2]),H=_clip(0,51,H+HEAP32[e+16>>2]),HEAP32[i+16>>2]=255&HEAPU8[_alphas+E],HEAP32[i+20>>2]=255&HEAPU8[_betas+H],HEAP32[i+12>>2]=_tc0+3*E):8==E&&(HEAP32[i+16>>2]=HEAP32[i+28>>2],HEAP32[i+20>>2]=HEAP32[i+32>>2],HEAP32[i+12>>2]=HEAP32[i+24>>2]))}function _FilterChroma(i,e,A,P,E){var H,r,o;r=A,H=o=0;i:for(;2>H>>>0;){A=0!=(0|HEAP32[r+4>>2])?3:4,3==A&&(_FilterVerChromaEdge(i,HEAP32[r+4>>2],P+12,E),_FilterVerChromaEdge(e,HEAP32[r+4>>2],P+12,E)),A=0!=(0|HEAP32[r+36>>2])?5:6,5==A&&(_FilterVerChromaEdge(i+(E<<1),HEAP32[r+36>>2],P+12,E),_FilterVerChromaEdge(e+(E<<1),HEAP32[r+36>>2],P+12,E)),A=0!=(0|HEAP32[r+20>>2])?7:8,7==A&&(_FilterVerChromaEdge(i+4,HEAP32[r+20>>2],P+24,E),_FilterVerChromaEdge(e+4,HEAP32[r+20>>2],P+24,E)),A=0!=(0|HEAP32[r+52>>2])?9:10,9==A&&(_FilterVerChromaEdge(i+(E<<1)+4,HEAP32[r+52>>2],P+24,E),_FilterVerChromaEdge(e+(E<<1)+4,HEAP32[r+52>>2],P+24,E)),A=(0|HEAP32[r>>2])==(0|HEAP32[r+8>>2])?11:16;e:do if(11==A){if((0|HEAP32[r+8>>2])!=(0|HEAP32[r+16>>2])){A=16;break e}if((0|HEAP32[r+16>>2])!=(0|HEAP32[r+24>>2])){A=16;break e}A=0!=(0|HEAP32[r>>2])?14:15,14==A&&(_FilterHorChroma(i,HEAP32[r>>2],P+12*o,E),_FilterHorChroma(e,HEAP32[r>>2],P+12*o,E)),A=25;break e}while(0);16==A&&(A=0!=(0|HEAP32[r>>2])?17:18,17==A&&(_FilterHorChromaEdge(i,HEAP32[r>>2],P+12*o,E),_FilterHorChromaEdge(e,HEAP32[r>>2],P+12*o,E)),A=0!=(0|HEAP32[r+8>>2])?19:20,19==A&&(_FilterHorChromaEdge(i+2,HEAP32[r+8>>2],P+12*o,E),_FilterHorChromaEdge(e+2,HEAP32[r+8>>2],P+12*o,E)),A=0!=(0|HEAP32[r+16>>2])?21:22,21==A&&(_FilterHorChromaEdge(i+4,HEAP32[r+16>>2],P+12*o,E),_FilterHorChromaEdge(e+4,HEAP32[r+16>>2],P+12*o,E)),A=0!=(0|HEAP32[r+24>>2])?23:24,23==A&&(_FilterHorChromaEdge(i+6,HEAP32[r+24>>2],P+12*o,E),_FilterHorChromaEdge(e+6,HEAP32[r+24>>2],P+12*o,E))),r+=64,i+=E<<2,e+=E<<2,o=2,H+=1}}function _GetBoundaryStrengthsA(i,e){var A;if(0!=(HEAP16[i+32>>1]<<16>>16|0)){var P=1;A=2}else A=1;if(1==A&&(P=0!=(HEAP16[i+28>>1]<<16>>16|0)),HEAP32[e+32>>2]=P?2:0,0!=(HEAP16[i+34>>1]<<16>>16|0)){var E=1;A=4}else A=3;if(3==A&&(E=0!=(HEAP16[i+30>>1]<<16>>16|0)),HEAP32[e+40>>2]=E?2:0,0!=(HEAP16[i+40>>1]<<16>>16|0)){var H=1;A=6}else A=5;if(5==A&&(H=0!=(HEAP16[i+36>>1]<<16>>16|0)),HEAP32[e+48>>2]=H?2:0,0!=(HEAP16[i+42>>1]<<16>>16|0)){var r=1;A=8}else A=7;if(7==A&&(r=0!=(HEAP16[i+38>>1]<<16>>16|0)),HEAP32[e+56>>2]=r?2:0,0!=(HEAP16[i+44>>1]<<16>>16|0)){var o=1;A=10}else A=9;if(9==A&&(o=0!=(HEAP16[i+32>>1]<<16>>16|0)),HEAP32[e+64>>2]=o?2:0,0!=(HEAP16[i+46>>1]<<16>>16|0)){var f=1;A=12}else A=11;if(11==A&&(f=0!=(HEAP16[i+34>>1]<<16>>16|0)),HEAP32[e+72>>2]=f?2:0,0!=(HEAP16[i+52>>1]<<16>>16|0)){var t=1;A=14}else A=13;if(13==A&&(t=0!=(HEAP16[i+40>>1]<<16>>16|0)),HEAP32[e+80>>2]=t?2:0,0!=(HEAP16[i+54>>1]<<16>>16|0)){var a=1;A=16}else A=15;if(15==A&&(a=0!=(HEAP16[i+42>>1]<<16>>16|0)),HEAP32[e+88>>2]=a?2:0,0!=(HEAP16[i+48>>1]<<16>>16|0)){var d=1;A=18}else A=17;if(17==A&&(d=0!=(HEAP16[i+44>>1]<<16>>16|0)),HEAP32[e+96>>2]=d?2:0,0!=(HEAP16[i+50>>1]<<16>>16|0)){var n=1;A=20}else A=19;if(19==A&&(n=0!=(HEAP16[i+46>>1]<<16>>16|0)),HEAP32[e+104>>2]=n?2:0,0!=(HEAP16[i+56>>1]<<16>>16|0)){var l=1;A=22}else A=21;if(21==A&&(l=0!=(HEAP16[i+52>>1]<<16>>16|0)),HEAP32[e+112>>2]=l?2:0,0!=(HEAP16[i+58>>1]<<16>>16|0)){var s=1;A=24}else A=23;if(23==A&&(s=0!=(HEAP16[i+54>>1]<<16>>16|0)),HEAP32[e+120>>2]=s?2:0,0!=(HEAP16[i+30>>1]<<16>>16|0)){var _=1;A=26}else A=25;if(25==A&&(_=0!=(HEAP16[i+28>>1]<<16>>16|0)),HEAP32[e+12>>2]=_?2:0,0!=(HEAP16[i+36>>1]<<16>>16|0)){var b=1;A=28}else A=27;if(27==A&&(b=0!=(HEAP16[i+30>>1]<<16>>16|0)),HEAP32[e+20>>2]=b?2:0,0!=(HEAP16[i+38>>1]<<16>>16|0)){var h=1;A=30}else A=29;if(29==A&&(h=0!=(HEAP16[i+36>>1]<<16>>16|0)),HEAP32[e+28>>2]=h?2:0,0!=(HEAP16[i+34>>1]<<16>>16|0)){var c=1;A=32}else A=31;if(31==A&&(c=0!=(HEAP16[i+32>>1]<<16>>16|0)),HEAP32[e+44>>2]=c?2:0,0!=(HEAP16[i+40>>1]<<16>>16|0)){var u=1;A=34}else A=33;if(33==A&&(u=0!=(HEAP16[i+34>>1]<<16>>16|0)),HEAP32[e+52>>2]=u?2:0,0!=(HEAP16[i+42>>1]<<16>>16|0)){var U=1;A=36}else A=35;if(35==A&&(U=0!=(HEAP16[i+40>>1]<<16>>16|0)),HEAP32[e+60>>2]=U?2:0,0!=(HEAP16[i+46>>1]<<16>>16|0)){var w=1;A=38}else A=37;if(37==A&&(w=0!=(HEAP16[i+44>>1]<<16>>16|0)),HEAP32[e+76>>2]=w?2:0,0!=(HEAP16[i+52>>1]<<16>>16|0)){var k=1;A=40}else A=39;if(39==A&&(k=0!=(HEAP16[i+46>>1]<<16>>16|0)),HEAP32[e+84>>2]=k?2:0,0!=(HEAP16[i+54>>1]<<16>>16|0)){var S=1;A=42}else A=41;if(41==A&&(S=0!=(HEAP16[i+52>>1]<<16>>16|0)),HEAP32[e+92>>2]=S?2:0,0!=(HEAP16[i+50>>1]<<16>>16|0)){var p=1;A=44}else A=43;if(43==A&&(p=0!=(HEAP16[i+48>>1]<<16>>16|0)),HEAP32[e+108>>2]=p?2:0,0!=(HEAP16[i+56>>1]<<16>>16|0)){var T=1;A=46}else A=45;if(45==A&&(T=0!=(HEAP16[i+50>>1]<<16>>16|0)),HEAP32[e+116>>2]=T?2:0,0!=(HEAP16[i+58>>1]<<16>>16|0)){var C=1;A=48}else A=47;47==A&&(C=0!=(HEAP16[i+56>>1]<<16>>16|0)),HEAP32[e+124>>2]=C?2:0}function _FilterVerChromaEdge(i,e,A,P){var E,H,r,o,f,t,a;E=i,a=_h264bsdClip+512,f=HEAP8[E-2],r=HEAP8[E-1],o=HEAP8[E],t=HEAP8[E+1],i=_abs((255&r)-(255&o))>>>0<HEAPU32[A+4>>2]>>>0?1:7;i:do if(1==i){if(!(_abs((255&f)-(255&r))>>>0<HEAPU32[A+8>>2]>>>0))break i;if(!(_abs((255&t)-(255&o))>>>0<HEAPU32[A+8>>2]>>>0))break i;i=4>e>>>0?4:5,4==i?(H=(255&HEAPU8[HEAP32[A>>2]+(e-1)])+1,H=_clip(-H,H,((255&o)-(255&r)<<2)+((255&f)-(255&t))+4>>3),r=HEAP8[a+((255&r)+H)],o=HEAP8[a+((255&o)-H)],HEAP8[E-1]=r,HEAP8[E]=o):5==i&&(HEAP8[E-1]=((255&f)<<1)+(255&r)+(255&t)+2>>2&255,HEAP8[E]=((255&t)<<1)+(255&o)+(255&f)+2>>2&255)}while(0);E+=P,f=HEAP8[E-2],r=HEAP8[E-1],o=HEAP8[E],t=HEAP8[E+1],i=_abs((255&r)-(255&o))>>>0<HEAPU32[A+4>>2]>>>0?8:14;i:do if(8==i){if(!(_abs((255&f)-(255&r))>>>0<HEAPU32[A+8>>2]>>>0))break i;if(!(_abs((255&t)-(255&o))>>>0<HEAPU32[A+8>>2]>>>0))break i;i=4>e>>>0?11:12,11==i?(H=(255&HEAPU8[HEAP32[A>>2]+(e-1)])+1,H=_clip(-H,H,((255&o)-(255&r)<<2)+((255&f)-(255&t))+4>>3),r=HEAP8[a+((255&r)+H)],o=HEAP8[a+((255&o)-H)],HEAP8[E-1]=r,HEAP8[E]=o):12==i&&(HEAP8[E-1]=((255&f)<<1)+(255&r)+(255&t)+2>>2&255,HEAP8[E]=((255&t)<<1)+(255&o)+(255&f)+2>>2&255)}while(0)}function _FilterHorChroma(i,e,A,P){var E,H,r,o,f,t,a,d,n;E=i,n=_h264bsdClip+512,i=4>e>>>0?1:10;do if(1==i){r=(255&HEAPU8[HEAP32[A>>2]+(e-1)])+1,o=8;i:for(;0!=(0|o);){a=HEAP8[E+(-P<<1)],f=HEAP8[E+-P],t=HEAP8[E],d=HEAP8[E+P],i=_abs((255&f)-(255&t))>>>0<HEAPU32[A+4>>2]>>>0?4:7;e:do if(4==i){if(!(_abs((255&a)-(255&f))>>>0<HEAPU32[A+8>>2]>>>0))break e;if(!(_abs((255&d)-(255&t))>>>0<HEAPU32[A+8>>2]>>>0))break e;H=_clip(-r,r,((255&t)-(255&f)<<2)+((255&a)-(255&d))+4>>3),f=HEAP8[n+((255&f)+H)],t=HEAP8[n+((255&t)-H)],HEAP8[E+-P]=f,HEAP8[E]=t}while(0);o-=1,E+=1}}else if(10==i){o=8;i:for(;0!=(0|o);){a=HEAP8[E+(-P<<1)],f=HEAP8[E+-P],t=HEAP8[E],d=HEAP8[E+P],i=_abs((255&f)-(255&t))>>>0<HEAPU32[A+4>>2]>>>0?13:16;e:do if(13==i){if(!(_abs((255&a)-(255&f))>>>0<HEAPU32[A+8>>2]>>>0))break e;if(!(_abs((255&d)-(255&t))>>>0<HEAPU32[A+8>>2]>>>0))break e;HEAP8[E+-P]=((255&a)<<1)+(255&f)+(255&d)+2>>2&255,HEAP8[E]=((255&d)<<1)+(255&t)+(255&a)+2>>2&255}while(0);o-=1,E+=1}}while(0)}function _FilterHorChromaEdge(i,e,A,P){var E,H,r,o,f,t,a,d;d=_h264bsdClip+512,H=(255&HEAPU8[HEAP32[A>>2]+(e-1)])+1,r=2;i:for(;0!=(0|r);){t=HEAP8[i+(-P<<1)],o=HEAP8[i+-P],f=HEAP8[i],a=HEAP8[i+P],e=_abs((255&o)-(255&f))>>>0<HEAPU32[A+4>>2]>>>0?3:6;e:do if(3==e){if(!(_abs((255&t)-(255&o))>>>0<HEAPU32[A+8>>2]>>>0))break e;if(!(_abs((255&a)-(255&f))>>>0<HEAPU32[A+8>>2]>>>0))break e;E=_clip(-H,H,((255&f)-(255&o)<<2)+((255&t)-(255&a))+4>>3),o=HEAP8[d+((255&o)+E)],f=HEAP8[d+((255&f)-E)],HEAP8[i+-P]=o,HEAP8[i]=f}while(0);r-=1,i+=1}}function _FilterVerLumaEdge(i,e,A,P){var E,H,r,o,f,t,a,d,n,l,s,_,b;s=_h264bsdClip+512,_=HEAP32[A+4>>2],b=HEAP32[A+8>>2],E=4>e>>>0?1:14;do if(1==E){H=r=255&HEAPU8[HEAP32[A>>2]+(e-1)],o=4;i:for(;0!=(0|o);){a=255&HEAPU8[i-2],f=255&HEAPU8[i-1],t=255&HEAPU8[i],d=255&HEAPU8[i+1],E=_abs(f-t)>>>0<_>>>0?4:11;e:do if(4==E){if(!(_abs(a-f)>>>0<b>>>0))break e;if(!(_abs(d-t)>>>0<b>>>0))break e;n=255&HEAPU8[i-3],l=255&HEAPU8[i+2],E=_abs(n-f)>>>0<b>>>0?7:8,7==E&&(n=n+(t+(f+1)>>1)-(a<<1)>>1,E=a,n=_clip(-r,r,n),HEAP8[i-2]=E+n&255,H+=1),E=_abs(l-t)>>>0<b>>>0?9:10,9==E&&(n=l+(t+(f+1)>>1)-(d<<1)>>1,l=d,n=_clip(-r,r,n),HEAP8[i+1]=l+n&255,H+=1),n=(t-f<<2)+(a-d)+4>>3,H=_clip(-H,H,n),f=255&HEAPU8[s+(f+H)],t=255&HEAPU8[s+(t-H)],H=r,HEAP8[i-1]=255&f,HEAP8[i]=255&t}while(0);o-=1,i+=P}}else if(14==E){o=4;i:for(;0!=(0|o);){a=255&HEAPU8[i-2],f=255&HEAPU8[i-1],t=255&HEAPU8[i],d=255&HEAPU8[i+1],E=_abs(f-t)>>>0<_>>>0?17:28;e:do if(17==E){if(!(_abs(a-f)>>>0<b>>>0))break e;if(!(_abs(d-t)>>>0<b>>>0))break e;r=_abs(f-t)>>>0<(_>>>2)+2>>>0?1:0,n=255&HEAPU8[i-3],l=255&HEAPU8[i+2],E=0!=(0|r)?20:22;A:do if(20==E){if(!(_abs(n-f)>>>0<b>>>0)){E=22;break A}H=a+f+t,HEAP8[i-1]=n+(H<<1)+d+4>>3&255,HEAP8[i-2]=H+(n+2)>>2&255,HEAP8[i-3]=((255&HEAPU8[i-4])<<1)+3*n+H+4>>3&255,E=23;break A}while(0);22==E&&(HEAP8[i-1]=(a<<1)+f+d+2>>2&255),E=0!=(0|r)?24:26;A:do if(24==E){if(!(_abs(l-t)>>>0<b>>>0)){E=26;break A}H=f+t+d,HEAP8[i]=a+(H<<1)+l+4>>3&255,HEAP8[i+1]=l+(H+2)>>2&255,HEAP8[i+2]=((255&HEAPU8[i+3])<<1)+3*l+H+4>>3&255,E=27;break A}while(0);26==E&&(HEAP8[i]=(d<<1)+t+a+2>>2&255)}while(0);o-=1,i+=P}}while(0)}function _FilterHorLuma(i,e,A,P){var E,H,r,o,f,t,a,d,n,l,s,_,b;s=_h264bsdClip+512,_=HEAP32[A+4>>2],b=HEAP32[A+8>>2],E=4>e>>>0?1:14;do if(1==E){H=r=255&HEAPU8[HEAP32[A>>2]+(e-1)],o=16;i:for(;0!=(0|o);){a=255&HEAPU8[i+(-P<<1)],f=255&HEAPU8[i+-P],t=255&HEAPU8[i],d=255&HEAPU8[i+P],E=_abs(f-t)>>>0<_>>>0?4:11;e:do if(4==E){if(!(_abs(a-f)>>>0<b>>>0))break e;if(!(_abs(d-t)>>>0<b>>>0))break e;n=255&HEAPU8[i+3*-P],E=_abs(n-f)>>>0<b>>>0?7:8,7==E&&(n=n+(t+(f+1)>>1)-(a<<1)>>1,E=a,n=_clip(-r,r,n),HEAP8[i+(-P<<1)]=E+n&255,H+=1),l=255&HEAPU8[i+(P<<1)],E=_abs(l-t)>>>0<b>>>0?9:10,9==E&&(n=l+(t+(f+1)>>1)-(d<<1)>>1,l=d,n=_clip(-r,r,n),HEAP8[i+P]=l+n&255,H+=1),n=(t-f<<2)+(a-d)+4>>3,H=_clip(-H,H,n),f=255&HEAPU8[s+(f+H)],t=255&HEAPU8[s+(t-H)],H=r,HEAP8[i+-P]=255&f,HEAP8[i]=255&t}while(0);o-=1,i+=1}}else if(14==E){o=16;i:for(;0!=(0|o);){a=255&HEAPU8[i+(-P<<1)],f=255&HEAPU8[i+-P],t=255&HEAPU8[i],d=255&HEAPU8[i+P],E=_abs(f-t)>>>0<_>>>0?17:28;e:do if(17==E){if(!(_abs(a-f)>>>0<b>>>0))break e;if(!(_abs(d-t)>>>0<b>>>0))break e;r=_abs(f-t)>>>0<(_>>>2)+2>>>0?1:0,n=255&HEAPU8[i+3*-P],l=255&HEAPU8[i+(P<<1)],E=0!=(0|r)?20:22;A:do if(20==E){if(!(_abs(n-f)>>>0<b>>>0)){E=22;break A}H=a+f+t,HEAP8[i+-P]=n+(H<<1)+d+4>>3&255,HEAP8[i+(-P<<1)]=H+(n+2)>>2&255,HEAP8[i+3*-P]=((255&HEAPU8[i+(-P<<2)])<<1)+3*n+H+4>>3&255,E=23;break A}while(0);22==E&&(HEAP8[i+-P]=(a<<1)+f+d+2>>2&255),E=0!=(0|r)?24:26;A:do if(24==E){if(!(_abs(l-t)>>>0<b>>>0)){E=26;break A}H=f+t+d,HEAP8[i]=a+(H<<1)+l+4>>3&255,HEAP8[i+P]=l+(H+2)>>2&255,HEAP8[i+(P<<1)]=((255&HEAPU8[i+3*P])<<1)+3*l+H+4>>3&255,E=27;break A}while(0);26==E&&(HEAP8[i]=(d<<1)+t+a+2>>2&255)}while(0);o-=1,i+=1}}while(0)}function _FilterHorLumaEdge(i,e,A,P){var E,H,r,o,f,t,a,d,n;n=_h264bsdClip+512,H=e=255&HEAPU8[HEAP32[A>>2]+(e-1)],r=4;i:for(;0!=(0|r);){t=HEAP8[i+(-P<<1)],o=HEAP8[i+-P],f=HEAP8[i],a=HEAP8[i+P],E=_abs((255&o)-(255&f))>>>0<HEAPU32[A+4>>2]>>>0?3:10;e:do if(3==E){if(!(_abs((255&t)-(255&o))>>>0<HEAPU32[A+8>>2]>>>0))break e;if(!(_abs((255&a)-(255&f))>>>0<HEAPU32[A+8>>2]>>>0))break e;if(d=HEAP8[i+3*-P],E=_abs((255&d)-(255&o))>>>0<HEAPU32[A+8>>2]>>>0?6:7,6==E&&(d=(255&d)+((255&o)+(255&f)+1>>1)-((255&t)<<1)>>1,E=255&t,d=_clip(-e,e,d),HEAP8[i+(-P<<1)]=E+d&255,H+=1),d=HEAP8[i+(P<<1)],E=_abs((255&d)-(255&f))>>>0<HEAPU32[A+8>>2]>>>0?8:9,8==E){d=(255&d)+((255&o)+(255&f)+1>>1)-((255&a)<<1)>>1;var l=255&a;d=_clip(-e,e,d),HEAP8[i+P]=l+d&255,H+=1}d=((255&f)-(255&o)<<2)+((255&t)-(255&a))+4>>3,H=_clip(-H,H,d),o=HEAP8[n+((255&o)+H)],f=HEAP8[n+((255&f)-H)],H=e,HEAP8[i+-P]=o,HEAP8[i]=f}while(0);r-=1,i+=1}}function _EdgeBoundaryStrength(i,e,A,P){var E,H;E=0!=(HEAP16[i+28+(A<<1)>>1]<<16>>16|0)?2:1;i:do if(1==E){if(0!=(HEAP16[e+28+(P<<1)>>1]<<16>>16|0)){E=2;break i}E=(0|HEAP32[i+116+(A>>>2<<2)>>2])!=(0|HEAP32[e+116+(P>>>2<<2)>>2])?6:4;e:do if(4==E){if(4<=(0|_abs((HEAP16[i+132+(A<<2)>>1]<<16>>16)-(HEAP16[e+132+(P<<2)>>1]<<16>>16))))break e;if(4<=(0|_abs((HEAP16[i+132+(A<<2)+2>>1]<<16>>16)-(HEAP16[e+132+(P<<2)+2>>1]<<16>>16))))break e;H=0,E=8;break i}while(0);H=1,E=8;break i}while(0);return 2==E&&(H=2),H}function _IsSliceBoundaryOnLeft(i){var e,i=(0|HEAP32[i+4>>2])!=(0|HEAP32[HEAP32[i+200>>2]+4>>2])?1:2;return 1==i?e=1:2==i&&(e=0),e}function _IsSliceBoundaryOnTop(i){var e,i=(0|HEAP32[i+4>>2])!=(0|HEAP32[HEAP32[i+204>>2]+4>>2])?1:2;return 1==i?e=1:2==i&&(e=0),e}function _InnerBoundaryStrength(i,e,A){var P,E,H,r,o,f,t;P=HEAP16[i+28+(e<<1)>>1]<<16>>16,H=HEAP16[i+28+(A<<1)>>1]<<16>>16,r=HEAP16[i+132+(e<<2)>>1]<<16>>16,o=HEAP16[i+132+(A<<2)>>1]<<16>>16,f=HEAP16[i+132+(e<<2)+2>>1]<<16>>16,t=HEAP16[i+132+(A<<2)+2>>1]<<16>>16,P=0!=(0|P)?2:1;i:do if(1==P){if(0!=(0|H)){P=2;break i}P=4<=(0|_abs(r-o))?6:4;e:do if(4==P){if(4<=(0|_abs(f-t)))break e;if((0|HEAP32[i+116+(e>>>2<<2)>>2])!=(0|HEAP32[i+116+(A>>>2<<2)>>2]))break e;E=0,P=8;break i}while(0);E=1,P=8;break i}while(0);return 2==P&&(E=2),E}function _h264bsdConceal(i,e,A){var P,E,H,r,o,f,t,a,d;f=HEAP32[e+4>>2],t=HEAP32[e+8>>2],a=0,P=0==(0|A)?3:1;i:do if(1==P){if(5==(0|A)){P=3;break i}P=0!=(0|HEAP32[i+3384>>2])?3:9;break i}while(0);do if(3==P){H=0;i:for(;;){a=_h264bsdGetRefPicData(i+1220,H),H+=1,P=16<=H>>>0?5:6;do{if(5==P)break i;if(6==P&&0!=(0|a))break i}while(0)}}while(0);H=r=o=0;i:for(;H>>>0<HEAPU32[i+1176>>2]>>>0?P=11:(d=0,P=12),11==P&&(d=0!=(0|HEAP32[HEAP32[i+1212>>2]+216*H+196>>2])^1),d;)H+=1,o+=1,P=(0|o)==(0|f)?14:15,14==P&&(r+=1,o=0);P=(0|H)==(0|HEAP32[i+1176>>2])?17:28;do if(17==P){P=2==(0|A)?19:18;i:do if(18==P){P=7==(0|A)?19:20;break i}while(0);i:do if(19==P){P=0==(0|HEAP32[i+3384>>2])?21:20;break i}while(0);i:do if(20==P){if(0==(0|a)){P=21;break i}_H264SwDecMemcpy(HEAP32[e>>2],a,384*f*t),P=23;break i}while(0);21==P&&_H264SwDecMemset(HEAP32[e>>2],128,384*f*t),HEAP32[i+1204>>2]=HEAP32[i+1176>>2],H=0;i:for(;H>>>0<HEAPU32[i+1176>>2]>>>0;)HEAP32[HEAP32[i+1212>>2]+216*H+8>>2]=1,H+=1;E=0}else if(28==P){d=HEAP32[i+1212>>2]+216*r*f,E=o;i:for(;P=E,E=P-1,0!=(0|P);)_ConcealMb(d+216*E,e,r,E,A,a),HEAP32[d+216*E+196>>2]=1,HEAP32[i+1204>>2]+=1;E=o+1;i:for(;E>>>0<f>>>0;)P=0!=(0|HEAP32[d+216*E+196>>2])?35:34,34==P&&(_ConcealMb(d+216*E,e,r,E,A,a),HEAP32[d+216*E+196>>2]=1,HEAP32[i+1204>>2]+=1),E+=1;P=0!=(0|r)?38:46;do if(38==P){E=0;i:for(;E>>>0<f>>>0;){H=r-1,d=HEAP32[i+1212>>2]+216*H*f+216*E;e:for(;;){_ConcealMb(d,e,H,E,A,a),HEAP32[d+196>>2]=1,HEAP32[i+1204>>2]+=1,d+=216*-f;var n=H;if(H=n-1,0==(0|n))break e}E+=1}}while(0);H=r+1;i:for(;H>>>0<t>>>0;){d=HEAP32[i+1212>>2]+216*H*f,E=0;e:for(;E>>>0<f>>>0;)P=0!=(0|HEAP32[d+216*E+196>>2])?52:51,51==P&&(_ConcealMb(d+216*E,e,H,E,A,a),HEAP32[d+216*E+196>>2]=1,HEAP32[i+1204>>2]+=1),E+=1;H+=1}E=0}while(0);return E}function _ConcealMb(i,e,A,P,E,H){var r=STACKTOP;STACKTOP+=540;var o,f,t,a,d,n,l,s,_,b,h,c=r+384,u=r+448,U=r+464,w=r+480,k=r+496;a=r+512,t=r+516,d=HEAP32[e+4>>2],n=HEAP32[e+8>>2],_h264bsdSetCurrImageMbPointers(e,A*d+P),l=HEAP32[e>>2]+((A<<4)*d<<4)+(P<<4),s=_=b=h=0,HEAP32[i+20>>2]=40,HEAP32[i+8>>2]=0,HEAP32[i>>2]=6,HEAP32[i+12>>2]=0,HEAP32[i+16>>2]=0,HEAP32[i+24>>2]=0,o=2==(0|E)?2:1;i:do if(1==o){if(7==(0|E)){o=2;break i}var S,p,T;for(o=a,S=o+4,T=0,0>T&&(T+=256),T=T+(T<<8)+(T<<16)+16777216*T;0!==o%4&&o<S;)HEAP8[o++]=0;for(o>>=2,p=S>>2;o<p;)HEAP32[o++]=T;for(o<<=2;o<S;)HEAP8[o++]=0;HEAP32[t+4>>2]=d,HEAP32[t+8>>2]=n,HEAP32[t>>2]=H,o=0!=(0|HEAP32[t>>2])?4:5;do{if(4==o){_h264bsdPredictSamples(r,a,t,P<<4,A<<4,0,0,16,16),_h264bsdWriteMacroblock(e,r),f=0,o=92;break i}if(5==o){_H264SwDecMemset(r,0,384),o=7;break i}}while(0)}while(0);i:do if(2==o){_H264SwDecMemset(r,0,384),o=7;break i}while(0);do if(7==o){_H264SwDecMemset(c,0,64),f=a=H=0,o=0!=(0|A)?8:10;i:do if(8==o){if(0==(0|HEAP32[i+216*-d+196>>2]))break i;s=1,t=E=l+-(d<<4),E=t+1,HEAP32[u>>2]=255&HEAPU8[t],t=E,E=t+1,HEAP32[u>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[u>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[u>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[u+4>>2]=255&HEAPU8[t],t=E,E=t+1,HEAP32[u+4>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[u+4>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[u+4>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[u+8>>2]=255&HEAPU8[t],t=E,E=t+1,HEAP32[u+8>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[u+8>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[u+8>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[u+12>>2]=255&HEAPU8[t],t=E,E=t+1,HEAP32[u+12>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[u+12>>2]+=255&HEAPU8[t],HEAP32[u+12>>2]+=255&HEAPU8[E],H+=1,f+=1,HEAP32[c>>2]+=HEAP32[u>>2]+HEAP32[u+4>>2]+HEAP32[u+8>>2]+HEAP32[u+12>>2],HEAP32[c+4>>2]+=HEAP32[u>>2]+HEAP32[u+4>>2]-HEAP32[u+8>>2]-HEAP32[u+12>>2]}while(0);o=(0|A)!=(n-1|0)?11:13;i:do if(11==o){if(0==(0|HEAP32[i+216*d+196>>2]))break i;_=1,t=E=l+(d<<4<<4),E=t+1,HEAP32[U>>2]=255&HEAPU8[t],t=E,E=t+1,HEAP32[U>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[U>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[U>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[U+4>>2]=255&HEAPU8[t],t=E,E=t+1,HEAP32[U+4>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[U+4>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[U+4>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[U+8>>2]=255&HEAPU8[t],t=E,E=t+1,HEAP32[U+8>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[U+8>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[U+8>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[U+12>>2]=255&HEAPU8[t],t=E,E=t+1,HEAP32[U+12>>2]+=255&HEAPU8[t],t=E,E=t+1,HEAP32[U+12>>2]+=255&HEAPU8[t],HEAP32[U+12>>2]+=255&HEAPU8[E],H+=1,f+=1,HEAP32[c>>2]+=HEAP32[U>>2]+HEAP32[U+4>>2]+HEAP32[U+8>>2]+HEAP32[U+12>>2],HEAP32[c+4>>2]+=HEAP32[U>>2]+HEAP32[U+4>>2]-HEAP32[U+8>>2]-HEAP32[U+12>>2]}while(0);o=0!=(0|P)?14:16;i:do if(14==o){if(0==(0|HEAP32[i-216+196>>2]))break i;b=1,E=l-1,HEAP32[w>>2]=255&HEAPU8[E],HEAP32[w>>2]+=255&HEAPU8[E+(d<<4)],HEAP32[w>>2]+=255&HEAPU8[E+(d<<5)],HEAP32[w>>2]+=255&HEAPU8[E+48*d],E+=d<<6,HEAP32[w+4>>2]=255&HEAPU8[E],HEAP32[w+4>>2]+=255&HEAPU8[E+(d<<4)],HEAP32[w+4>>2]+=255&HEAPU8[E+(d<<5)],HEAP32[w+4>>2]+=255&HEAPU8[E+48*d],E+=d<<6,HEAP32[w+8>>2]=255&HEAPU8[E],HEAP32[w+8>>2]+=255&HEAPU8[E+(d<<4)],HEAP32[w+8>>2]+=255&HEAPU8[E+(d<<5)],HEAP32[w+8>>2]+=255&HEAPU8[E+48*d],E+=d<<6,HEAP32[w+12>>2]=255&HEAPU8[E],HEAP32[w+12>>2]+=255&HEAPU8[E+(d<<4)],HEAP32[w+12>>2]+=255&HEAPU8[E+(d<<5)],HEAP32[w+12>>2]+=255&HEAPU8[E+48*d],H+=1,a+=1,HEAP32[c>>2]+=HEAP32[w>>2]+HEAP32[w+4>>2]+HEAP32[w+8>>2]+HEAP32[w+12>>2],HEAP32[c+16>>2]+=HEAP32[w>>2]+HEAP32[w+4>>2]-HEAP32[w+8>>2]-HEAP32[w+12>>2]}while(0);o=(0|P)!=(d-1|0)?17:19;i:do if(17==o){if(0==(0|HEAP32[i+412>>2]))break i;h=1,E=l+16,HEAP32[k>>2]=255&HEAPU8[E],HEAP32[k>>2]+=255&HEAPU8[E+(d<<4)],HEAP32[k>>2]+=255&HEAPU8[E+(d<<5)],HEAP32[k>>2]+=255&HEAPU8[E+48*d],E+=d<<6,HEAP32[k+4>>2]=255&HEAPU8[E],HEAP32[k+4>>2]+=255&HEAPU8[E+(d<<4)],HEAP32[k+4>>2]+=255&HEAPU8[E+(d<<5)],HEAP32[k+4>>2]+=255&HEAPU8[E+48*d],E+=d<<6,HEAP32[k+8>>2]=255&HEAPU8[E],HEAP32[k+8>>2]+=255&HEAPU8[E+(d<<4)],HEAP32[k+8>>2]+=255&HEAPU8[E+(d<<5)],HEAP32[k+8>>2]+=255&HEAPU8[E+48*d],E+=d<<6,HEAP32[k+12>>2]=255&HEAPU8[E],HEAP32[k+12>>2]+=255&HEAPU8[E+(d<<4)],HEAP32[k+12>>2]+=255&HEAPU8[E+(d<<5)],HEAP32[k+12>>2]+=255&HEAPU8[E+48*d],H+=1,a+=1,HEAP32[c>>2]+=HEAP32[k>>2]+HEAP32[k+4>>2]+HEAP32[k+8>>2]+HEAP32[k+12>>2],HEAP32[c+16>>2]+=HEAP32[k>>2]+HEAP32[k+4>>2]-HEAP32[k+8>>2]-HEAP32[k+12>>2]}while(0);o=0!=(0|f)?23:20;i:do if(20==o){if(0==(0|b)){o=23;break i}if(0==(0|h)){o=23;break i}HEAP32[c+4>>2]=HEAP32[w>>2]+HEAP32[w+4>>2]+HEAP32[w+8>>2]+HEAP32[w+12>>2]-HEAP32[k>>2]-HEAP32[k+4>>2]-HEAP32[k+8>>2]-HEAP32[k+12>>2]>>5,o=26;break i}while(0);23==o&&(o=0!=(0|f)?24:25,24==o&&(HEAP32[c+4>>2]>>=f+3|0)),o=0!=(0|a)?30:27;i:do if(27==o){if(0==(0|s)){o=30;break i}if(0==(0|_)){o=30;break i}HEAP32[c+16>>2]=HEAP32[u>>2]+HEAP32[u+4>>2]+HEAP32[u+8>>2]+HEAP32[u+12>>2]-HEAP32[U>>2]-HEAP32[U+4>>2]-HEAP32[U+8>>2]-HEAP32[U+12>>2]>>5,o=33;break i}while(0);30==o&&(o=0!=(0|a)?31:32,31==o&&(HEAP32[c+16>>2]>>=a+3|0)),o=1==H?34:2==H?35:3==H?36:37,37==o?HEAP32[c>>2]>>=6:34==o?HEAP32[c>>2]>>=4:35==o?HEAP32[c>>2]>>=5:36==o&&(HEAP32[c>>2]=21*HEAP32[c>>2]>>10),_Transform(c),H=0,E=r,f=c;i:for(;256>H>>>0;){if(a=HEAP32[f+((15&H)>>>2<<2)>>2],o=0>(0|a)?41:42,41==o)var C=0;else if(42==o){if(o=255<(0|a)?43:44,43==o)var m=255;else 44==o&&(m=a);C=m}l=E,E=l+1,HEAP8[l]=255&C,H+=1,o=0!=(63&H|0)?48:47,47==o&&(f+=16)}l=HEAP32[e>>2]+(d*n<<8)+((A<<3)*d<<3)+(P<<3),t=0;i:for(;2>t>>>0;){_H264SwDecMemset(c,0,64),f=a=H=0,o=0!=(0|s)?52:53,52==o&&(o=E=l+-(d<<3),E=o+1,HEAP32[u>>2]=255&HEAPU8[o],o=E,E=o+1,HEAP32[u>>2]+=255&HEAPU8[o],o=E,E=o+1,HEAP32[u+4>>2]=255&HEAPU8[o],o=E,E=o+1,HEAP32[u+4>>2]+=255&HEAPU8[o],o=E,E=o+1,HEAP32[u+8>>2]=255&HEAPU8[o],o=E,E=o+1,HEAP32[u+8>>2]+=255&HEAPU8[o],o=E,E=o+1,HEAP32[u+12>>2]=255&HEAPU8[o],HEAP32[u+12>>2]+=255&HEAPU8[E],H+=1,f+=1,HEAP32[c>>2]+=HEAP32[u>>2]+HEAP32[u+4>>2]+HEAP32[u+8>>2]+HEAP32[u+12>>2],HEAP32[c+4>>2]+=HEAP32[u>>2]+HEAP32[u+4>>2]-HEAP32[u+8>>2]-HEAP32[u+12>>2]),o=0!=(0|_)?54:55,54==o&&(o=E=l+(d<<3<<3),E=o+1,HEAP32[U>>2]=255&HEAPU8[o],o=E,E=o+1,HEAP32[U>>2]+=255&HEAPU8[o],o=E,E=o+1,HEAP32[U+4>>2]=255&HEAPU8[o],o=E,E=o+1,HEAP32[U+4>>2]+=255&HEAPU8[o],o=E,E=o+1,HEAP32[U+8>>2]=255&HEAPU8[o],o=E,E=o+1,HEAP32[U+8>>2]+=255&HEAPU8[o],o=E,E=o+1,HEAP32[U+12>>2]=255&HEAPU8[o],HEAP32[U+12>>2]+=255&HEAPU8[E],H+=1,f+=1,HEAP32[c>>2]+=HEAP32[U>>2]+HEAP32[U+4>>2]+HEAP32[U+8>>2]+HEAP32[U+12>>2],HEAP32[c+4>>2]+=HEAP32[U>>2]+HEAP32[U+4>>2]-HEAP32[U+8>>2]-HEAP32[U+12>>2]),o=0!=(0|b)?56:57,56==o&&(E=l-1,HEAP32[w>>2]=255&HEAPU8[E],HEAP32[w>>2]+=255&HEAPU8[E+(d<<3)],E+=d<<4,HEAP32[w+4>>2]=255&HEAPU8[E],HEAP32[w+4>>2]+=255&HEAPU8[E+(d<<3)],E+=d<<4,HEAP32[w+8>>2]=255&HEAPU8[E],HEAP32[w+8>>2]+=255&HEAPU8[E+(d<<3)],E+=d<<4,HEAP32[w+12>>2]=255&HEAPU8[E],HEAP32[w+12>>2]+=255&HEAPU8[E+(d<<3)],H+=1,a+=1,HEAP32[c>>2]+=HEAP32[w>>2]+HEAP32[w+4>>2]+HEAP32[w+8>>2]+HEAP32[w+12>>2],HEAP32[c+16>>2]+=HEAP32[w>>2]+HEAP32[w+4>>2]-HEAP32[w+8>>2]-HEAP32[w+12>>2]),o=0!=(0|h)?58:59,58==o&&(E=l+8,HEAP32[k>>2]=255&HEAPU8[E],HEAP32[k>>2]+=255&HEAPU8[E+(d<<3)],E+=d<<4,HEAP32[k+4>>2]=255&HEAPU8[E],HEAP32[k+4>>2]+=255&HEAPU8[E+(d<<3)],E+=d<<4,HEAP32[k+8>>2]=255&HEAPU8[E],HEAP32[k+8>>2]+=255&HEAPU8[E+(d<<3)],E+=d<<4,HEAP32[k+12>>2]=255&HEAPU8[E],HEAP32[k+12>>2]+=255&HEAPU8[E+(d<<3)],H+=1,a+=1,HEAP32[c>>2]+=HEAP32[k>>2]+HEAP32[k+4>>2]+HEAP32[k+8>>2]+HEAP32[k+12>>2],HEAP32[c+16>>2]+=HEAP32[k>>2]+HEAP32[k+4>>2]-HEAP32[k+8>>2]-HEAP32[k+12>>2]),o=0!=(0|f)?63:60;e:do if(60==o){if(0==(0|b)){o=63;break e}if(0==(0|h)){o=63;break e}HEAP32[c+4>>2]=HEAP32[w>>2]+HEAP32[w+4>>2]+HEAP32[w+8>>2]+HEAP32[w+12>>2]-HEAP32[k>>2]-HEAP32[k+4>>2]-HEAP32[k+8>>2]-HEAP32[k+12>>2]>>4,o=66;break e}while(0);63==o&&(o=0!=(0|f)?64:65,64==o&&(HEAP32[c+4>>2]>>=f+2|0)),o=0!=(0|a)?70:67;e:do if(67==o){if(0==(0|s)){o=70;break e}if(0==(0|_)){o=70;break e}HEAP32[c+16>>2]=HEAP32[u>>2]+HEAP32[u+4>>2]+HEAP32[u+8>>2]+HEAP32[u+12>>2]-HEAP32[U>>2]-HEAP32[U+4>>2]-HEAP32[U+8>>2]-HEAP32[U+12>>2]>>4,o=73;break e}while(0);70==o&&(o=0!=(0|a)?71:72,71==o&&(HEAP32[c+16>>2]>>=a+2|0)),o=1==H?74:2==H?75:3==H?76:77,77==o?HEAP32[c>>2]>>=5:74==o?HEAP32[c>>2]>>=3:75==o?HEAP32[c>>2]>>=4:76==o&&(HEAP32[c>>2]=21*HEAP32[c>>2]>>9),_Transform(c),E=r+256+(t<<6),H=0,f=c;e:for(;64>H>>>0;){if(a=HEAP32[f+((7&H)>>>1<<2)>>2],o=0>(0|a)?81:82,81==o)var v=0;else if(82==o){if(o=255<(0|a)?83:84,83==o)var I=255;else 84==o&&(I=a);v=I}a=E,E=a+1,HEAP8[a]=255&v,H+=1,o=0!=(15&H|0)?88:87,87==o&&(f+=16)}l+=d*n<<6,t+=1}_h264bsdWriteMacroblock(e,r),f=0}while(0);return STACKTOP=r,f}function _Transform(i){var e,A,P,E;e=0!=(0|HEAP32[i+4>>2])?3:1;i:do if(1==e){if(0!=(0|HEAP32[i+16>>2])){e=3;break i}e=HEAP32[i>>2],HEAP32[i+60>>2]=e,HEAP32[i+56>>2]=e,HEAP32[i+52>>2]=e,HEAP32[i+48>>2]=e,HEAP32[i+44>>2]=e,HEAP32[i+40>>2]=e,HEAP32[i+36>>2]=e,HEAP32[i+32>>2]=e,HEAP32[i+28>>2]=e,HEAP32[i+24>>2]=e,HEAP32[i+20>>2]=e,HEAP32[i+16>>2]=e,HEAP32[i+12>>2]=e,HEAP32[i+8>>2]=e,HEAP32[i+4>>2]=e,e=7;break i}while(0);i:do if(3==e)for(P=HEAP32[i>>2],E=HEAP32[i+4>>2],HEAP32[i>>2]=P+E,HEAP32[i+4>>2]=P+(E>>1),HEAP32[i+8>>2]=P-(E>>1),HEAP32[i+12>>2]=P-E,P=HEAP32[i+16>>2],HEAP32[i+20>>2]=P,HEAP32[i+24>>2]=P,HEAP32[i+28>>2]=P,A=4;;){if(P=A,A=P-1,0==(0|P))break i;P=HEAP32[i>>2],E=HEAP32[i+16>>2],HEAP32[i>>2]=P+E,HEAP32[i+16>>2]=P+(E>>1),HEAP32[i+32>>2]=P-(E>>1),HEAP32[i+48>>2]=P-E,i+=4}while(0)}function _h264bsdDecodeVuiParameters(i,e){var A,P,E;_H264SwDecMemset(e,0,952),E=_h264bsdGetBits(i,1),A=-1==(0|E)?1:2;i:do if(1==A)P=1;else if(2==A){HEAP32[e>>2]=1==(0|E)?1:0,A=0!=(0|HEAP32[e>>2])?3:12;do if(3==A){E=_h264bsdGetBits(i,8),A=-1==(0|E)?4:5;do{if(4==A){P=1;break i}if(5==A){HEAP32[e+4>>2]=E,A=255==(0|HEAP32[e+4>>2])?6:11;do if(6==A){E=_h264bsdGetBits(i,16),A=-1==(0|E)?7:8;do{if(7==A){P=1;break i}if(8==A){HEAP32[e+8>>2]=E,E=_h264bsdGetBits(i,16),A=-1==(0|E)?9:10;do{if(9==A){P=1;break i}10==A&&(HEAP32[e+12>>2]=E)}while(0)}}while(0)}while(0)}}while(0)}while(0);E=_h264bsdGetBits(i,1),A=-1==(0|E)?13:14;do if(13==A)P=1;else if(14==A){HEAP32[e+16>>2]=1==(0|E)?1:0,A=0!=(0|HEAP32[e+16>>2])?15:18;
do if(15==A){E=_h264bsdGetBits(i,1),A=-1==(0|E)?16:17;do{if(16==A){P=1;break i}17==A&&(HEAP32[e+20>>2]=1==(0|E)?1:0)}while(0)}while(0);E=_h264bsdGetBits(i,1),A=-1==(0|E)?19:20;do if(19==A)P=1;else if(20==A){HEAP32[e+24>>2]=1==(0|E)?1:0,A=0!=(0|HEAP32[e+24>>2])?21:37;do if(21==A){E=_h264bsdGetBits(i,3),A=-1==(0|E)?22:23;do{if(22==A){P=1;break i}if(23==A){HEAP32[e+28>>2]=E,E=_h264bsdGetBits(i,1),A=-1==(0|E)?24:25;do{if(24==A){P=1;break i}if(25==A){HEAP32[e+32>>2]=1==(0|E)?1:0,E=_h264bsdGetBits(i,1),A=-1==(0|E)?26:27;do{if(26==A){P=1;break i}if(27==A){HEAP32[e+36>>2]=1==(0|E)?1:0,A=0!=(0|HEAP32[e+36>>2])?28:35;do if(28==A){E=_h264bsdGetBits(i,8),A=-1==(0|E)?29:30;do{if(29==A){P=1;break i}if(30==A){HEAP32[e+40>>2]=E,E=_h264bsdGetBits(i,8),A=-1==(0|E)?31:32;do{if(31==A){P=1;break i}if(32==A){HEAP32[e+44>>2]=E,E=_h264bsdGetBits(i,8),A=-1==(0|E)?33:34;do{if(33==A){P=1;break i}34==A&&(HEAP32[e+48>>2]=E)}while(0)}}while(0)}}while(0)}else 35==A&&(HEAP32[e+40>>2]=2,HEAP32[e+44>>2]=2,HEAP32[e+48>>2]=2);while(0)}}while(0)}}while(0)}}while(0)}else 37==A&&(HEAP32[e+28>>2]=5,HEAP32[e+40>>2]=2,HEAP32[e+44>>2]=2,HEAP32[e+48>>2]=2);while(0);E=_h264bsdGetBits(i,1),A=-1==(0|E)?39:40;do if(39==A)P=1;else if(40==A){HEAP32[e+52>>2]=1==(0|E)?1:0,A=0!=(0|HEAP32[e+52>>2])?41:50;do if(41==A){E=_h264bsdDecodeExpGolombUnsigned(i,e+56),A=0!=(0|E)?42:43;do{if(42==A){P=E;break i}if(43==A){A=5<HEAPU32[e+56>>2]>>>0?44:45;do{if(44==A){P=1;break i}if(45==A){E=_h264bsdDecodeExpGolombUnsigned(i,e+60),A=0!=(0|E)?46:47;do{if(46==A){P=E;break i}if(47==A){A=5<HEAPU32[e+60>>2]>>>0?48:49;do if(48==A){P=1;break i}while(0)}}while(0)}}while(0)}}while(0)}while(0);E=_h264bsdGetBits(i,1),A=-1==(0|E)?51:52;do if(51==A)P=1;else if(52==A){HEAP32[e+64>>2]=1==(0|E)?1:0,A=0!=(0|HEAP32[e+64>>2])?53:64;do if(53==A){E=_h264bsdShowBits32(i),A=-1==(0|_h264bsdFlushBits(i,32))?54:55;do{if(54==A){P=1;break i}if(55==A){A=0==(0|E)?56:57;do{if(56==A){P=1;break i}if(57==A){HEAP32[e+68>>2]=E,E=_h264bsdShowBits32(i),A=-1==(0|_h264bsdFlushBits(i,32))?58:59;do{if(58==A){P=1;break i}if(59==A){A=0==(0|E)?60:61;do{if(60==A){P=1;break i}if(61==A){HEAP32[e+72>>2]=E,E=_h264bsdGetBits(i,1),A=-1==(0|E)?62:63;do{if(62==A){P=1;break i}63==A&&(HEAP32[e+76>>2]=1==(0|E)?1:0)}while(0)}}while(0)}}while(0)}}while(0)}}while(0)}while(0);E=_h264bsdGetBits(i,1),A=-1==(0|E)?65:66;do if(65==A)P=1;else if(66==A){HEAP32[e+80>>2]=1==(0|E)?1:0,A=0!=(0|HEAP32[e+80>>2])?67:70;do if(67==A){E=_DecodeHrdParameters(i,e+84),A=0!=(0|E)?68:69;do if(68==A){P=E;break i}while(0)}else 70==A&&(HEAP32[e+84>>2]=1,HEAP32[e+96>>2]=288000001,HEAP32[e+224>>2]=288000001,HEAP32[e+480>>2]=24,HEAP32[e+484>>2]=24,HEAP32[e+488>>2]=24,HEAP32[e+492>>2]=24);while(0);E=_h264bsdGetBits(i,1),A=-1==(0|E)?72:73;do if(72==A)P=1;else if(73==A){HEAP32[e+496>>2]=1==(0|E)?1:0,A=0!=(0|HEAP32[e+496>>2])?74:77;do if(74==A){E=_DecodeHrdParameters(i,e+500),A=0!=(0|E)?75:76;do if(75==A){P=E;break i}while(0)}else 77==A&&(HEAP32[e+500>>2]=1,HEAP32[e+512>>2]=240000001,HEAP32[e+640>>2]=240000001,HEAP32[e+896>>2]=24,HEAP32[e+900>>2]=24,HEAP32[e+904>>2]=24,HEAP32[e+908>>2]=24);while(0);A=0!=(0|HEAP32[e+80>>2])?80:79;e:do if(79==A){A=0!=(0|HEAP32[e+496>>2])?80:83;break e}while(0);do if(80==A){E=_h264bsdGetBits(i,1),A=-1==(0|E)?81:82;do{if(81==A){P=1;break i}82==A&&(HEAP32[e+912>>2]=1==(0|E)?1:0)}while(0)}while(0);E=_h264bsdGetBits(i,1),A=-1==(0|E)?84:85;do if(84==A)P=1;else if(85==A){HEAP32[e+916>>2]=1==(0|E)?1:0,E=_h264bsdGetBits(i,1),A=-1==(0|E)?86:87;do if(86==A)P=1;else if(87==A){HEAP32[e+920>>2]=1==(0|E)?1:0,A=0!=(0|HEAP32[e+920>>2])?88:111;do if(88==A){E=_h264bsdGetBits(i,1),A=-1==(0|E)?89:90;do{if(89==A){P=1;break i}if(90==A){HEAP32[e+924>>2]=1==(0|E)?1:0,E=_h264bsdDecodeExpGolombUnsigned(i,e+928),A=0!=(0|E)?91:92;do{if(91==A){P=E;break i}if(92==A){A=16<HEAPU32[e+928>>2]>>>0?93:94;do{if(93==A){P=1;break i}if(94==A){E=_h264bsdDecodeExpGolombUnsigned(i,e+932),A=0!=(0|E)?95:96;do{if(95==A){P=E;break i}if(96==A){A=16<HEAPU32[e+932>>2]>>>0?97:98;do{if(97==A){P=1;break i}if(98==A){E=_h264bsdDecodeExpGolombUnsigned(i,e+936),A=0!=(0|E)?99:100;do{if(99==A){P=E;break i}if(100==A){A=16<HEAPU32[e+936>>2]>>>0?101:102;do{if(101==A){P=1;break i}if(102==A){E=_h264bsdDecodeExpGolombUnsigned(i,e+940),A=0!=(0|E)?103:104;do{if(103==A){P=E;break i}if(104==A){A=16<HEAPU32[e+940>>2]>>>0?105:106;do{if(105==A){P=1;break i}if(106==A){E=_h264bsdDecodeExpGolombUnsigned(i,e+944),A=0!=(0|E)?107:108;do{if(107==A){P=E;break i}if(108==A){E=_h264bsdDecodeExpGolombUnsigned(i,e+948),A=0!=(0|E)?109:110;do if(109==A){P=E;break i}while(0)}}while(0)}}while(0)}}while(0)}}while(0)}}while(0)}}while(0)}}while(0)}}while(0)}}while(0)}}while(0)}else 111==A&&(HEAP32[e+924>>2]=1,HEAP32[e+928>>2]=2,HEAP32[e+932>>2]=1,HEAP32[e+936>>2]=16,HEAP32[e+940>>2]=16,HEAP32[e+944>>2]=16,HEAP32[e+948>>2]=16);while(0);P=0}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0)}while(0);return P}function _h264bsdDecodePicOrderCnt(i,e,A,P){var E,H,r,o,f,t,a,d,n;n=0,E=0!=(0|HEAP32[A+284>>2])?1:7;do if(1==E){H=0;i:for(;0!=(0|HEAP32[A+288+20*H>>2]);){E=5==(0|HEAP32[A+288+20*H>>2])?4:5;do{if(4==E){n=1;break i}5==E&&(H+=1)}while(0)}}while(0);E=HEAP32[e+16>>2],E=0==E?8:1==E?31:64;do if(64==E)E=5==(0|HEAP32[P>>2])?65:66,65==E?o=0:66==E&&(E=HEAPU32[i+8>>2]>>>0>HEAPU32[A+12>>2]>>>0?67:68,67==E?o=HEAP32[i+12>>2]+HEAP32[e+12>>2]:68==E&&(o=HEAP32[i+12>>2])),E=5==(0|HEAP32[P>>2])?71:72,71==E?r=0:72==E&&(E=0==(0|HEAP32[P+4>>2])?73:74,73==E?r=(o+HEAP32[A+12>>2]<<1)-1:74==E&&(r=o+HEAP32[A+12>>2]<<1)),E=0!=(0|n)?78:77,78==E?(HEAP32[i+12>>2]=0,r=HEAP32[i+8>>2]=0):77==E&&(HEAP32[i+12>>2]=o,HEAP32[i+8>>2]=HEAP32[A+12>>2]);else if(8==E){E=5==(0|HEAP32[P>>2])?9:10,9==E&&(HEAP32[i+4>>2]=0,HEAP32[i>>2]=0),E=HEAPU32[A+20>>2]>>>0<HEAPU32[i>>2]>>>0?11:13;i:do if(11==E){if(!(HEAP32[i>>2]-HEAP32[A+20>>2]>>>0>=Math.floor((HEAPU32[e+20>>2]>>>0)/2)>>>0)){E=13;break i}r=HEAP32[i+4>>2]+HEAP32[e+20>>2],E=18;break i}while(0);do if(13==E){E=HEAPU32[A+20>>2]>>>0>HEAPU32[i>>2]>>>0?14:16;i:do if(14==E){if(!(HEAP32[A+20>>2]-HEAP32[i>>2]>>>0>Math.floor((HEAPU32[e+20>>2]>>>0)/2)>>>0)){E=16;break i}r=HEAP32[i+4>>2]-HEAP32[e+20>>2],E=17;break i}while(0);16==E&&(r=HEAP32[i+4>>2])}while(0);E=0!=(0|HEAP32[P+4>>2])?19:20,19==E&&(HEAP32[i+4>>2]=r),r+=HEAP32[A+20>>2],E=0>(0|HEAP32[A+24>>2])?21:22,21==E&&(r+=HEAP32[A+24>>2]),E=0!=(0|HEAP32[P+4>>2])?23:30,23==E&&(E=0!=(0|n)?24:28,24==E?(HEAP32[i+4>>2]=0,E=0>(0|HEAP32[A+24>>2])?25:26,25==E?HEAP32[i>>2]=-HEAP32[A+24>>2]:26==E&&(HEAP32[i>>2]=0),r=0):28==E&&(HEAP32[i>>2]=HEAP32[A+20>>2]))}else if(31==E){E=5==(0|HEAP32[P>>2])?32:33,32==E?o=0:33==E&&(E=HEAPU32[i+8>>2]>>>0>HEAPU32[A+12>>2]>>>0?34:35,34==E?o=HEAP32[i+12>>2]+HEAP32[e+12>>2]:35==E&&(o=HEAP32[i+12>>2])),E=0!=(0|HEAP32[e+36>>2])?38:39,38==E?f=o+HEAP32[A+12>>2]:39==E&&(f=0),E=0==(0|HEAP32[P+4>>2])?41:43;i:do if(41==E){if(!(0<f>>>0))break i;f-=1}while(0);E=0<f>>>0?44:45,44==E&&(t=Math.floor((f-1>>>0)/(HEAPU32[e+36>>2]>>>0)),a=(f-1>>>0)%(HEAPU32[e+36>>2]>>>0)),H=d=0;i:for(;H>>>0<HEAPU32[e+36>>2]>>>0;)d+=HEAP32[HEAP32[e+40>>2]+(H<<2)>>2],H+=1;E=0<f>>>0?50:55;do if(50==E){r=t*d,H=0;i:for(;H>>>0<=a>>>0;)r+=HEAP32[HEAP32[e+40>>2]+(H<<2)>>2],H+=1}else 55==E&&(r=0);while(0);E=0==(0|HEAP32[P+4>>2])?57:58,57==E&&(r+=HEAP32[e+28>>2]),r+=HEAP32[A+28>>2],E=0>(HEAP32[e+32>>2]+HEAP32[A+32>>2]|0)?59:60,59==E&&(r+=HEAP32[e+32>>2]+HEAP32[A+32>>2]),E=0!=(0|n)?62:61,62==E?(HEAP32[i+12>>2]=0,r=HEAP32[i+8>>2]=0):61==E&&(HEAP32[i+12>>2]=o,HEAP32[i+8>>2]=HEAP32[A+12>>2])}while(0);return r}function _DecodeHrdParameters(i,e){var A,P,E,H;E=_h264bsdDecodeExpGolombUnsigned(i,e),A=0!=(0|E)?1:2;i:do if(1==A)P=E;else if(2==A){HEAP32[e>>2]+=1,A=32<HEAPU32[e>>2]>>>0?3:4;do if(3==A)P=1;else if(4==A){E=_h264bsdGetBits(i,4),A=-1==(0|E)?5:6;do if(5==A)P=1;else if(6==A){HEAP32[e+4>>2]=E,E=_h264bsdGetBits(i,4),A=-1==(0|E)?7:8;do if(7==A)P=1;else if(8==A)for(HEAP32[e+8>>2]=E,H=0;;){A=H>>>0<HEAPU32[e>>2]>>>0?10:22;do if(10==A){E=_h264bsdDecodeExpGolombUnsigned(i,e+12+(H<<2)),A=0!=(0|E)?11:12;do{if(11==A){P=E;break i}if(12==A){A=4294967294<HEAPU32[e+12+(H<<2)>>2]>>>0?13:14;do{if(13==A){P=1;break i}if(14==A){HEAP32[e+12+(H<<2)>>2]+=1,HEAP32[e+12+(H<<2)>>2]*=1<<HEAP32[e+4>>2]+6,E=_h264bsdDecodeExpGolombUnsigned(i,e+140+(H<<2)),A=0!=(0|E)?15:16;do{if(15==A){P=E;break i}if(16==A){A=4294967294<HEAPU32[e+140+(H<<2)>>2]>>>0?17:18;do{if(17==A){P=1;break i}if(18==A){HEAP32[e+140+(H<<2)>>2]+=1,HEAP32[e+140+(H<<2)>>2]*=1<<HEAP32[e+8>>2]+4,E=_h264bsdGetBits(i,1),A=-1==(0|E)?19:20;do{if(19==A){P=1;break i}20==A&&(HEAP32[e+268+(H<<2)>>2]=1==(0|E)?1:0,H+=1)}while(0)}}while(0)}}while(0)}}while(0)}}while(0)}else if(22==A){E=_h264bsdGetBits(i,5),A=-1==(0|E)?23:24;do{if(23==A){P=1;break i}if(24==A){HEAP32[e+396>>2]=E+1,E=_h264bsdGetBits(i,5),A=-1==(0|E)?25:26;do{if(25==A){P=1;break i}if(26==A){HEAP32[e+400>>2]=E+1,E=_h264bsdGetBits(i,5),A=-1==(0|E)?27:28;do{if(27==A){P=1;break i}if(28==A){HEAP32[e+404>>2]=E+1,E=_h264bsdGetBits(i,5),A=-1==(0|E)?29:30;do{if(29==A){P=1;break i}if(30==A){HEAP32[e+408>>2]=E,P=0;break i}}while(0)}}while(0)}}while(0)}}while(0)}while(0)}while(0)}while(0)}while(0)}while(0);return P}function _h264bsdInit(i,e){var A,P;return _h264bsdInitStorage(i),A=_H264SwDecMalloc(2112),HEAP32[i+3376>>2]=A,A=0!=(0|HEAP32[i+3376>>2])?2:1,2==A?(3==(0!=(0|e)?3:4)&&(HEAP32[i+1216>>2]=1),P=0):1==A&&(P=1),P}function _h264bsdDecode(i,e,A,P,E){var H=STACKTOP;STACKTOP+=204;var r,o,f,t,a=H+4,d=H+12,n=H+104,l=H+176,s=H+196,_=H+200;t=HEAP32[s>>2]=0,r=0!=(0|HEAP32[i+3344>>2])?1:3;i:do if(1==r){if((0|e)!=(0|HEAP32[i+3348>>2])){r=3;break i}f=l;var b,h;if(r=i+3356,b=r+20,f%4==r%4){for(;0!==r%4&&r<b;)HEAP8[f++]=HEAP8[r++];for(r>>=2,f>>=2,h=b>>2;r<h;)HEAP32[f++]=HEAP32[r++];r<<=2,f<<=2}for(;r<b;)HEAP8[f++]=HEAP8[r++];HEAP32[l+4>>2]=HEAP32[l>>2],HEAP32[l+8>>2]=0,HEAP32[l+16>>2]=0,HEAP32[E>>2]=HEAP32[i+3352>>2],r=6;break i}while(0);i:do if(3==r){f=_h264bsdExtractNalUnit(e,A,l,E),r=0!=(0|f)?4:5;do{if(4==r){o=3,r=87;break i}if(5==r){if(r=l,f=i+3356,b=r+20,f%4==r%4){for(;0!==r%4&&r<b;)HEAP8[f++]=HEAP8[r++];for(r>>=2,f>>=2,h=b>>2;r<h;)HEAP32[f++]=HEAP32[r++];r<<=2,f<<=2}for(;r<b;)HEAP8[f++]=HEAP8[r++];HEAP32[i+3352>>2]=HEAP32[E>>2],HEAP32[i+3348>>2]=e,r=6;break i}}while(0)}while(0);i:do if(6==r){HEAP32[i+3344>>2]=0,f=_h264bsdDecodeNalUnit(l,a),r=0!=(0|f)?7:8;do if(7==r)o=3;else if(8==r){r=0==(0|HEAP32[a>>2])?10:9;e:do if(9==r){if(13<=HEAPU32[a>>2]>>>0)break e;f=_h264bsdCheckAccessUnitBoundary(l,a,i,s),r=0!=(0|f)?12:15;do if(12==r){r=65520==(0|f)?13:14;do{if(13==r){o=4;break i}if(14==r){o=3;break i}}while(0)}else if(15==r){r=0!=(0|HEAP32[s>>2])?16:26;do if(16==r){r=0!=(0|HEAP32[i+1184>>2])?17:24;A:do if(17==r){if(0==(0|HEAP32[i+16>>2])){r=24;break A}r=0!=(0|HEAP32[i+3380>>2])?19:20;do{if(19==r){o=3;break i}if(20==r){r=0!=(0|HEAP32[i+1188>>2])?22:21,22==r?f=_h264bsdConceal(i,i+1336,HEAP32[i+1372>>2]):21==r&&(t=_h264bsdAllocateDpbImage(i+1220),HEAP32[i+1336>>2]=t,_h264bsdInitRefPicList(i+1220),f=_h264bsdConceal(i,i+1336,0)),t=1,HEAP32[E>>2]=0,HEAP32[i+3344>>2]=1,r=25;break A}}while(0)}while(0);24==r&&(HEAP32[i+1188>>2]=0),HEAP32[i+1180>>2]=0}while(0);r=0!=(0|t)?79:27;do if(27==r){e=HEAP32[a>>2],r=7==e?28:8==e?31:5==e?34:1==e?35:6==e?76:77;A:do{if(77==r){r=78;break A}if(28==r){f=_h264bsdDecodeSeqParamSet(l,d),r=0!=(0|f)?29:30;do{if(29==r){_H264SwDecFree(HEAP32[d+40>>2]),HEAP32[d+40>>2]=0,_H264SwDecFree(HEAP32[d+84>>2]),HEAP32[d+84>>2]=0,o=3;break i}if(30==r){f=_h264bsdStoreSeqParamSet(i,d),r=78;break A}}while(0)}else if(31==r){f=_h264bsdDecodePicParamSet(l,n),r=0!=(0|f)?32:33;do{if(32==r){_H264SwDecFree(HEAP32[n+20>>2]),HEAP32[n+20>>2]=0,_H264SwDecFree(HEAP32[n+24>>2]),HEAP32[n+24>>2]=0,_H264SwDecFree(HEAP32[n+28>>2]),HEAP32[n+28>>2]=0,_H264SwDecFree(HEAP32[n+44>>2]),HEAP32[n+44>>2]=0,o=3;break i}if(33==r){f=_h264bsdStorePicParamSet(i,n),r=78;break A}}while(0)}else{if(34==r){r=35;break A}if(76==r){r=78;break A}}}while(0);do if(35==r){r=0!=(0|HEAP32[i+1180>>2])?36:37;do{if(36==r){o=0;break i}if(37==r){HEAP32[i+1184>>2]=1,r=0!=(0|_h264bsdIsStartOfPicture(i))?38:59;do if(38==r){HEAP32[i+1204>>2]=0,HEAP32[i+1208>>2]=P,_h264bsdCheckPpsId(l,H),e=HEAP32[i+8>>2],f=_h264bsdActivateParamSets(i,HEAP32[H>>2],5==(0|HEAP32[a>>2])?1:0),r=0!=(0|f)?39:42;do if(39==r){HEAP32[i+4>>2]=256,HEAP32[i+12>>2]=0,HEAP32[i+8>>2]=32,HEAP32[i+16>>2]=0,HEAP32[i+3380>>2]=0,r=65535==(0|f)?40:41;do{if(40==r){o=5;break i}if(41==r){o=4;break i}}while(0)}else if(42==r){r=(0|e)!=(0|HEAP32[i+8>>2])?43:58;do if(43==r){P=0,d=HEAP32[i+16>>2],HEAP32[_>>2]=1,r=32>HEAPU32[i>>2]>>>0?44:45,44==r&&(P=HEAP32[i+20+(HEAP32[i>>2]<<2)>>2]),HEAP32[E>>2]=0,HEAP32[i+3344>>2]=1,r=5==(0|HEAP32[a>>2])?46:47,46==r?f=_h264bsdCheckPriorPicsFlag(_,l,d,HEAP32[i+12>>2],HEAP32[a>>2]):47==r&&(f=1),r=0!=(0|f)?55:49;A:do if(49==r){if(0!=(0|HEAP32[_>>2])){r=55;break A}if(0!=(0|HEAP32[i+1276>>2])){r=55;break A}if(0==(0|P)){r=55;break A}if((0|HEAP32[P+52>>2])!=(0|HEAP32[d+52>>2])){r=55;break A}if((0|HEAP32[P+56>>2])!=(0|HEAP32[d+56>>2])){r=55;break A}if((0|HEAP32[P+88>>2])!=(0|HEAP32[d+88>>2])){r=55;break A}_h264bsdFlushDpb(i+1220),r=57;break A}while(0);55==r&&(HEAP32[i+1280>>2]=0),HEAP32[i>>2]=HEAP32[i+8>>2],o=2;break i}while(0)}while(0)}while(0);r=0!=(0|HEAP32[i+3380>>2])?60:61;do{if(60==r){o=3;break i}if(61==r){f=_h264bsdDecodeSliceHeader(l,i+2356,HEAP32[i+16>>2],HEAP32[i+12>>2],a),r=0!=(0|f)?62:63;do{if(62==r){o=3;break i}if(63==r){r=0!=(0|_h264bsdIsStartOfPicture(i))?64:69;do if(64==r){r=5==(0|HEAP32[a>>2])?68:65;do if(65==r){f=_h264bsdCheckGapsInFrameNum(i+1220,HEAP32[i+2368>>2],0!=(0|HEAP32[a+4>>2])?1:0,HEAP32[HEAP32[i+16>>2]+48>>2]),r=0!=(0|f)?66:67;do if(66==r){o=3;break i}while(0)}while(0);e=_h264bsdAllocateDpbImage(i+1220),HEAP32[i+1336>>2]=e}while(0);if(r=i+2356,f=i+1368,b=r+988,f%4==r%4){for(;0!==r%4&&r<b;)HEAP8[f++]=HEAP8[r++];for(r>>=2,f>>=2,h=b>>2;r<h;)HEAP32[f++]=HEAP32[r++];r<<=2,f<<=2}for(;r<b;)HEAP8[f++]=HEAP8[r++];for(HEAP32[i+1188>>2]=1,r=a,f=i+1360,b=r+8;r<b;)HEAP8[f++]=HEAP8[r++];_h264bsdComputeSliceGroupMap(i,HEAP32[i+1432>>2]),_h264bsdInitRefPicList(i+1220),f=_h264bsdReorderRefPicList(i+1220,i+1436,HEAP32[i+1380>>2],HEAP32[i+1412>>2]),r=0!=(0|f)?70:71;do{if(70==r){o=3;break i}if(71==r){f=_h264bsdDecodeSliceData(l,i,i+1336,i+1368),r=0!=(0|f)?72:73;do{if(72==r){_h264bsdMarkSliceCorrupted(i,HEAP32[i+1368>>2]),o=3;break i}73==r&&(r=0!=(0|_h264bsdIsEndOfPicture(i))?74:75,74==r&&(t=1,HEAP32[i+1180>>2]=1))}while(0)}}while(0)}}while(0)}}while(0)}}while(0)}while(0)}while(0);r=0!=(0|t)?80:86;do{if(80==r){_h264bsdFilterPicture(i+1336,HEAP32[i+1212>>2]),_h264bsdResetStorage(i),E=_h264bsdDecodePicOrderCnt(i+1284,HEAP32[i+16>>2],i+1368,i+1360),r=0!=(0|HEAP32[i+1188>>2])?81:85,81==r&&(r=0!=(0|HEAP32[i+1364>>2])?82:83,82==r?_h264bsdMarkDecRefPic(i+1220,i+1644,i+1336,HEAP32[i+1380>>2],E,5==(0|HEAP32[i+1360>>2])?1:0,HEAP32[i+1208>>2],HEAP32[i+1204>>2]):83==r&&_h264bsdMarkDecRefPic(i+1220,0,i+1336,HEAP32[i+1380>>2],E,5==(0|HEAP32[i+1360>>2])?1:0,HEAP32[i+1208>>2],HEAP32[i+1204>>2])),HEAP32[i+1184>>2]=0,HEAP32[i+1188>>2]=0,o=1;break i}if(86==r){o=0;break i}}while(0)}while(0)}while(0);o=0}while(0)}while(0);return STACKTOP=H,o}function _h264bsdShutdown(i){var e,A;A=0;i:for(;32>A>>>0;)e=0!=(0|HEAP32[i+20+(A<<2)>>2])?3:4,3==e&&(_H264SwDecFree(HEAP32[HEAP32[i+20+(A<<2)>>2]+40>>2]),HEAP32[HEAP32[i+20+(A<<2)>>2]+40>>2]=0,_H264SwDecFree(HEAP32[HEAP32[i+20+(A<<2)>>2]+84>>2]),HEAP32[HEAP32[i+20+(A<<2)>>2]+84>>2]=0,_H264SwDecFree(HEAP32[i+20+(A<<2)>>2]),HEAP32[i+20+(A<<2)>>2]=0),A+=1;A=0;i:for(;256>A>>>0;)e=0!=(0|HEAP32[i+148+(A<<2)>>2])?9:10,9==e&&(_H264SwDecFree(HEAP32[HEAP32[i+148+(A<<2)>>2]+20>>2]),HEAP32[HEAP32[i+148+(A<<2)>>2]+20>>2]=0,_H264SwDecFree(HEAP32[HEAP32[i+148+(A<<2)>>2]+24>>2]),HEAP32[HEAP32[i+148+(A<<2)>>2]+24>>2]=0,_H264SwDecFree(HEAP32[HEAP32[i+148+(A<<2)>>2]+28>>2]),HEAP32[HEAP32[i+148+(A<<2)>>2]+28>>2]=0,_H264SwDecFree(HEAP32[HEAP32[i+148+(A<<2)>>2]+44>>2]),HEAP32[HEAP32[i+148+(A<<2)>>2]+44>>2]=0,_H264SwDecFree(HEAP32[i+148+(A<<2)>>2]),HEAP32[i+148+(A<<2)>>2]=0),A+=1;_H264SwDecFree(HEAP32[i+3376>>2]),HEAP32[i+3376>>2]=0,_H264SwDecFree(HEAP32[i+1212>>2]),HEAP32[i+1212>>2]=0,_H264SwDecFree(HEAP32[i+1172>>2]),HEAP32[i+1172>>2]=0,_h264bsdFreeDpb(i+1220)}function _h264bsdPicWidth(i){var e,A;return e=0!=(0|HEAP32[i+16>>2])?1:2,1==e?A=HEAP32[HEAP32[i+16>>2]+52>>2]:2==e&&(A=0),A}function _h264bsdPicHeight(i){var e,A;return e=0!=(0|HEAP32[i+16>>2])?1:2,1==e?A=HEAP32[HEAP32[i+16>>2]+56>>2]:2==e&&(A=0),A}function _h264bsdFlushBuffer(i){_h264bsdFlushDpb(i+1220)}function _h264bsdVideoRange(i){var e,A;e=0!=(0|HEAP32[i+16>>2])?1:6;i:do if(1==e){if(0==(0|HEAP32[HEAP32[i+16>>2]+80>>2])){e=6;break i}if(0==(0|HEAP32[HEAP32[i+16>>2]+84>>2])){e=6;break i}if(0==(0|HEAP32[HEAP32[HEAP32[i+16>>2]+84>>2]+24>>2])){e=6;break i}if(0==(0|HEAP32[HEAP32[HEAP32[i+16>>2]+84>>2]+32>>2])){e=6;break i}A=1,e=7;break i}while(0);return 6==e&&(A=0),A}function _h264bsdMatrixCoefficients(i){var e,A;e=0!=(0|HEAP32[i+16>>2])?1:6;i:do if(1==e){if(0==(0|HEAP32[HEAP32[i+16>>2]+80>>2])){e=6;break i}if(0==(0|HEAP32[HEAP32[i+16>>2]+84>>2])){e=6;break i}if(0==(0|HEAP32[HEAP32[HEAP32[i+16>>2]+84>>2]+24>>2])){e=6;break i}if(0==(0|HEAP32[HEAP32[HEAP32[i+16>>2]+84>>2]+36>>2])){e=6;break i}A=HEAP32[HEAP32[HEAP32[i+16>>2]+84>>2]+48>>2],e=7;break i}while(0);return 6==e&&(A=2),A}function _h264bsdCroppingParams(i,e,A,P,E,H){var r;r=0!=(0|HEAP32[i+16>>2])?1:3;i:do if(1==r){if(0==(0|HEAP32[HEAP32[i+16>>2]+60>>2])){r=3;break i}HEAP32[e>>2]=1,HEAP32[A>>2]=HEAP32[HEAP32[i+16>>2]+64>>2]<<1,HEAP32[P>>2]=(HEAP32[HEAP32[i+16>>2]+52>>2]<<4)-(HEAP32[HEAP32[i+16>>2]+64>>2]+HEAP32[HEAP32[i+16>>2]+68>>2]<<1),HEAP32[E>>2]=HEAP32[HEAP32[i+16>>2]+72>>2]<<1,HEAP32[H>>2]=(HEAP32[HEAP32[i+16>>2]+56>>2]<<4)-(HEAP32[HEAP32[i+16>>2]+72>>2]+HEAP32[HEAP32[i+16>>2]+76>>2]<<1),r=4;break i}while(0);3==r&&(HEAP32[e>>2]=0,HEAP32[A>>2]=0,HEAP32[P>>2]=0,HEAP32[E>>2]=0,HEAP32[H>>2]=0)}function _h264bsdSampleAspectRatio(i,e,A){var P,E,H;H=E=1,P=0!=(0|HEAP32[i+16>>2])?1:25;i:do if(1==P){if(0==(0|HEAP32[HEAP32[i+16>>2]+80>>2]))break i;if(0==(0|HEAP32[HEAP32[i+16>>2]+84>>2]))break i;if(0==(0|HEAP32[HEAP32[HEAP32[i+16>>2]+84>>2]>>2]))break i;P=HEAP32[HEAP32[HEAP32[i+16>>2]+84>>2]+4>>2],P=0==P?5:1==P?6:2==P?7:3==P?8:4==P?9:5==P?10:6==P?11:7==P?12:8==P?13:9==P?14:10==P?15:11==P?16:12==P?17:13==P?18:255==P?19:23;do if(23==P)H=E=0;else if(5==P)H=E=0;else if(6==P)H=E=1;else if(7==P)E=12,H=11;else if(8==P)E=10,H=11;else if(9==P)E=16,H=11;else if(10==P)E=40,H=33;else if(11==P)E=24,H=11;else if(12==P)E=20,H=11;else if(13==P)E=32,H=11;else if(14==P)E=80,H=33;else if(15==P)E=18,H=11;else if(16==P)E=15,H=11;else if(17==P)E=64,H=33;else if(18==P)E=160,H=99;else if(19==P){E=HEAP32[HEAP32[HEAP32[i+16>>2]+84>>2]+8>>2],H=HEAP32[HEAP32[HEAP32[i+16>>2]+84>>2]+12>>2],P=0==(0|E)?21:20;e:do if(20==P){P=0==(0|H)?21:22;break e}while(0);21==P&&(E=H=0)}while(0)}while(0);HEAP32[e>>2]=E,HEAP32[A>>2]=H}function _h264bsdProfile(i){var e,A;return e=0!=(0|HEAP32[i+16>>2])?1:2,1==e?A=HEAP32[HEAP32[i+16>>2]>>2]:2==e&&(A=0),A}function _H264SwDecRelease(i){var e;e=0==(0|i)?1:2,1!=e&&2==e&&(_h264bsdShutdown(i+8),_H264SwDecFree(i))}function _h264bsdNextOutputPicture(i,e,A,P){var E,H;return H=_h264bsdDpbOutputPicture(i+1220),i=0!=(0|H)?1:2,1==i?(HEAP32[e>>2]=HEAP32[H+4>>2],HEAP32[A>>2]=HEAP32[H+12>>2],HEAP32[P>>2]=HEAP32[H+8>>2],E=HEAP32[H>>2]):2==i&&(E=0),E}function _h264bsdCheckValidParamSets(i){return 0==(0|_h264bsdValidParamSets(i))?1:0}function _H264SwDecInit(i,e){var A,P,E;return A=0==(0|i)?1:2,1==A?P=-1:2==A&&(E=_H264SwDecMalloc(3396),A=0==(0|E)?3:4,3==A?P=-4:4==A&&(A=_h264bsdInit(E+8,e),A=0!=(0|A)?5:6,5==A?(_H264SwDecRelease(E),P=-4):6==A&&(HEAP32[E>>2]=1,HEAP32[E+4>>2]=0,HEAP32[i>>2]=E,P=0))),P}function _broadwayOnHeadersDecoded(){}function _broadwayPlayStream(){_playStream(_broadwayStream)}function _broadwayCreateStream(i){return _streamInit(_broadwayStream,i),HEAP32[_broadwayStream+4>>2]}function _broadwaySetStreamLength(i){HEAP32[_broadwayStream>>2]=i}function _main(){return 0}function _broadwayOnPictureDecoded(){}function _H264SwDecFree(){}function _H264SwDecMemcpy(i,e,A){var P;if(P=e+A,i%4==e%4&&8<A){for(;0!==e%4&&e<P;)HEAP8[i++]=HEAP8[e++];for(e>>=2,i>>=2,A=P>>2;e<A;)HEAP32[i++]=HEAP32[e++];e<<=2,i<<=2}for(;e<P;)HEAP8[i++]=HEAP8[e++]}function _broadwayExit(){}function _H264SwDecMemset(i,e,A){var P,E,e=255&e,A=i+A;for(E=e,0>E&&(E+=256),E=E+(E<<8)+(E<<16)+16777216*E;0!==i%4&&i<A;)HEAP8[i++]=e;for(i>>=2,P=A>>2;i<P;)HEAP32[i++]=E;for(i<<=2;i<A;)HEAP8[i++]=e}function _H264SwDecGetAPIVersion(i){var e=STACKTOP;STACKTOP+=8,HEAP32[e>>2]=2,HEAP32[e+4>>2]=3;var A,P;for(A=e,P=A+8;A<P;)HEAP8[i++]=HEAP8[A++];STACKTOP=e}function _broadwayGetMajorVersion(){var i=STACKTOP;STACKTOP+=8,_H264SwDecGetAPIVersion(i);var e=HEAP32[i>>2];return STACKTOP=i,e}function _broadwayGetMinorVersion(){var i=STACKTOP;STACKTOP+=8,_H264SwDecGetAPIVersion(i);var e=HEAP32[i+4>>2];return STACKTOP=i,e}function _H264SwDecGetInfo(i,e){var A,P;A=0==(0|i)?2:1;i:do if(1==A){if(0==(0|e)){A=2;break i}P=i+8,A=0==(0|HEAP32[P+16>>2])?5:4;e:do if(4==A){if(0==(0|HEAP32[P+12>>2]))break e;A=_h264bsdPicWidth(P),HEAP32[e+4>>2]=A<<4,A=_h264bsdPicHeight(P),HEAP32[e+8>>2]=A<<4,A=_h264bsdVideoRange(P),HEAP32[e+12>>2]=A,A=_h264bsdMatrixCoefficients(P),HEAP32[e+16>>2]=A,_h264bsdCroppingParams(P,e+28,e+32,e+36,e+40,e+44),_h264bsdSampleAspectRatio(P,e+20,e+24),P=_h264bsdProfile(P),HEAP32[e>>2]=P,P=0,A=7;break i}while(0);P=-6,A=7;break i}while(0);return 2==A&&(P=-1),P}function _H264SwDecDecode(i,e,A){var P=STACKTOP;STACKTOP+=4;var E,H,r,o,f;o=0,f=1,E=0==(0|e)?2:1;i:do if(1==E){if(0==(0|A)){E=2;break i}E=0==(0|HEAP32[e>>2])?5:4;e:do if(4==E){if(0==(0|HEAP32[e+4>>2]))break e;H=i,E=0==(0|i)?8:7;A:do if(7==E){if(0==(0|HEAP32[H>>2]))break A;HEAP32[A>>2]=0,HEAP32[P>>2]=0,i=HEAP32[e+4>>2],r=HEAP32[e>>2],HEAP32[H+3392>>2]=HEAP32[e+12>>2];P:for(;;){E=2==(0|HEAP32[H>>2])?11:12,11==E?(o=2,HEAP32[H>>2]=1):12==E&&(o=_h264bsdDecode(H+8,r,i,HEAP32[e+8>>2],P)),r+=HEAP32[P>>2],E=0<=(i-HEAP32[P>>2]|0)?14:15,14==E?i-=HEAP32[P>>2]:15==E&&(i=0),HEAP32[A>>2]=r,E=o,E=2==E?17:1==E?22:4==E?26:5==E?30:31;do if(31!=E)if(17==E){E=0!=(0|HEAP32[H+1288>>2])?18:20;E:do if(18==E){if((0|HEAP32[H+1244>>2])==(0|HEAP32[H+1248>>2])){E=20;break E}HEAP32[H+1288>>2]=0,HEAP32[H>>2]=2,f=3,i=0,E=21;break E}while(0);20==E&&(f=4,i=0)}else if(22==E)HEAP32[H+4>>2]+=1,E=0==(0|i)?23:24,23==E?f=2:24==E&&(f=3),i=0;else if(26==E){E=0!=(0|_h264bsdCheckValidParamSets(H+8))?29:27;E:do if(27==E){if(0!=(0|i))break E;f=-2}while(0)}else 30==E&&(f=-4,i=0);while(0);if(0==(0|i))break P}H=f,E=35;break i}while(0);H=-3,E=35;break i}while(0);H=-1,E=35;break i}while(0);return 2==E&&(H=-1),STACKTOP=P,H}function _H264SwDecNextPicture(i,e,A){var P=STACKTOP;STACKTOP+=12;var E,H,r,o=P+4,f=P+8;E=0==(0|i)?2:1;i:do if(1==E){if(0==(0|e)){E=2;break i}r=i,E=0!=(0|A)?4:5,4==E&&_h264bsdFlushBuffer(r+8),r=_h264bsdNextOutputPicture(r+8,f,o,P),E=0==(0|r)?6:7;do{if(6==E){H=0,E=8;break i}if(7==E){HEAP32[e>>2]=r,HEAP32[e+4>>2]=HEAP32[f>>2],HEAP32[e+8>>2]=HEAP32[o>>2],HEAP32[e+12>>2]=HEAP32[P>>2],H=2,E=8;break i}}while(0)}while(0);return 2==E&&(H=-1),STACKTOP=P,H}function _streamInit(i,e){var A=_malloc(e);HEAP32[i+8>>2]=A,HEAP32[i+4>>2]=A,HEAP32[i>>2]=e,HEAP32[i+12>>2]=HEAP32[i+4>>2]+e}function _fillStreamWithFile(i,e){var A,P,E;P=_fopen(e,__str),A=0==(0|P)?1:2,1==A?_printf(__str1,allocate(1,"i32",ALLOC_STACK)):2==A&&(_fseek(P,0,2),E=_ftell(P),_rewind(P),_streamInit(i,E),E=_fread(HEAP32[i+4>>2],1,HEAP32[i>>2],P),_fclose(P),A=(0|E)!=(0|HEAP32[i>>2])?3:4,3==A&&_printf(__str2,allocate(1,"i32",ALLOC_STACK)),_printf(__str3,allocate([E,0,0,0],["i32",0,0,0],ALLOC_STACK)))}function _playStream(i){HEAP32[_decInput>>2]=HEAP32[i+4>>2],HEAP32[_decInput+4>>2]=HEAP32[i>>2];i:for(;_broadwayDecode(),0<HEAPU32[_decInput+4>>2]>>>0;);}function _playFile(i){var e=STACKTOP;STACKTOP+=16,_fillStreamWithFile(e,i),_broadwayInit(),HEAP32[e>>2]=1e4,_playStream(e),STACKTOP=e}function _broadwayInit(){var i,e;return i=0!=(0|_H264SwDecInit(_decInst,0))?1:2,1==i?(_printf(__str4,allocate(1,"i32",ALLOC_STACK)),_broadwayExit(),e=-1):2==i&&(HEAP32[_picDisplayNumber>>2]=1,HEAP32[_picDecodeNumber>>2]=1),e}function _broadwayDecode(){var i,e,A;HEAP32[_decInput+8>>2]=HEAP32[_picDecodeNumber>>2],i=A=_H264SwDecDecode(HEAP32[_decInst>>2],_decInput,_decOutput),i=4==i?1:3==i?4:2==i?5:1==i||-2==i?11:12;i:do if(1==i){A=_H264SwDecGetInfo(HEAP32[_decInst>>2],_decInfo),i=0!=(0|A)?2:3;do{if(2==i){e=-1,i=13;break i}if(3==i){HEAP32[_picSize>>2]=HEAP32[_decInfo+4>>2]*HEAP32[_decInfo+8>>2],HEAP32[_picSize>>2]=Math.floor((3*HEAP32[_picSize>>2]>>>0)/2),_broadwayOnHeadersDecoded(),HEAP32[_decInput+4>>2]-=HEAP32[_decOutput>>2]-HEAP32[_decInput>>2],HEAP32[_decInput>>2]=HEAP32[_decOutput>>2],i=12;break i}}while(0)}else{if(4==i){HEAP32[_decInput+4>>2]-=HEAP32[_decOutput>>2]-HEAP32[_decInput>>2],HEAP32[_decInput>>2]=HEAP32[_decOutput>>2],i=5;break i}if(11==i){HEAP32[_decInput+4>>2]=0,i=12;break i}}while(0);i:do if(5==i){i=2==(0|A)?6:7,6==i&&(HEAP32[_decInput+4>>2]=0),HEAP32[_picDecodeNumber>>2]+=1;e:for(;2==(0|_H264SwDecNextPicture(HEAP32[_decInst>>2],_decPicture,0));)HEAP32[_picDisplayNumber>>2]+=1,_broadwayOnPictureDecoded(HEAP32[_decPicture>>2],HEAP32[_decInfo+4>>2],HEAP32[_decInfo+8>>2]);i=12;break i}while(0);return 12==i&&(e=A),e}function _broadwayCreateStreamBuffer(i){return i=_malloc(i),1==(0==(0|i)?1:2)&&_printf(__str5,allocate(1,"i32",ALLOC_STACK)),i}function _H264SwDecTrace(i){_printf(__str6,allocate([i,0,0,0],["i8*",0,0,0],ALLOC_STACK))}function _H264SwDecMalloc(i){return _malloc(i)}function _memcpy(i,e,A){var P;if(P=e+A,i%4==e%4&&8<A){for(;0!==e%4&&e<P;)HEAP8[i++]=HEAP8[e++];for(e>>=2,i>>=2,A=P>>2;e<A;)HEAP32[i++]=HEAP32[e++];e<<=2,i<<=2}for(;e<P;)HEAP8[i++]=HEAP8[e++]}function _memset(i,e,A){var P,A=i+A;for(0>e&&(e+=256),e=e+(e<<8)+(e<<16)+16777216*e;0!==i%4&&i<A;)HEAP8[i++]=e;for(i>>=2,P=A>>2;i<P;)HEAP32[i++]=e;for(i<<=2;i<A;)HEAP8[i++]=e}function _malloc(i){return Runtime.staticAlloc(i||1)}function ___setErrNo(i){return ___setErrNo.ret||(___setErrNo.ret=allocate([0],"i32",ALLOC_STATIC)),HEAP32[___setErrNo.ret>>2]=i}function _open(i,e,A){var P=HEAP32[A>>2],E=3&e,A=0!=E,E=1!=E,H=Boolean(512&e),r=Boolean(2048&e),o=Boolean(1024&e),f=Boolean(8&e),i=FS.analyzePath(Pointer_stringify(i));if(!i.parentExists)return ___setErrNo(i.error),-1;if(e=i.object||null){if(H&&r)return ___setErrNo(ERRNO_CODES.EEXIST),-1;if((A||H||o)&&e.isFolder)return ___setErrNo(ERRNO_CODES.EISDIR),-1;if(E&&!e.read||A&&!e.write)return ___setErrNo(ERRNO_CODES.EACCES),-1;if(o&&!e.isDevice)e.contents=[];else if(!FS.forceLoadFile(e))return ___setErrNo(ERRNO_CODES.EIO),-1;i=i.path}else{if(!H)return ___setErrNo(ERRNO_CODES.ENOENT),-1;if(!i.parentObject.write)return ___setErrNo(ERRNO_CODES.EACCES),-1;e=FS.createDataFile(i.parentObject,i.name,[],256&P,128&P),i=i.parentPath+"/"+i.name}if(P=FS.streams.length,e.isFolder){A=0,___dirent_struct_layout&&(A=_malloc(___dirent_struct_layout.__size__));var t,E=[];for(t in e.contents)E.push(t);FS.streams[P]={path:i,object:e,position:-2,isRead:!0,isWrite:!1,isAppend:!1,error:!1,eof:!1,ungotten:[],contents:E,currentEntry:A}}else FS.streams[P]={path:i,object:e,position:0,isRead:E,isWrite:A,isAppend:f,error:!1,eof:!1,ungotten:[]};return P}function _fopen(i,e){var A,e=Pointer_stringify(e);if("r"==e[0])A=-1!=e.indexOf("+")?2:0;else if("w"==e[0])A=-1!=e.indexOf("+")?2:1,A|=1536;else{if("a"!=e[0])return ___setErrNo(ERRNO_CODES.EINVAL),0;A=-1!=e.indexOf("+")?2:1,A|=520}return A=_open(i,A,allocate([511,0,0,0],"i32",ALLOC_STACK)),-1==A?0:A}function _pwrite(i,e,A,P){if(i=FS.streams[i],!i||i.object.isDevice)return ___setErrNo(ERRNO_CODES.EBADF),-1;if(i.isWrite){if(i.object.isFolder)return ___setErrNo(ERRNO_CODES.EISDIR),-1;if(0>A||0>P)return ___setErrNo(ERRNO_CODES.EINVAL),-1;for(var E=i.object.contents;E.length<P;)E.push(0);for(var H=0;H<A;H++)E[P+H]=HEAPU8[e+H];return i.object.timestamp=Date.now(),H}return ___setErrNo(ERRNO_CODES.EACCES),-1}function _write(i,e,A){var P=FS.streams[i];if(P){if(P.isWrite){if(0>A)return ___setErrNo(ERRNO_CODES.EINVAL),-1;if(P.object.isDevice){if(P.object.output){for(i=0;i<A;i++)try{P.object.output(HEAP8[e+i])}catch(E){return ___setErrNo(ERRNO_CODES.EIO),-1}return P.object.timestamp=Date.now(),i}return ___setErrNo(ERRNO_CODES.ENXIO),-1}return e=_pwrite(i,e,A,P.position),-1!=e&&(P.position+=e),e}return ___setErrNo(ERRNO_CODES.EACCES),-1}return ___setErrNo(ERRNO_CODES.EBADF),-1}function _fwrite(i,e,A,P){return A*=e,0==A?0:(i=_write(P,i,A),-1==i?(FS.streams[P]&&(FS.streams[P].error=!0),-1):Math.floor(i/e))}function __formatString(i,e){function A(i){var A;return"double"===i?(tempDoubleI32[0]=HEAP32[e+r>>2],tempDoubleI32[1]=HEAP32[e+r+4>>2],A=tempDoubleF64[0]):"i64"==i?(A=[HEAP32[e+r>>2],HEAP32[e+r+4>>2]],A=unSign(A[0],32)+unSign(A[1],32)*Math.pow(2,32)):(i="i32",A=HEAP32[e+r>>2]),r+=Runtime.getNativeFieldSize(i),Number(A)}for(var P,E,H=i,r=0,o=[];;){var f=H;if(P=HEAP8[H],0===P)break;if(E=HEAP8[H+1],37==P){var t=!1,a=!1,d=!1,n=!1;i:for(;;){switch(E){case 43:t=!0;break;case 45:a=!0;break;case 35:d=!0;break;case 48:if(n)break i;n=!0;break;default:break i}H++,E=HEAP8[H+1]}var l=0;if(42==E)l=A("i32"),H++,E=HEAP8[H+1];else for(;48<=E&&57>=E;)l=10*l+(E-48),H++,E=HEAP8[H+1];var s=!1;if(46==E){var _=0,s=!0;if(H++,E=HEAP8[H+1],42==E)_=A("i32"),H++;else for(;E=HEAP8[H+1],!(48>E||57<E);)_=10*_+(E-48),H++;E=HEAP8[H+1]}else _=6;var b;switch(String.fromCharCode(E)){case"h":E=HEAP8[H+2],104==E?(H++,b=1):b=2;break;case"l":E=HEAP8[H+2],108==E?(H++,b=8):b=4;break;case"L":case"q":case"j":b=8;break;case"z":case"t":case"I":b=4;break;default:b=null}if(b&&H++,E=HEAP8[H+1],-1!="d,i,u,o,x,X,p".split(",").indexOf(String.fromCharCode(E))){if(f=100==E||105==E,b=b||4,P=A("i"+8*b),4>=b){var h=Math.pow(256,b)-1;P=(f?reSign:unSign)(P&h,8*b)}var c,h=Math.abs(P),f="";if(100==E||105==E)c=reSign(P,8*b,1).toString(10);else if(117==E)c=unSign(P,8*b,1).toString(10),P=Math.abs(P);else if(111==E)c=(d?"0":"")+h.toString(8);else if(120==E||88==E){if(f=d?"0x":"",0>P){for(P=-P,c=(h-1).toString(16),d=[],h=0;h<c.length;h++)d.push((15-parseInt(c[h],16)).toString(16));for(c=d.join("");c.length<2*b;)c="f"+c}else c=h.toString(16);88==E&&(f=f.toUpperCase(),c=c.toUpperCase())}else 112==E&&(0===h?c="(nil)":(f="0x",c=h.toString(16)));if(s)for(;c.length<_;)c="0"+c;for(t&&(f=0>P?"-"+f:"+"+f);f.length+c.length<l;)a?c+=" ":n?c="0"+c:f=" "+f;c=f+c,c.split("").forEach(function(i){o.push(i.charCodeAt(0))})}else if(-1!="f,F,e,E,g,G".split(",").indexOf(String.fromCharCode(E))){if(P=A("double"),isNaN(P))c="nan",n=!1;else if(isFinite(P)){if(s=!1,b=Math.min(_,20),103!=E&&71!=E||(s=!0,_=_||1,b=parseInt(P.toExponential(b).split("e")[1],10),_>b&&-4<=b?(E=(103==E?"f":"F").charCodeAt(0),_-=b+1):(E=(103==E?"e":"E").charCodeAt(0),_--),b=Math.min(_,20)),101==E||69==E?(c=P.toExponential(b),/[eE][-+]\d$/.test(c)&&(c=c.slice(0,-1)+"0"+c.slice(-1))):102!=E&&70!=E||(c=P.toFixed(b)),f=c.split("e"),s&&!d)for(;1<f[0].length&&-1!=f[0].indexOf(".")&&("0"==f[0].slice(-1)||"."==f[0].slice(-1));)f[0]=f[0].slice(0,-1);else for(d&&-1==c.indexOf(".")&&(f[0]+=".");_>b++;)f[0]+="0";c=f[0]+(1<f.length?"e"+f[1]:""),69==E&&(c=c.toUpperCase()),t&&0<=P&&(c="+"+c)}else c=(0>P?"-":"")+"inf",n=!1;for(;c.length<l;)c=a?c+" ":!n||"-"!=c[0]&&"+"!=c[0]?(n?"0":" ")+c:c[0]+"0"+c.slice(1);97>E&&(c=c.toUpperCase()),c.split("").forEach(function(i){o.push(i.charCodeAt(0))})}else if(115==E){if((t=A("i8*"))?(t=String_copy(t),s&&t.length>_&&(t=t.slice(0,_))):t=intArrayFromString("(null)",!0),!a)for(;t.length<l--;)o.push(32);if(o=o.concat(t),a)for(;t.length<l--;)o.push(32)}else if(99==E){for(a&&o.push(A("i8"));0<--l;)o.push(32);a||o.push(A("i8"))}else if(110==E)a=A("i32*"),HEAP32[a>>2]=o.length;else if(37==E)o.push(P);else for(h=f;h<H+2;h++)o.push(HEAP8[h]);H+=2}else o.push(P),H+=1}return o}function _fprintf(i,e,A){return A=__formatString(e,A),e=Runtime.stackSave(),i=_fwrite(allocate(A,"i8",ALLOC_STACK),1,A.length,i),Runtime.stackRestore(e),i}function _printf(i,e){return _fprintf(HEAP32[_stdout>>2],i,e)}function _lseek(i,e,A){return FS.streams[i]&&!FS.streams[i].isDevice?(i=FS.streams[i],1===A?e+=i.position:2===A&&(e+=i.object.contents.length),0>e?(___setErrNo(ERRNO_CODES.EINVAL),
-1):(i.ungotten=[],i.position=e)):(___setErrNo(ERRNO_CODES.EBADF),-1)}function _fseek(i,e,A){return-1==_lseek(i,e,A)?-1:(FS.streams[i].eof=!1,0)}function _ftell(i){return i in FS.streams?(i=FS.streams[i],i.object.isDevice?(___setErrNo(ERRNO_CODES.ESPIPE),-1):i.position):(___setErrNo(ERRNO_CODES.EBADF),-1)}function _rewind(i){_fseek(i,0,0),i in FS.streams&&(FS.streams[i].error=!1)}function _pread(i,e,A,P){var E=FS.streams[i];if(!E||E.object.isDevice)return ___setErrNo(ERRNO_CODES.EBADF),-1;if(E.isRead){if(E.object.isFolder)return ___setErrNo(ERRNO_CODES.EISDIR),-1;if(0>A||0>P)return ___setErrNo(ERRNO_CODES.EINVAL),-1;for(i=0;E.ungotten.length&&0<A;)HEAP8[e++]=E.ungotten.pop(),A--,i++;for(var E=E.object.contents,A=Math.min(E.length-P,A),H=0;H<A;H++)HEAP8[e+H]=E[P+H],i++;return i}return ___setErrNo(ERRNO_CODES.EACCES),-1}function _read(i,e,A){var P=FS.streams[i];if(P){if(P.isRead){if(0>A)return ___setErrNo(ERRNO_CODES.EINVAL),-1;if(P.object.isDevice){if(P.object.input){for(i=0;P.ungotten.length&&0<A;)HEAP8[e++]=P.ungotten.pop(),A--,i++;for(var E=0;E<A;E++){try{var H=P.object.input()}catch(r){return ___setErrNo(ERRNO_CODES.EIO),-1}if(null===H||void 0===H)break;i++,HEAP8[e+E]=H}return i}return ___setErrNo(ERRNO_CODES.ENXIO),-1}return H=P.ungotten.length,i=_pread(i,e,A,P.position),-1!=i&&(P.position+=P.ungotten.length-H+i),i}return ___setErrNo(ERRNO_CODES.EACCES),-1}return ___setErrNo(ERRNO_CODES.EBADF),-1}function _fread(i,e,A,P){return A*=e,0==A?0:(i=_read(P,i,A),P=FS.streams[P],-1==i?(P&&(P.error=!0),-1):(i<A&&(P.eof=!0),Math.floor(i/e)))}function _close(i){return FS.streams[i]?(FS.streams[i].currentEntry&&_free(FS.streams[i].currentEntry),delete FS.streams[i],0):(___setErrNo(ERRNO_CODES.EBADF),-1)}function _fsync(i){return FS.streams[i]?0:(___setErrNo(ERRNO_CODES.EBADF),-1)}function _fclose(i){return _fsync(i),_close(i)}function _free(){}function run(i){i=i||Module.arguments,__globalConstructor__();var e=null;return Module._main&&(e=Module.callMain(i),__shutdownRuntime__()),e}function getGlobalScope(){return function(){return this}.call(null)}function getSurface(){var i=SDL.surfaces[SDL.screen];if(!i.image){i.image=i.ctx.getImageData(0,0,i.width,i.height);for(var e=i.image.data,A=e.length,P=0;P<A/4;P++)e[4*P+3]=255}return i}var arguments_=[],ENVIRONMENT_IS_NODE="object"==typeof process,ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){print=function(i){process.stdout.write(i+"\n")},printErr=function(i){process.stderr.write(i+"\n")};var nodeFS=require("fs");read=function(i){var e=nodeFS.readFileSync(i).toString();return!e&&"/"!=i[0]&&(i=__dirname.split("/").slice(0,-1).join("/")+"/src/"+i,e=nodeFS.readFileSync(i).toString()),e},arguments_=process.argv.slice(2)}else if(ENVIRONMENT_IS_SHELL)this.read||(read=function(i){snarf(i)}),arguments_=this.arguments?arguments:scriptArgs;else if(ENVIRONMENT_IS_WEB)print=printErr=function(i){console.log(i)},read=function(i){var e=new XMLHttpRequest;return e.open("GET",i,!1),e.send(null),e.responseText},this.arguments&&(arguments_=arguments);else{if(!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";load=importScripts}"undefined"==typeof load&&"undefined"!=typeof read&&(load=function(i){globalEval(read(i))}),"undefined"==typeof printErr&&(printErr=function(){}),"undefined"==typeof print&&(print=printErr);try{this.Module=Module}catch(e$$5){this.Module=Module={}}Module.arguments||(Module.arguments=arguments_),Module.print&&(print=Module.print);var Runtime={stackSave:function(){return STACKTOP},stackRestore:function(i){STACKTOP=i},forceAlign:function(i,e){return e=e||4,isNumber(i)&&isNumber(e)?Math.ceil(i/e)*e:"Math.ceil(("+i+")/"+e+")*"+e},isNumberType:function(i){return i in Runtime.INT_TYPES||i in Runtime.FLOAT_TYPES},isPointerType:function(i){return"*"==i[i.length-1]},isStructType:function(i){return!isPointerType(i)&&(!(!/^\[\d+\ x\ (.*)\]/.test(i)&&!/<?{ [^}]* }>?/.test(i))||"%"==i[0])},INT_TYPES:{i1:0,i8:0,i16:0,i32:0,i64:0},FLOAT_TYPES:{"float":0,"double":0},or64:function(i,e){var A=0|i|e|0,P=4294967296*(Math.round(i/4294967296)|Math.round(e/4294967296));return A+P},and64:function(i,e){var A=(0|i)&(0|e),P=4294967296*(Math.round(i/4294967296)&Math.round(e/4294967296));return A+P},xor64:function(i,e){var A=(0|i)^(0|e),P=4294967296*(Math.round(i/4294967296)^Math.round(e/4294967296));return A+P},getNativeTypeSize:function(i){if(1==Runtime.QUANTUM_SIZE)return 1;var e={"%i1":1,"%i8":1,"%i16":2,"%i32":4,"%i64":8,"%float":4,"%double":8}["%"+i];return e||"*"!=i[i.length-1]||(e=Runtime.QUANTUM_SIZE),e},getNativeFieldSize:function(i){return Math.max(Runtime.getNativeTypeSize(i),Runtime.QUANTUM_SIZE)},dedup:function(i,e){var A={};return e?i.filter(function(i){return!A[i[e]]&&(A[i[e]]=!0)}):i.filter(function(i){return!A[i]&&(A[i]=!0)})},set:function(){for(var i="object"==typeof arguments[0]?arguments[0]:arguments,e={},A=0;A<i.length;A++)e[i[A]]=0;return e},calculateStructAlignment:function(i){i.flatSize=0,i.alignSize=0;var e=[],A=-1;return i.flatIndexes=i.fields.map(function(P){var E;if(Runtime.isNumberType(P)||Runtime.isPointerType(P))P=E=Runtime.getNativeTypeSize(P);else{if(!Runtime.isStructType(P))throw"Unclear type in struct: "+P+", in "+i.name_+" :: "+dump(Types.types[i.name_]);E=Types.types[P].flatSize,P=Types.types[P].alignSize}return P=i.packed?1:Math.min(P,Runtime.QUANTUM_SIZE),i.alignSize=Math.max(i.alignSize,P),P=Runtime.alignMemory(i.flatSize,P),i.flatSize=P+E,0<=A&&e.push(P-A),A=P}),i.flatSize=Runtime.alignMemory(i.flatSize,i.alignSize),0==e.length?i.flatFactor=i.flatSize:1==Runtime.dedup(e).length&&(i.flatFactor=e[0]),i.needsFlattening=1!=i.flatFactor,i.flatIndexes},generateStructInfo:function(i,e,A){var P,E;if(e){if(A=A||0,P=("undefined"==typeof Types?Runtime.typeInfo:Types.types)[e],!P)return null;if(i||(i=("undefined"==typeof Types?Runtime:Types).structMetadata[e.replace(/.*\./,"")]),!i)return null;assert(P.fields.length===i.length,"Number of named fields must match the type for "+e+". Perhaps due to inheritance, which is not supported yet?"),E=P.flatIndexes}else P={fields:i.map(function(i){return i[0]})},E=Runtime.calculateStructAlignment(P);var H={__size__:P.flatSize};return e?i.forEach(function(i,e){if("string"==typeof i)H[i]=E[e]+A;else{var r,o;for(o in i)r=o;H[r]=Runtime.generateStructInfo(i[r],P.fields[e],E[e])}}):i.forEach(function(i,e){H[i[1]]=E[e]}),H},stackAlloc:function(i){var e=STACKTOP;return STACKTOP+=i,STACKTOP=4*Math.ceil(STACKTOP/4),e},staticAlloc:function(i){var e=STATICTOP;return STATICTOP+=i,STATICTOP=4*Math.ceil(STATICTOP/4),STATICTOP>=TOTAL_MEMORY&&enlargeMemory(),e},alignMemory:function(i,e){return Math.ceil(i/(e?e:4))*(e?e:4)},QUANTUM_SIZE:4,__dummy__:0},CorrectionsMonitor={MAX_ALLOWED:0,corrections:0,sigs:{},note:function(i,e){e||(this.corrections++,this.corrections>=this.MAX_ALLOWED&&abort("\n\nToo many corrections!"))},print:function(){var i,e=[];for(i in this.sigs)e.push({sig:i,fails:this.sigs[i][0],succeeds:this.sigs[i][1],total:this.sigs[i][0]+this.sigs[i][1]});for(e.sort(function(i,e){return e.total-i.total}),i=0;i<e.length;i++){var A=e[i];print(A.sig+" : "+A.total+" hits, %"+Math.ceil(100*A.fails/A.total)+" failures")}}},__globalConstructor__=function(){},__THREW__=!1,__ATEXIT__=[],ABORT=!1,undef=0,tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempI64,tempI64b,tempDoubleBuffer=new ArrayBuffer(8),tempDoubleI32=new Int32Array(tempDoubleBuffer),tempDoubleF64=new Float64Array(tempDoubleBuffer);Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2;Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.allocate=allocate,Module.Pointer_stringify=Pointer_stringify,Module.Array_stringify=Array_stringify;var FUNCTION_TABLE,PAGE_SIZE=4096,HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,STACK_ROOT,STACKTOP,STACK_MAX,STATICTOP,TOTAL_MEMORY=Module.TOTAL_MEMORY||52428800,FAST_MEMORY=Module.FAST_MEMORY||12582912;assert(!!(Int32Array&&Float64Array&&new Int32Array(1).subarray&&new Int32Array(1).set),"Cannot fallback to non-typed array case: Code is too specialized");var buffer=new ArrayBuffer(TOTAL_MEMORY);HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAP32[0]=255,assert(255===HEAPU8[0]&&0===HEAPU8[3],"Typed arrays 2 must be run on a little-endian system");var base=intArrayFromString("(null)");STATICTOP=base.length;for(var i=0;i<base.length;i++)HEAP8[i]=base[i];Module.HEAP=HEAP,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,STACK_ROOT=STACKTOP=alignMemoryPage(10);var TOTAL_STACK=1048576;STACK_MAX=STACK_ROOT+TOTAL_STACK,STATICTOP=alignMemoryPage(STACK_MAX),Module.Array_copy=Array_copy,Module.String_len=String_len,Module.String_copy=String_copy,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,_h264bsdProcessBlock.X=1,_h264bsdProcessLumaDc.X=1,_h264bsdProcessChromaDc.X=1,_h264bsdNextMbAddress.X=1,_h264bsdSetCurrImageMbPointers.X=1,_h264bsdExtractNalUnit.X=1,_GetDpbSize.X=1,_h264bsdDecodeSeqParamSet.X=1,_h264bsdCompareSeqParamSets.X=1,_h264bsdDecodePicParamSet.X=1,_h264bsdDecodeSliceHeader.X=1,_NumSliceGroupChangeCycleBits.X=1,_RefPicListReordering.X=1,_DecRefPicMarking.X=1,_h264bsdCheckPpsId.X=1,_h264bsdCheckFrameNum.X=1,_h264bsdCheckIdrPicId.X=1,_h264bsdCheckPicOrderCntLsb.X=1,_h264bsdCheckDeltaPicOrderCntBottom.X=1,_h264bsdCheckDeltaPicOrderCnt.X=1,_h264bsdCheckRedundantPicCnt.X=1,_h264bsdCheckPriorPicsFlag.X=1,_h264bsdDecodeSliceData.X=1,_h264bsdMarkSliceCorrupted.X=1,_h264bsdDecodeMacroblockLayer.X=1,_DecodeSubMbPred.X=1,_DecodeMbPred.X=1,_DecodeResidual.X=1,_h264bsdDecodeMacroblock.X=1,_h264bsdShowBits32.X=1,_ProcessResidual.X=1,_DetermineNc.X=1,_h264bsdDecodeExpGolombUnsigned.X=1,_DecodeCoeffToken.X=1,_h264bsdDecodeResidualBlockCavlc.X=1,_DecodeLevelPrefix.X=1,_DecodeTotalZeros.X=1,_DecodeRunBefore.X=1,_h264bsdInitMbNeighbours.X=1,_h264bsdDecodeNalUnit.X=1,_h264bsdStoreSeqParamSet.X=1,_h264bsdStorePicParamSet.X=1,_CheckPps.X=1,_h264bsdIsEndOfPicture.X=1,_h264bsdActivateParamSets.X=1,_h264bsdDecodeSliceGroupMap.X=1,_DecodeInterleavedMap.X=1,_h264bsdCheckAccessUnitBoundary.X=1,_h264bsdValidParamSets.X=1,_DecodeForegroundLeftOverMap.X=1,_DecodeBoxOutMap.X=1,_DecodeWipeMap.X=1,_h264bsdIntraPrediction.X=1,_h264bsdGetNeighbourPels.X=1,_h264bsdIntra16x16Prediction.X=1,_h264bsdIntra4x4Prediction.X=1,_h264bsdIntraChromaPrediction.X=1,_Intra16x16DcPrediction.X=1,_Intra16x16PlanePrediction.X=1,_h264bsdAddResidual.X=1,_DetermineIntra4x4PredMode.X=1,_Get4x4NeighbourPels.X=1,_Intra4x4VerticalPrediction.X=1,_Intra4x4HorizontalPrediction.X=1,_Intra4x4DcPrediction.X=1,_Intra4x4DiagonalDownLeftPrediction.X=1,_Intra4x4DiagonalDownRightPrediction.X=1,_Intra4x4VerticalRightPrediction.X=1,_Intra4x4HorizontalDownPrediction.X=1,_Intra4x4VerticalLeftPrediction.X=1,_Intra4x4HorizontalUpPrediction.X=1,_Write4x4To16x16.X=1,_IntraChromaDcPrediction.X=1,_IntraChromaHorizontalPrediction.X=1,_IntraChromaVerticalPrediction.X=1,_IntraChromaPlanePrediction.X=1,_h264bsdInterPrediction.X=1,_MvPrediction16x16.X=1,_MvPrediction16x8.X=1,_MvPrediction8x16.X=1,_MvPrediction8x8.X=1,_GetInterNeighbour.X=1,_MvPrediction.X=1,_GetPredictionMv.X=1,_h264bsdInterpolateChromaHor.X=1,_h264bsdFillBlock.X=1,_h264bsdInterpolateChromaVer.X=1,_h264bsdInterpolateChromaHorVer.X=1,_h264bsdInterpolateVerHalf.X=1,_h264bsdInterpolateVerQuarter.X=1,_h264bsdInterpolateHorHalf.X=1,_h264bsdInterpolateHorQuarter.X=1,_h264bsdInterpolateHorVerQuarter.X=1,_h264bsdInterpolateMidHalf.X=1,_h264bsdInterpolateMidVerQuarter.X=1,_h264bsdInterpolateMidHorQuarter.X=1,_h264bsdPredictSamples.X=1,_PredictChroma.X=1,_h264bsdFillRow7.X=1,_SetPicNums.X=1,_FindDpbPic.X=1,_h264bsdReorderRefPicList.X=1,_h264bsdMarkDecRefPic.X=1,_Mmcop5.X=1,_Mmcop1.X=1,_Mmcop3.X=1,_Mmcop4.X=1,_Mmcop6.X=1,_SlidingWindowRefPicMarking.X=1,_OutputPicture.X=1,_ShellSort.X=1,_h264bsdInitDpb.X=1,_h264bsdFreeDpb.X=1,_ComparePictures.X=1,_FindSmallestPicOrderCnt.X=1,_h264bsdCheckGapsInFrameNum.X=1,_h264bsdWriteMacroblock.X=1,_h264bsdWriteOutputBlocks.X=1,_InnerBoundaryStrength2.X=1,_h264bsdFilterPicture.X=1,_GetMbFilteringFlags.X=1,_GetBoundaryStrengths.X=1,_FilterLuma.X=1,_GetLumaEdgeThresholds.X=1,_GetChromaEdgeThresholds.X=1,_FilterChroma.X=1,_GetBoundaryStrengthsA.X=1,_FilterVerChromaEdge.X=1,_FilterHorChroma.X=1,_FilterHorChromaEdge.X=1,_FilterVerLumaEdge.X=1,_FilterHorLuma.X=1,_FilterHorLumaEdge.X=1,_EdgeBoundaryStrength.X=1,_InnerBoundaryStrength.X=1,_h264bsdConceal.X=1,_ConcealMb.X=1,_Transform.X=1,_h264bsdDecodeVuiParameters.X=1,_h264bsdDecodePicOrderCnt.X=1,_DecodeHrdParameters.X=1,_h264bsdDecode.X=1,_h264bsdShutdown.X=1,_h264bsdMatrixCoefficients.X=1,_h264bsdCroppingParams.X=1,_h264bsdSampleAspectRatio.X=1,Module._broadwayOnHeadersDecoded=_broadwayOnHeadersDecoded,Module._broadwayPlayStream=_broadwayPlayStream,Module._broadwayCreateStream=_broadwayCreateStream,Module._broadwaySetStreamLength=_broadwaySetStreamLength,Module._main=_main,Module._broadwayOnPictureDecoded=_broadwayOnPictureDecoded,Module._broadwayExit=_broadwayExit,Module._broadwayGetMajorVersion=_broadwayGetMajorVersion,Module._broadwayGetMinorVersion=_broadwayGetMinorVersion,_H264SwDecGetInfo.X=1,_H264SwDecDecode.X=1,_H264SwDecNextPicture.X=1,Module._broadwayInit=_broadwayInit,_broadwayDecode.X=1;var _llvm_dbg_declare,_llvm_memcpy_p0i8_p0i8_i32=_memcpy,_llvm_memset_p0i8_i32=_memset,ERRNO_CODES={E2BIG:7,EACCES:13,EADDRINUSE:98,EADDRNOTAVAIL:99,EAFNOSUPPORT:97,EAGAIN:11,EALREADY:114,EBADF:9,EBADMSG:74,EBUSY:16,ECANCELED:125,ECHILD:10,ECONNABORTED:103,ECONNREFUSED:111,ECONNRESET:104,EDEADLK:35,EDESTADDRREQ:89,EDOM:33,EDQUOT:122,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:113,EIDRM:43,EILSEQ:84,EINPROGRESS:115,EINTR:4,EINVAL:22,EIO:5,EISCONN:106,EISDIR:21,ELOOP:40,EMFILE:24,EMLINK:31,EMSGSIZE:90,EMULTIHOP:72,ENAMETOOLONG:36,ENETDOWN:100,ENETRESET:102,ENETUNREACH:101,ENFILE:23,ENOBUFS:105,ENODATA:61,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:37,ENOLINK:67,ENOMEM:12,ENOMSG:42,ENOPROTOOPT:92,ENOSPC:28,ENOSR:63,ENOSTR:60,ENOSYS:38,ENOTCONN:107,ENOTDIR:20,ENOTEMPTY:39,ENOTRECOVERABLE:131,ENOTSOCK:88,ENOTSUP:95,ENOTTY:25,ENXIO:6,EOVERFLOW:75,EOWNERDEAD:130,EPERM:1,EPIPE:32,EPROTO:71,EPROTONOSUPPORT:93,EPROTOTYPE:91,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:116,ETIME:62,ETIMEDOUT:110,ETXTBSY:26,EWOULDBLOCK:11,EXDEV:18},_stdin=0,_stdout=0,_stderr=0,__impure_ptr=0,FS={currentPath:"/",nextInode:2,streams:[null],ignorePermissions:!0,absolutePath:function(i,e){if("string"!=typeof i)return null;void 0===e&&(e=FS.currentPath),i&&"/"==i[0]&&(e="");for(var A=(e+"/"+i).split("/").reverse(),P=[""];A.length;){var E=A.pop();""==E||"."==E||(".."==E?1<P.length&&P.pop():P.push(E))}return 1==P.length?"/":P.join("/")},analyzePath:function(i,e,A){var P={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null},i=FS.absolutePath(i);if("/"==i)P.isRoot=!0,P.exists=P.parentExists=!0,P.name="/",P.path=P.parentPath="/",P.object=P.parentObject=FS.root;else if(null!==i)for(var A=A||0,i=i.slice(1).split("/"),E=FS.root,H=[""];i.length;){1==i.length&&E.isFolder&&(P.parentExists=!0,P.parentPath=1==H.length?"/":H.join("/"),P.parentObject=E,P.name=i[0]);var r=i.shift();if(!E.isFolder){P.error=ERRNO_CODES.ENOTDIR;break}if(!E.read){P.error=ERRNO_CODES.EACCES;break}if(!E.contents.hasOwnProperty(r)){P.error=ERRNO_CODES.ENOENT;break}if(E=E.contents[r],E.link&&(!e||0!=i.length)){if(40<A){P.error=ERRNO_CODES.ELOOP;break}return P=FS.absolutePath(E.link,H.join("/")),FS.analyzePath([P].concat(i).join("/"),e,A+1)}H.push(r),0==i.length&&(P.exists=!0,P.path=H.join("/"),P.object=E)}return P},findObject:function(i,e){FS.ensureRoot();var A=FS.analyzePath(i,e);return A.exists?A.object:(___setErrNo(A.error),null)},createObject:function(i,e,A,P,E){if(i||(i="/"),"string"==typeof i&&(i=FS.findObject(i)),!i)throw ___setErrNo(ERRNO_CODES.EACCES),Error("Parent path must exist.");if(!i.isFolder)throw ___setErrNo(ERRNO_CODES.ENOTDIR),Error("Parent must be a folder.");if(!i.write&&!FS.ignorePermissions)throw ___setErrNo(ERRNO_CODES.EACCES),Error("Parent folder must be writeable.");if(!e||"."==e||".."==e)throw ___setErrNo(ERRNO_CODES.ENOENT),Error("Name must not be empty.");if(i.contents.hasOwnProperty(e))throw ___setErrNo(ERRNO_CODES.EEXIST),Error("Can't overwrite object.");i.contents[e]={read:void 0===P||P,write:void 0!==E&&E,timestamp:Date.now(),inodeNumber:FS.nextInode++};for(var H in A)A.hasOwnProperty(H)&&(i.contents[e][H]=A[H]);return i.contents[e]},createFolder:function(i,e,A,P){return FS.createObject(i,e,{isFolder:!0,isDevice:!1,contents:{}},A,P)},createPath:function(i,e,A,P){if(i=FS.findObject(i),null===i)throw Error("Invalid parent.");for(e=e.split("/").reverse();e.length;){var E=e.pop();E&&(i.contents.hasOwnProperty(E)||FS.createFolder(i,E,A,P),i=i.contents[E])}return i},createFile:function(i,e,A,P,E){return A.isFolder=!1,FS.createObject(i,e,A,P,E)},createDataFile:function(i,e,A,P,E){if("string"==typeof A){for(var H=[],r=0;r<A.length;r++)H.push(A.charCodeAt(r));A=H}return FS.createFile(i,e,{isDevice:!1,contents:A},P,E)},createLazyFile:function(i,e,A,P,E){return FS.createFile(i,e,{isDevice:!1,url:A},P,E)},createLink:function(i,e,A,P,E){return FS.createFile(i,e,{isDevice:!1,link:A},P,E)},createDevice:function(i,e,A,P){if(!A&&!P)throw Error("A device must have at least one callback defined.");return FS.createFile(i,e,{isDevice:!0,input:A,output:P},Boolean(A),Boolean(P))},forceLoadFile:function(i){if(i.isDevice||i.isFolder||i.link||i.contents)return!0;var e=!0;if("undefined"!=typeof XMLHttpRequest){var A=new XMLHttpRequest;A.open("GET",i.url,!1),"undefined"!=typeof Uint8Array&&(A.responseType="arraybuffer"),A.overrideMimeType&&A.overrideMimeType("text/plain; charset=x-user-defined"),A.send(null),200!=A.status&&0!=A.status&&(e=!1),i.contents=void 0!==A.response?new Uint8Array(A.response||[]):intArrayFromString(A.responseText||"",!0)}else{if("undefined"==typeof read)throw Error("Cannot load without read() or XMLHttpRequest.");try{i.contents=intArrayFromString(read(i.url),!0)}catch(P){e=!1}}return e||___setErrNo(ERRNO_CODES.EIO),e},ensureRoot:function(){FS.root||(FS.root={read:!0,write:!1,isFolder:!0,isDevice:!1,timestamp:Date.now(),inodeNumber:1,contents:{}})},init:function(i,e,A){if(!FS.init.initialized){FS.init.initialized=!0,FS.ensureRoot(),i||(i=function(){if(!i.cache||!i.cache.length){var e;"undefined"!=typeof window&&"function"==typeof window.prompt?e=window.prompt("Input: "):"function"==typeof readline&&(e=readline()),e||(e=""),i.cache=intArrayFromString(e+"\n",!0)}return i.cache.shift()}),e||(e=function(i){null===i||10===i?(e.printer(e.buffer.join("")),e.buffer=[]):e.buffer.push(String.fromCharCode(i))}),e.printer||(e.printer=print),e.buffer||(e.buffer=[]),A||(A=e),FS.createFolder("/","tmp",!0,!0);var P=FS.createFolder("/","dev",!0,!1),E=FS.createDevice(P,"stdin",i),H=FS.createDevice(P,"stdout",null,e),A=FS.createDevice(P,"stderr",null,A);FS.createDevice(P,"tty",i,e),FS.streams[1]={path:"/dev/stdin",object:E,position:0,isRead:!0,isWrite:!1,isAppend:!1,error:!1,eof:!1,ungotten:[]},FS.streams[2]={path:"/dev/stdout",object:H,position:0,isRead:!1,isWrite:!0,isAppend:!1,error:!1,eof:!1,ungotten:[]},FS.streams[3]={path:"/dev/stderr",object:A,position:0,isRead:!1,isWrite:!0,isAppend:!1,error:!1,eof:!1,ungotten:[]},_stdin=allocate([1],"void*",ALLOC_STATIC),_stdout=allocate([2],"void*",ALLOC_STATIC),_stderr=allocate([3],"void*",ALLOC_STATIC),FS.streams[_stdin]=FS.streams[1],FS.streams[_stdout]=FS.streams[2],FS.streams[_stderr]=FS.streams[3],__impure_ptr=allocate([allocate([0,0,0,0,_stdin,0,0,0,_stdout,0,0,0,_stderr,0,0,0],"void*",ALLOC_STATIC)],"void*",ALLOC_STATIC)}},quit:function(){FS.init.initialized&&(0<FS.streams[2].object.output.buffer.length&&FS.streams[2].object.output(10),0<FS.streams[3].object.output.buffer.length&&FS.streams[3].object.output(10))}},___dirent_struct_layout=null;FS.init(),__ATEXIT__.push({func:function(){FS.quit()}}),___setErrNo(0),Module.callMain=function(i){function e(){for(var i=0;3>i;i++)P.push(0)}var A=i.length+1,P=[allocate(intArrayFromString("/bin/this.program"),"i8",ALLOC_STATIC)];e();for(var E=0;E<A-1;E+=1)P.push(allocate(intArrayFromString(i[E]),"i8",ALLOC_STATIC)),e();return P.push(0),P=allocate(P,"i32",ALLOC_STATIC),_main(A,P,0)};var _qpDiv6,_qpMod6,_levelScale,_h264bsdQpC,_stuffingTable,_CeilLog2NumSliceGroups,_dcCoeffIndex,_codedBlockPatternIntra4x4,_codedBlockPatternInter,_runBefore_1,_runBefore_2,_runBefore_3,_runBefore_4,_runBefore_5,_runBefore_6,_totalZeros_1_0,_totalZeros_1_1,_totalZeros_2,_totalZeros_3,_totalZeros_4,_totalZeros_5,_totalZeros_6,_totalZeros_7,_totalZeros_8,_totalZeros_9,_totalZeros_10,_totalZeros_11,_totalZeros_12,_totalZeros_13,_totalZeros_14,_coeffToken0_0,_coeffToken0_1,_coeffToken0_2,_coeffToken0_3,_coeffToken2_0,_coeffToken2_1,_coeffToken2_2,_coeffToken4_0,_coeffToken4_1,_coeffToken8,_coeffTokenMinus1_0,_coeffTokenMinus1_1,_N_D_4x4B,_N_C_4x4B,_N_B_4x4B,_N_A_4x4B,_h264bsdBlockX,_h264bsdBlockY,_h264bsdClip,_N_D_SUB_PART,_N_C_SUB_PART,_N_B_SUB_PART,_N_A_SUB_PART,_lumaFracPos,_sample,_hashA,_hashB,_hashC,_hashD,_alphas,_betas,_tc0,_mb4x4Index,_STREAM_BUFFER_SIZE,_streamBuffer,__str,__str1,__str2,__str3,_decInput,_broadwayStream,_decInst,__str4,_picDisplayNumber,_picDecodeNumber,_decOutput,_decInfo,_picSize,_decPicture,__str5,__str6;_qpDiv6=allocate([0,0,0,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,3,4,4,4,4,4,4,5,5,5,5,5,5,6,6,6,6,6,6,7,7,7,7,7,7,8,8,8,8],"i8",ALLOC_STATIC),_qpMod6=allocate([0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3],"i8",ALLOC_STATIC),_levelScale=allocate([10,0,0,0,13,0,0,0,16,0,0,0,11,0,0,0,14,0,0,0,18,0,0,0,13,0,0,0,16,0,0,0,20,0,0,0,14,0,0,0,18,0,0,0,23,0,0,0,16,0,0,0,20,0,0,0,25,0,0,0,18,0,0,0,23,0,0,0,29,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],ALLOC_STATIC),_h264bsdQpC=allocate([0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,21,0,0,0,22,0,0,0,23,0,0,0,24,0,0,0,25,0,0,0,26,0,0,0,27,0,0,0,28,0,0,0,29,0,0,0,29,0,0,0,30,0,0,0,31,0,0,0,32,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,34,0,0,0,35,0,0,0,35,0,0,0,36,0,0,0,36,0,0,0,37,0,0,0,37,0,0,0,37,0,0,0,38,0,0,0,38,0,0,0,38,0,0,0,39,0,0,0,39,0,0,0,39,0,0,0,39,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],ALLOC_STATIC),_stuffingTable=allocate([1,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,16,0,0,0,32,0,0,0,64,0,0,0,128,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],ALLOC_STATIC),_CeilLog2NumSliceGroups=allocate([1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],ALLOC_STATIC),_dcCoeffIndex=allocate([0,0,0,0,1,0,0,0,4,0,0,0,5,0,0,0,2,0,0,0,3,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,12,0,0,0,13,0,0,0,10,0,0,0,11,0,0,0,14,0,0,0,15,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],ALLOC_STATIC),_codedBlockPatternIntra4x4=allocate([47,31,15,0,23,27,29,30,7,11,13,14,39,43,45,46,16,3,5,10,12,19,21,26,28,35,37,42,44,1,2,4,8,17,18,20,24,6,9,22,25,32,33,34,36,40,38,41],"i8",ALLOC_STATIC),_codedBlockPatternInter=allocate([0,16,1,2,4,8,32,3,5,10,12,15,47,7,11,13,14,6,9,31,35,37,42,44,33,34,36,40,39,43,45,46,17,18,20,24,19,21,26,28,23,27,29,30,22,25,38,41],"i8",ALLOC_STATIC),_runBefore_1=allocate([17,1],"i8",ALLOC_STATIC),_runBefore_2=allocate([34,18,1,1],"i8",ALLOC_STATIC),_runBefore_3=allocate([50,34,18,2],"i8",ALLOC_STATIC),_runBefore_4=allocate([67,51,34,34,18,18,2,2],"i8",ALLOC_STATIC),_runBefore_5=allocate([83,67,51,35,18,18,2,2],"i8",ALLOC_STATIC),_runBefore_6=allocate([19,35,67,51,99,83,2,2],"i8",ALLOC_STATIC),_totalZeros_1_0=allocate([0,0,101,85,68,68,52,52,35,35,35,35,19,19,19,19,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"i8",ALLOC_STATIC),_totalZeros_1_1=allocate([0,249,233,217,200,200,184,184,167,167,167,167,151,151,151,151,134,134,134,134,134,134,134,134,118,118,118,118,118,118,118,118],"i8",ALLOC_STATIC),_totalZeros_2=allocate([230,214,198,182,165,165,149,149,132,132,132,132,116,116,116,116,100,100,100,100,84,84,84,84,67,67,67,67,67,67,67,67,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,19,19,19,19,19,19,19,19,3,3,3,3,3,3,3,3],"i8",ALLOC_STATIC),_totalZeros_3=allocate([214,182,197,197,165,165,149,149,132,132,132,132,84,84,84,84,68,68,68,68,4,4,4,4,115,115,115,115,115,115,115,115,99,99,99,99,99,99,99,99,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,19,19,19,19,19,19,19,19],"i8",ALLOC_STATIC),_totalZeros_4=allocate([197,181,165,5,148,148,116,116,52,52,36,36,131,131,131,131,99,99,99,99,83,83,83,83,67,67,67,67,19,19,19,19],"i8",ALLOC_STATIC),_totalZeros_5=allocate([181,149,164,164,132,132,36,36,20,20,4,4,115,115,115,115,99,99,99,99,83,83,83,83,67,67,67,67,51,51,51,51],"i8",ALLOC_STATIC),_totalZeros_6=allocate([166,6,21,21,132,132,132,132,147,147,147,147,147,147,147,147,115,115,115,115,115,115,115,115,99,99,99,99,99,99,99,99,83,83,83,83,83,83,83,83,67,67,67,67,67,67,67,67,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35],"i8",ALLOC_STATIC),_totalZeros_7=allocate([150,6,21,21,116,116,116,116,131,131,131,131,131,131,131,131,99,99,99,99,99,99,99,99,67,67,67,67,67,67,67,67,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82],"i8",ALLOC_STATIC),_totalZeros_8=allocate([134,6,37,37,20,20,20,20,115,115,115,115,115,115,115,115,99,99,99,99,99,99,99,99,51,51,51,51,51,51,51,51,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66],"i8",ALLOC_STATIC),_totalZeros_9=allocate([22,6,117,117,36,36,36,36,83,83,83,83,83,83,83,83,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50],"i8",ALLOC_STATIC),_totalZeros_10=allocate([21,5,100,100,35,35,35,35,82,82,82,82,82,82,82,82,66,66,66,66,66,66,66,66,50,50,50,50,50,50,50,50],"i8",ALLOC_STATIC),_totalZeros_11=allocate([4,20,35,35,51,51,83,83,65,65,65,65,65,65,65,65],"i8",ALLOC_STATIC),_totalZeros_12=allocate([4,20,67,67,34,34,34,34,49,49,49,49,49,49,49,49],"i8",ALLOC_STATIC),_totalZeros_13=allocate([3,19,50,50,33,33,33,33],"i8",ALLOC_STATIC),_totalZeros_14=allocate([2,18,33,33],"i8",ALLOC_STATIC),_coeffToken0_0=allocate([0,0,0,0,0,0,8294,0,4134,0,2054,0,6245,0,6245,0,4163,0,4163,0,4163,0,4163,0,4163,0,4163,0,4163,0,4163,0,2082,0,2082,0,2082,0,2082,0,2082,0,2082,0,2082,0,2082,0,2082,0,2082,0,2082,0,2082,0,2082,0,2082,0,2082,0,2082,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],ALLOC_STATIC),_coeffToken0_1=allocate([0,0,0,0,0,0,0,0,16490,0,12362,0,10282,0,8202,0,14441,0,14441,0,10313,0,10313,0,8233,0,8233,0,6153,0,6153,0,12392,0,12392,0,12392,0,12392,0,8264,0,8264,0,8264,0,8264,0,6184,0,6184,0,6184,0,6184,0,4104,0,4104,0,4104,0,4104,0,10343,0,10343,0,10343,0,10343,0,10343,0,10343,0,10343,0,10343,0,6215,0,6215,0,6215,0,6215,0,6215,0,6215,0,6215,0,6215,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],ALLOC_STATIC),_coeffToken0_2=allocate([24686,0,22606,0,20526,0,20494,0,22638,0,20558,0,18478,0,18446,0,16397,0,16397,0,18509,0,18509,0,16429,0,16429,0,14349,0,14349,0,20589,0,20589,0,16461,0,16461,0,14381,0,14381,0,12301,0,12301,0,18539,0,18539,0,18539,0,18539,0,18539,0,18539,0,18539,0,18539,0,14411,0,14411,0,14411,0,14411,0,14411,0,14411,0,14411,0,14411,0,12331,0,12331,0,12331,0,12331,0,12331,0,12331,0,12331,0,12331,0,10251,0,10251,0,10251,0,10251,0,10251,0,10251,0,10251,0,10251,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],ALLOC_STATIC),_coeffToken0_3=allocate([0,0,0,0,26671,0,26671,0,-32752,0,-32688,0,-32720,0,30736,0,-32656,0,30800,0,30768,0,28688,0,30832,0,28752,0,28720,0,26640,0,28783,0,28783,0,26703,0,26703,0,24623,0,24623,0,24591,0,24591,0,26735,0,26735,0,24655,0,24655,0,22575,0,22575,0,22543,0,22543,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],ALLOC_STATIC),_coeffToken2_0=allocate([0,0,0,0,0,0,0,0,14438,0,8262,0,8230,0,4102,0,12390,0,6214,0,6182,0,2054,0,10341,0,10341,0,4133,0,4133,0,8292,0,8292,0,8292,0,8292,0,6244,0,6244,0,6244,0,6244,0,4163,0,4163,0,4163,0,4163,0,4163,0,4163,0,4163,0,4163,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],ALLOC_STATIC),_coeffToken2_1=allocate([0,0,0,0,0,0,0,0,18537,0,14409,0,14377,0,12297,0,10248,0,10248,0,12360,0,12360,0,12328,0,12328,0,8200,0,8200,0,16487,0,16487,0,16487,0,16487,0,10311,0,10311,0,10311,0,10311,0,10279,0,10279,0,10279,0,10279,0,6151,0,6151,0,6151,0,6151,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],ALLOC_STATIC),_coeffToken2_2=allocate([0,0,0,0,30829,0,30829,0,-32658,0,-32690,0,-32722,0,-32754,0,30766,0,30734,0,30798,0,28718,0,28749,0,28749,0,28685,0,28685,0,28781,0,28781,0,26701,0,26701,0,26669,0,26669,0,26637,0,26637,0,26733,0,26733,0,24653,0,24653,0,24621,0,24621,0,24589,0,24589,0,22540,0,22540,0,22540,0,22540,0,22604,0,22604,0,22604,0,22604,0,22572,0,22572,0,22572,0,22572,0,20492,0,20492,0,20492,0,20492,0,24684,0,24684,0,24684,0,24684,0,20556,0,20556,0,20556,0,20556,0,20524,0,20524,0,20524,0,20524,0,18444,0,18444,0,18444,0,18444,0,22635,0,22635,0,22635,0,22635,0,22635,0,22635,0,22635,0,22635,0,18507,0,18507,0,18507,0,18507,0,18507,0,18507,0,18507,0,18507,0,18475,0,18475,0,18475,0,18475,0,18475,0,18475,0,18475,0,18475,0,16395,0,16395,0,16395,0,16395,0,16395,0,16395,0,16395,0,16395,0,20587,0,20587,0,20587,0,20587,0,20587,0,20587,0,20587,0,20587,0,16459,0,16459,0,16459,0,16459,0,16459,0,16459,0,16459,0,16459,0,16427,0,16427,0,16427,0,16427,0,16427,0,16427,0,16427,0,16427,0,14347,0,14347,0,14347,0,14347,0,14347,0,14347,0,14347,0,14347,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],ALLOC_STATIC),
_coeffToken4_0=allocate([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6150,0,14406,0,14374,0,4102,0,18534,0,12358,0,12326,0,2054,0,10277,0,10277,0,10309,0,10309,0,8229,0,8229,0,8261,0,8261,0,6181,0,6181,0,16485,0,16485,0,6213,0,6213,0,4133,0,4133,0,14436,0,14436,0,14436,0,14436,0,12388,0,12388,0,12388,0,12388,0,10340,0,10340,0,10340,0,10340,0,8292,0,8292,0,8292,0,8292,0,6244,0,6244,0,6244,0,6244,0,4164,0,4164,0,4164,0,4164,0,2084,0,2084,0,2084,0,2084,0,4,0,4,0,4,0,4,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],ALLOC_STATIC),_coeffToken4_1=allocate([0,0,-32758,0,-32662,0,-32694,0,-32726,0,30730,0,30826,0,30794,0,30762,0,28682,0,28778,0,28746,0,28714,0,26634,0,26665,0,26665,0,24585,0,24585,0,26697,0,26697,0,24617,0,24617,0,22537,0,22537,0,26729,0,26729,0,24649,0,24649,0,22569,0,22569,0,20489,0,20489,0,24680,0,24680,0,24680,0,24680,0,22600,0,22600,0,22600,0,22600,0,20520,0,20520,0,20520,0,20520,0,18440,0,18440,0,18440,0,18440,0,22632,0,22632,0,22632,0,22632,0,20552,0,20552,0,20552,0,20552,0,18472,0,18472,0,18472,0,18472,0,16392,0,16392,0,16392,0,16392,0,14343,0,14343,0,14343,0,14343,0,14343,0,14343,0,14343,0,14343,0,12295,0,12295,0,12295,0,12295,0,12295,0,12295,0,12295,0,12295,0,18503,0,18503,0,18503,0,18503,0,18503,0,18503,0,18503,0,18503,0,10247,0,10247,0,10247,0,10247,0,10247,0,10247,0,10247,0,10247,0,20583,0,20583,0,20583,0,20583,0,20583,0,20583,0,20583,0,20583,0,16455,0,16455,0,16455,0,16455,0,16455,0,16455,0,16455,0,16455,0,16423,0,16423,0,16423,0,16423,0,16423,0,16423,0,16423,0,16423,0,8199,0,8199,0,8199,0,8199,0,8199,0,8199,0,8199,0,8199,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],ALLOC_STATIC),_coeffToken8=allocate([2054,0,2086,0,0,0,6,0,4102,0,4134,0,4166,0,0,0,6150,0,6182,0,6214,0,6246,0,8198,0,8230,0,8262,0,8294,0,10246,0,10278,0,10310,0,10342,0,12294,0,12326,0,12358,0,12390,0,14342,0,14374,0,14406,0,14438,0,16390,0,16422,0,16454,0,16486,0,18438,0,18470,0,18502,0,18534,0,20486,0,20518,0,20550,0,20582,0,22534,0,22566,0,22598,0,22630,0,24582,0,24614,0,24646,0,24678,0,26630,0,26662,0,26694,0,26726,0,28678,0,28710,0,28742,0,28774,0,30726,0,30758,0,30790,0,30822,0,-32762,0,-32730,0,-32698,0,-32666,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],ALLOC_STATIC),_coeffTokenMinus1_0=allocate([0,0,4163,0,2,0,2,0,2081,0,2081,0,2081,0,2081,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],ALLOC_STATIC),_coeffTokenMinus1_1=allocate([8295,0,8295,0,8264,0,8232,0,6215,0,6215,0,6183,0,6183,0,8198,0,8198,0,8198,0,8198,0,6150,0,6150,0,6150,0,6150,0,4102,0,4102,0,4102,0,4102,0,6246,0,6246,0,6246,0,6246,0,4134,0,4134,0,4134,0,4134,0,2054,0,2054,0,2054,0,2054,0],["i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0,"i16",0],ALLOC_STATIC),_N_D_4x4B=allocate([3,0,0,0,15,undef,0,0,1,0,0,0,10,undef,0,0,0,0,0,0,5,undef,0,0,4,0,0,0,0,undef,0,0,1,0,0,0,11,undef,0,0,1,0,0,0,14,undef,0,0,4,0,0,0,1,undef,0,0,4,0,0,0,4,undef,0,0,0,0,0,0,7,undef,0,0,4,0,0,0,2,undef,0,0,0,0,0,0,13,undef,0,0,4,0,0,0,8,undef,0,0,4,0,0,0,3,undef,0,0,4,0,0,0,6,undef,0,0,4,0,0,0,9,undef,0,0,4,0,0,0,12,undef,0,0,3,0,0,0,19,undef,0,0,1,0,0,0,18,undef,0,0,0,0,0,0,17,undef,0,0,4,0,0,0,16,undef,0,0,3,0,0,0,23,undef,0,0,1,0,0,0,22,undef,0,0,0,0,0,0,21,undef,0,0,4,0,0,0,20,undef,0,0],["i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8"],ALLOC_STATIC),_N_C_4x4B=allocate([1,0,0,0,11,undef,0,0,1,0,0,0,14,undef,0,0,4,0,0,0,1,undef,0,0,255,0,0,0,4,undef,0,0,1,0,0,0,15,undef,0,0,2,0,0,0,10,undef,0,0,4,0,0,0,5,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,3,undef,0,0,4,0,0,0,6,undef,0,0,4,0,0,0,9,undef,0,0,255,0,0,0,12,undef,0,0,4,0,0,0,7,undef,0,0,255,0,0,0,2,undef,0,0,4,0,0,0,13,undef,0,0,255,0,0,0,8,undef,0,0,1,0,0,0,19,undef,0,0,2,0,0,0,18,undef,0,0,4,0,0,0,17,undef,0,0,255,0,0,0,16,undef,0,0,1,0,0,0,23,undef,0,0,2,0,0,0,22,undef,0,0,4,0,0,0,21,undef,0,0,255,0,0,0,20,undef,0,0],["i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8"],ALLOC_STATIC),_N_B_4x4B=allocate([1,0,0,0,10,undef,0,0,1,0,0,0,11,undef,0,0,4,0,0,0,0,undef,0,0,4,0,0,0,1,undef,0,0,1,0,0,0,14,undef,0,0,1,0,0,0,15,undef,0,0,4,0,0,0,4,undef,0,0,4,0,0,0,5,undef,0,0,4,0,0,0,2,undef,0,0,4,0,0,0,3,undef,0,0,4,0,0,0,8,undef,0,0,4,0,0,0,9,undef,0,0,4,0,0,0,6,undef,0,0,4,0,0,0,7,undef,0,0,4,0,0,0,12,undef,0,0,4,0,0,0,13,undef,0,0,1,0,0,0,18,undef,0,0,1,0,0,0,19,undef,0,0,4,0,0,0,16,undef,0,0,4,0,0,0,17,undef,0,0,1,0,0,0,22,undef,0,0,1,0,0,0,23,undef,0,0,4,0,0,0,20,undef,0,0,4,0,0,0,21,undef,0,0],["i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8"],ALLOC_STATIC),_N_A_4x4B=allocate([0,0,0,0,5,undef,0,0,4,0,0,0,0,undef,0,0,0,0,0,0,7,undef,0,0,4,0,0,0,2,undef,0,0,4,0,0,0,1,undef,0,0,4,0,0,0,4,undef,0,0,4,0,0,0,3,undef,0,0,4,0,0,0,6,undef,0,0,0,0,0,0,13,undef,0,0,4,0,0,0,8,undef,0,0,0,0,0,0,15,undef,0,0,4,0,0,0,10,undef,0,0,4,0,0,0,9,undef,0,0,4,0,0,0,12,undef,0,0,4,0,0,0,11,undef,0,0,4,0,0,0,14,undef,0,0,0,0,0,0,17,undef,0,0,4,0,0,0,16,undef,0,0,0,0,0,0,19,undef,0,0,4,0,0,0,18,undef,0,0,0,0,0,0,21,undef,0,0,4,0,0,0,20,undef,0,0,0,0,0,0,23,undef,0,0,4,0,0,0,22,undef,0,0],["i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8"],ALLOC_STATIC),_h264bsdBlockX=allocate([0,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,8,0,0,0,12,0,0,0,8,0,0,0,12,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,8,0,0,0,12,0,0,0,8,0,0,0,12,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],ALLOC_STATIC),_h264bsdBlockY=allocate([0,0,0,0,0,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,4,0,0,0,8,0,0,0,8,0,0,0,12,0,0,0,12,0,0,0,8,0,0,0,8,0,0,0,12,0,0,0,12,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],ALLOC_STATIC),_h264bsdClip=allocate([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],"i8",ALLOC_STATIC),_N_D_SUB_PART=allocate([3,0,0,0,15,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,3,0,0,0,15,undef,0,0,0,0,0,0,5,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,3,0,0,0,15,undef,0,0,1,0,0,0,10,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,3,0,0,0,15,undef,0,0,1,0,0,0,10,undef,0,0,0,0,0,0,5,undef,0,0,4,0,0,0,0,undef,0,0,1,0,0,0,11,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,1,0,0,0,11,undef,0,0,4,0,0,0,1,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,1,0,0,0,11,undef,0,0,1,0,0,0,14,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,1,0,0,0,11,undef,0,0,1,0,0,0,14,undef,0,0,4,0,0,0,1,undef,0,0,4,0,0,0,4,undef,0,0,0,0,0,0,7,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,0,0,0,0,7,undef,0,0,0,0,0,0,13,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,0,0,0,0,7,undef,0,0,4,0,0,0,2,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,0,0,0,0,7,undef,0,0,4,0,0,0,2,undef,0,0,0,0,0,0,13,undef,0,0,4,0,0,0,8,undef,0,0,4,0,0,0,3,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,3,undef,0,0,4,0,0,0,9,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,3,undef,0,0,4,0,0,0,6,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,3,undef,0,0,4,0,0,0,6,undef,0,0,4,0,0,0,9,undef,0,0,4,0,0,0,12,undef,0,0],["i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8"],ALLOC_STATIC),_N_C_SUB_PART=allocate([1,0,0,0,14,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,1,0,0,0,14,undef,0,0,255,0,0,0,4,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,1,0,0,0,11,undef,0,0,1,0,0,0,14,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,1,0,0,0,11,undef,0,0,1,0,0,0,14,undef,0,0,4,0,0,0,1,undef,0,0,255,0,0,0,4,undef,0,0,2,0,0,0,10,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,2,0,0,0,10,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,1,0,0,0,15,undef,0,0,2,0,0,0,10,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,1,0,0,0,15,undef,0,0,2,0,0,0,10,undef,0,0,4,0,0,0,5,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,6,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,6,undef,0,0,255,0,0,0,12,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,3,undef,0,0,4,0,0,0,6,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,3,undef,0,0,4,0,0,0,6,undef,0,0,4,0,0,0,9,undef,0,0,255,0,0,0,12,undef,0,0,255,0,0,0,2,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,2,undef,0,0,255,0,0,0,8,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,7,undef,0,0,255,0,0,0,2,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,7,undef,0,0,255,0,0,0,2,undef,0,0,4,0,0,0,13,undef,0,0,255,0,0,0,8,undef,0,0],["i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8"],ALLOC_STATIC),_N_B_SUB_PART=allocate([1,0,0,0,10,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,1,0,0,0,10,undef,0,0,4,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,1,0,0,0,10,undef,0,0,1,0,0,0,11,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,1,0,0,0,10,undef,0,0,1,0,0,0,11,undef,0,0,4,0,0,0,0,undef,0,0,4,0,0,0,1,undef,0,0,1,0,0,0,14,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,1,0,0,0,14,undef,0,0,4,0,0,0,4,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,1,0,0,0,14,undef,0,0,1,0,0,0,15,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,1,0,0,0,14,undef,0,0,1,0,0,0,15,undef,0,0,4,0,0,0,4,undef,0,0,4,0,0,0,5,undef,0,0,4,0,0,0,2,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,2,undef,0,0,4,0,0,0,8,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,2,undef,0,0,4,0,0,0,3,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,2,undef,0,0,4,0,0,0,3,undef,0,0,4,0,0,0,8,undef,0,0,4,0,0,0,9,undef,0,0,4,0,0,0,6,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,6,undef,0,0,4,0,0,0,12,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,6,undef,0,0,4,0,0,0,7,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,6,undef,0,0,4,0,0,0,7,undef,0,0,4,0,0,0,12,undef,0,0,4,0,0,0,13,undef,0,0],["i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8"],ALLOC_STATIC),_N_A_SUB_PART=allocate([0,0,0,0,5,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,0,0,0,0,5,undef,0,0,0,0,0,0,7,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,0,0,0,0,5,undef,0,0,4,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,0,0,0,0,5,undef,0,0,4,0,0,0,0,undef,0,0,0,0,0,0,7,undef,0,0,4,0,0,0,2,undef,0,0,4,0,0,0,1,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,1,undef,0,0,4,0,0,0,3,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,1,undef,0,0,4,0,0,0,4,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,1,undef,0,0,4,0,0,0,4,undef,0,0,4,0,0,0,3,undef,0,0,4,0,0,0,6,undef,0,0,0,0,0,0,13,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,0,0,0,0,13,undef,0,0,0,0,0,0,15,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,0,0,0,0,13,undef,0,0,4,0,0,0,8,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,0,0,0,0,13,undef,0,0,4,0,0,0,8,undef,0,0,0,0,0,0,15,undef,0,0,4,0,0,0,10,undef,0,0,4,0,0,0,9,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,9,undef,0,0,4,0,0,0,11,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,9,undef,0,0,4,0,0,0,12,undef,0,0,255,0,0,0,0,undef,0,0,255,0,0,0,0,undef,0,0,4,0,0,0,9,undef,0,0,4,0,0,0,12,undef,0,0,4,0,0,0,11,undef,0,0,4,0,0,0,14,undef,0,0],["i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8","i32",0,0,0,"i8","i8","i8","i8"],ALLOC_STATIC),_lumaFracPos=allocate([0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],ALLOC_STATIC),_sample=allocate(1,"i32",ALLOC_STATIC),_hashA=allocate(1,"i32",ALLOC_STATIC),_hashB=allocate(1,"i32",ALLOC_STATIC),_hashC=allocate(1,"i32",ALLOC_STATIC),_hashD=allocate(1,"i32",ALLOC_STATIC),_alphas=allocate([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,5,6,7,8,9,10,12,13,15,17,20,22,25,28,32,36,40,45,50,56,63,71,80,90,101,113,127,144,162,182,203,226,255,255],"i8",ALLOC_STATIC),_betas=allocate([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,3,3,3,3,4,4,4,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,14,14,15,15,16,16,17,17,18,18],"i8",ALLOC_STATIC),_tc0=allocate([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,2,1,1,2,1,2,3,1,2,3,2,2,3,2,2,4,2,3,4,2,3,4,3,3,5,3,4,6,3,4,6,4,5,7,4,5,8,4,6,9,5,7,10,6,8,11,6,8,13,7,10,14,8,11,16,9,12,18,10,13,20,11,15,23,13,17,25],"i8",ALLOC_STATIC),_mb4x4Index=allocate([0,0,0,0,1,0,0,0,4,0,0,0,5,0,0,0,2,0,0,0,3,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,12,0,0,0,13,0,0,0,10,0,0,0,11,0,0,0,14,0,0,0,15,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],ALLOC_STATIC),_STREAM_BUFFER_SIZE=allocate([1048576],["i32",0,0,0,0],ALLOC_STATIC),_streamBuffer=allocate(1,"i8*",ALLOC_STATIC),__str=allocate([114,98,0],"i8",ALLOC_STATIC),__str1=allocate([85,78,65,66,76,69,32,84,79,32,79,80,69,78,32,70,73,76,69,10,0],"i8",ALLOC_STATIC),__str2=allocate([67,65,78,78,79,84,32,82,69,65,68,32,70,73,76,69,10,0],"i8",ALLOC_STATIC),__str3=allocate([82,69,65,68,32,70,73,76,69,32,37,100,32,66,89,84,69,83,10,0],"i8",ALLOC_STATIC),_decInput=allocate(16,["i8*",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],ALLOC_STATIC),_broadwayStream=allocate(16,["i32",0,0,0,"i8*",0,0,0,"i8*",0,0,0,"i8*",0,0,0],ALLOC_STATIC),_decInst=allocate(1,"i8*",ALLOC_STATIC),__str4=allocate([68,69,67,79,68,69,82,32,73,78,73,84,73,65,76,73,90,65,84,73,79,78,32,70,65,73,76,69,68,10,0],"i8",ALLOC_STATIC),_picDisplayNumber=allocate(1,"i32",ALLOC_STATIC),_picDecodeNumber=allocate(1,"i32",ALLOC_STATIC),_decOutput=allocate(4,"i8*",ALLOC_STATIC),_decInfo=allocate(48,"i32",ALLOC_STATIC),_picSize=allocate(1,"i32",ALLOC_STATIC),_decPicture=allocate(16,["i32*",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],ALLOC_STATIC),__str5=allocate([85,78,65,66,76,69,32,84,79,32,65,76,76,79,67,65,84,69,32,77,69,77,79,82,89,10,0],"i8",ALLOC_STATIC),__str6=allocate([37,115,10,0],"i8",ALLOC_STATIC),FUNCTION_TABLE=[0,0,_FillRow1,0,_h264bsdFillRow7,0],Module.FUNCTION_TABLE=FUNCTION_TABLE,Module.run=run;try{FS.ignorePermissions=!1}catch(e$$9){}if(Module.noInitialRun=!0,!Module.noInitialRun)var ret=run();FS&&(Module.FS=FS),Module.HEAPU8=HEAPU8,Module.CorrectionsMonitor=CorrectionsMonitor,FS.createDataFile=FS.createDataFile;var breakLoop=!1;_runMainLoop=function(){window.addEventListener("message",function(){_mainLoopIteration(),breakLoop||window.postMessage(0,"*")},!1)},Module.play=function(){breakLoop=!1,window.postMessage(0,"*")},Module.stop=function(){
breakLoop=!0},Module.onFrameDecoded=function(){},_broadwayOnFrameDecoded=function(){Module.onFrameDecoded()},Module.createStreamBuffer=_broadwayCreateStreamBuffer;var patches=Module.patches={};assert=function(i,e){if(!i)throw"Assertion: "+e},Module.patch=function(i,e,A){return assert("function"==typeof A),i||(i=getGlobalScope()),Module.CC_VARIABLE_MAP&&(e=Module.CC_VARIABLE_MAP[e]),assert(e in i&&"function"==typeof i[e],"Can only patch functions."),patches[e]=i[e],i[e]=A,patches[e]},Module.unpatch=function(i,e){i||(i=getGlobalScope()),Module.CC_VARIABLE_MAP&&(e=Module.CC_VARIABLE_MAP[e]),assert(e in i&&"function"==typeof i[e]),e in patches&&(i[e]=patches[e])},Module.paint=function(i,e,A,P,E){for(var H,r,o,f,t,a,d=P>>1,n=4*P,l=getSurface(),s=l.image.data,_=0;E-=2;){for(a=d;a--;)o=HEAPU8[A++],H=HEAPU8[e++],f=409*o-56992,o=34784-208*o-100*H,t=516*H-70688,r=298*HEAPU8[i+P],H=298*HEAPU8[i++],s[_+n]=r+f>>8,s[_++]=H+f>>8,s[_+n]=r+o>>8,s[_++]=H+o>>8,s[_+n]=r+t>>8,s[_++]=H+t>>8,_++,r=298*HEAPU8[i+P],H=298*HEAPU8[i++],s[_+n]=r+f>>8,s[_++]=H+f>>8,s[_+n]=r+o>>8,s[_++]=H+o>>8,s[_+n]=r+t>>8,s[_++]=H+t>>8,_++;_+=n,i+=P}l.ctx.putImageData(l.image,0,0)},_paint=function(i,e,A,P,E){Module.paint(i,e,A,P,E)};
function patchOptimizations(i,e){var t=getGlobalScope();for(var n in e){var a=e[n],r=i[n];r||(r="original"),console.info(n+": "+r),assert(r in a.options);var o=a.options[r].fn;o&&(t[a.original]=Module.patch(null,a.name,o),console.info("Patching: "+a.name+", with: "+r))}}function getGlobalScope(){return function(){return this}.call(null)}function clip(i,e,t){return t<i?i:t>e?e:t}function OptimizedGetBoundaryStrengthsA(i,e){var t=i+28,n=HEAP16[t+0>>1],a=HEAP16[t+2>>1],r=HEAP16[t+4>>1],o=HEAP16[t+6>>1],l=HEAP16[t+8>>1],A=HEAP16[t+10>>1],P=HEAP16[t+12>>1],E=HEAP16[t+14>>1],s=HEAP16[t+16>>1],H=HEAP16[t+18>>1],d=HEAP16[t+20>>1],u=HEAP16[t+22>>1],p=HEAP16[t+24>>1],c=HEAP16[t+26>>1],f=HEAP16[t+28>>1],h=HEAP16[t+30>>1];HEAP32[e+32>>2]=r||n?2:0,HEAP32[e+40>>2]=o||a?2:0,HEAP32[e+48>>2]=P||l?2:0,HEAP32[e+56>>2]=E||A?2:0,HEAP32[e+64>>2]=s||r?2:0,HEAP32[e+72>>2]=H||o?2:0,HEAP32[e+80>>2]=p||P?2:0,HEAP32[e+88>>2]=c||E?2:0,HEAP32[e+96>>2]=d||s?2:0,HEAP32[e+104>>2]=u||H?2:0,HEAP32[e+112>>2]=f||p?2:0,HEAP32[e+120>>2]=h||c?2:0,HEAP32[e+12>>2]=a||n?2:0,HEAP32[e+20>>2]=l||a?2:0,HEAP32[e+28>>2]=A||l?2:0,HEAP32[e+44>>2]=o||r?2:0,HEAP32[e+52>>2]=P||o?2:0,HEAP32[e+60>>2]=E||P?2:0,HEAP32[e+76>>2]=H||s?2:0,HEAP32[e+84>>2]=p||H?2:0,HEAP32[e+92>>2]=c||p?2:0,HEAP32[e+108>>2]=u||d?2:0,HEAP32[e+116>>2]=f||u?2:0,HEAP32[e+124>>2]=h||f?2:0}function OptimizedFilterVerLumaEdge(i,e,t,n){var a,r,o,l,A,P,E,s,H,d,u=_h264bsdClip+512,p=HEAP32[t+4>>2],c=HEAP32[t+8>>2];if(e<4){o=r=255&HEAPU8[HEAP32[t>>2]+(e-1)];for(var f=4;f>0;f--)P=255&HEAPU8[i+-2],l=255&HEAPU8[i+-1],A=255&HEAPU8[i],E=255&HEAPU8[i+1],Math.abs(l-A)<p&&Math.abs(P-l)<c&&Math.abs(E-A)<c&&(s=255&HEAPU8[i-3],Math.abs(s-l)<c&&(d=s+(l+A+1>>1)-(P<<1)>>1,HEAP8[i-2]=P+clip(-r,r,d),o++),H=255&HEAPU8[i+2],Math.abs(H-A)<c&&(d=H+(l+A+1>>1)-(E<<1)>>1,HEAP8[i+1]=E+clip(-r,r,d),o++),d=(A-l<<2)+(P-E)+4>>3,a=clip(-o,o,d),l=255&HEAPU8[u+(l+a)],A=255&HEAPU8[u+(A-a)],o=r,HEAP8[i-1]=l,HEAP8[i]=A,i+=n)}else OriginalFilterVerLumaEdge(i,e,t,n)}function OptimizedFilterHorLuma(i,e,t,n){var a,r,o,l,A,P,E,s,H,d,u=_h264bsdClip+512,p=HEAP32[t+4>>2],c=HEAP32[t+8>>2];if(e<4){o=r=255&HEAPU8[HEAP32[t>>2]+(e-1)];for(var f=16;f>0;f--)P=255&HEAPU8[i+(-n<<1)],l=255&HEAPU8[i+-n],A=255&HEAPU8[i],E=255&HEAPU8[i+n],Math.abs(l-A)<p&&Math.abs(P-l)<c&&Math.abs(E-A)<c&&(s=255&HEAPU8[i+3*-n],Math.abs(s-l)<c&&(d=s+(l+A+1>>1)-(P<<1)>>1,HEAP8[i+(-n<<1)]=P+clip(-r,r,d),o++),H=255&HEAPU8[i+(n<<2)],Math.abs(H-A)<c&&(d=H+(l+A+1>>1)-(E<<1)>>1,HEAP8[i+n]=E+clip(-r,r,d),o++),d=(A-l<<2)+(P-E)+4>>3,a=clip(-o,o,d),l=255&HEAPU8[u+(l+a)],A=255&HEAPU8[u+(A-a)],o=r,HEAP8[i-n]=l,HEAP8[i]=A,i++)}else OriginalFilterHorLuma(i,e,t,n)}assert(Module);var advancedCCOptimizations=!!Module.CC_VARIABLE_MAP;advancedCCOptimizations&&(console.info("Advanced CC Optimizations"),HEAPU8=Module.CC_VARIABLE_MAP.HEAP8,HEAP16=Module.CC_VARIABLE_MAP.HEAP16,HEAP32=Module.CC_VARIABLE_MAP.HEAP32,_h264bsdClip=Module.CC_VARIABLE_MAP._h264bsdClip);var Avc=function(){function i(){Module._broadwayInit(),this.streamBuffer=e(Module._broadwayCreateStream(t),t),this.pictureBuffers={},this.onPictureDecoded=function(i,e,t){},_broadwayOnPictureDecoded=function(i,t,n){var a=this.pictureBuffers[i];a||(a=this.pictureBuffers[i]=e(i,t*n*3/2)),this.onPictureDecoded(a,t,n)}.bind(this)}function e(i,e){return HEAPU8.subarray(i,i+e)}const t=1048576;return i.prototype={decode:function(i){this.streamBuffer.set(i),Module._broadwaySetStreamLength(i.length),Module._broadwayPlayStream()},configure:function(i){if(!patches){patches={};for(var e in defPatches)patches[e]=defPatches[e];patchOptimizations(i,patches)}console.info("Broadway Configured: "+JSON.stringify(i))}},i}(),defPatches={filter:{name:"_h264bsdFilterPicture",display:"Filter Picture",original:"Original_h264bsdFilterPicture",options:{none:{display:"None",fn:function(){}},original:{display:"Original",fn:null}}},filterHorLuma:{name:"_FilterHorLuma",display:"Filter Hor Luma",original:"OriginalFilterHorLuma",options:{none:{display:"None",fn:function(){}},original:{display:"Original",fn:null},optimized:{display:"Optimized",fn:OptimizedFilterHorLuma}}},filterVerLumaEdge:{name:"_FilterVerLumaEdge",display:"Filter Ver Luma Edge",original:"OriginalFilterVerLumaEdge",options:{none:{display:"None",fn:function(){}},original:{display:"Original",fn:null},optimized:{display:"Optimized",fn:OptimizedFilterVerLumaEdge}}},getBoundaryStrengthsA:{name:"_GetBoundaryStrengthsA",display:"Get Boundary Strengths",original:"OriginalGetBoundaryStrengthsA",options:{none:{display:"None",fn:function(){}},original:{display:"Original",fn:null},optimized:{display:"Optimized",fn:OptimizedGetBoundaryStrengthsA}}}},patches=null;_abs=Math.abs,_clip=clip;
var Script=function(){function t(){}return t.createFromElementId=function(e){var r=document.getElementById(e);assert(r,"Could not find shader with ID: "+e);for(var i="",o=r.firstChild;o;)3==o.nodeType&&(i+=o.textContent),o=o.nextSibling;var a=new t;return a.type=r.type,a.source=i,a},t.createFromSource=function(e,r){var i=new t;return i.type=e,i.source=r,i},t}(),Shader=function(){function t(t,e){if("x-shader/x-fragment"==e.type)this.shader=t.createShader(t.FRAGMENT_SHADER);else{if("x-shader/x-vertex"!=e.type)return void error("Unknown shader type: "+e.type);this.shader=t.createShader(t.VERTEX_SHADER)}if(t.shaderSource(this.shader,e.source),t.compileShader(this.shader),!t.getShaderParameter(this.shader,t.COMPILE_STATUS))return void error("An error occurred compiling the shaders: "+t.getShaderInfoLog(this.shader))}return t}(),Program=function(){function t(t){this.gl=t,this.program=this.gl.createProgram()}return t.prototype={attach:function(t){this.gl.attachShader(this.program,t.shader)},link:function(){this.gl.linkProgram(this.program),assert(this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS),"Unable to initialize the shader program.")},use:function(){this.gl.useProgram(this.program)},getAttributeLocation:function(t){return this.gl.getAttribLocation(this.program,t)},setMatrixUniform:function(t,e){var r=this.gl.getUniformLocation(this.program,t);this.gl.uniformMatrix4fv(r,!1,e)}},t}(),Texture=function(){function t(t,e,r){this.gl=t,this.size=e,this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),this.format=r?r:t.LUMINANCE,t.texImage2D(t.TEXTURE_2D,0,this.format,e.w,e.h,0,this.format,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}var e=null;return t.prototype={fill:function(t,e){var r=this.gl;assert(t.length>=this.size.w*this.size.h,"Texture size mismatch, data:"+t.length+", texture: "+this.size.w*this.size.h),r.bindTexture(r.TEXTURE_2D,this.texture),e?r.texSubImage2D(r.TEXTURE_2D,0,0,0,this.size.w,this.size.h,this.format,r.UNSIGNED_BYTE,t):r.texImage2D(r.TEXTURE_2D,0,this.format,this.size.w,this.size.h,0,this.format,r.UNSIGNED_BYTE,t)},bind:function(t,r,i){var o=this.gl;e||(e=[o.TEXTURE0,o.TEXTURE1,o.TEXTURE2]),o.activeTexture(e[t]),o.bindTexture(o.TEXTURE_2D,this.texture),o.uniform1i(o.getUniformLocation(r.program,i),t)}},t}(),WebGLCanvas=function(){function t(t,i,o){this.canvas=t,this.size=i,this.onInitWebGL(),this.onInitShaders(),r.call(this),o&&e.call(this),this.onInitTextures(),n.call(this)}function e(){var t=this.gl;this.framebuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),this.framebufferTexture=new Texture(this.gl,this.size,t.RGBA);var e=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,e),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,this.size.w,this.size.h),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.framebufferTexture.texture,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)}function r(){var t,e=this.gl;this.quadVPBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.quadVPBuffer),t=[1,1,0,-1,1,0,1,-1,0,-1,-1,0],e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),this.quadVPBuffer.itemSize=3,this.quadVPBuffer.numItems=4;var r=1,i=1;this.quadVTCBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.quadVTCBuffer),t=[r,0,0,0,r,i,0,i],e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW)}function i(){this.mvMatrix=Matrix.I(4)}function o(t){this.mvMatrix=this.mvMatrix.x(t)}function a(t){o.call(this,Matrix.Translation($V([t[0],t[1],t[2]])).ensure4x4())}function s(){this.program.setMatrixUniform("uPMatrix",new Float32Array(this.perspectiveMatrix.flatten())),this.program.setMatrixUniform("uMVMatrix",new Float32Array(this.mvMatrix.flatten()))}function n(){var t=this.gl;this.perspectiveMatrix=makePerspective(45,1,.1,100),i.call(this),a.call(this,[0,0,-2.4]),t.bindBuffer(t.ARRAY_BUFFER,this.quadVPBuffer),t.vertexAttribPointer(this.vertexPositionAttribute,3,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,this.quadVTCBuffer),t.vertexAttribPointer(this.textureCoordAttribute,2,t.FLOAT,!1,0,0),this.onInitSceneTextures(),s.call(this),this.framebuffer&&(console.log("Bound Frame Buffer"),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer))}var u=Script.createFromSource("x-shader/x-vertex",text(["attribute vec3 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat4 uMVMatrix;","uniform mat4 uPMatrix;","varying highp vec2 vTextureCoord;","void main(void) {","  gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);","  vTextureCoord = aTextureCoord;","}"])),h=Script.createFromSource("x-shader/x-fragment",text(["precision highp float;","varying highp vec2 vTextureCoord;","uniform sampler2D texture;","void main(void) {","  gl_FragColor = texture2D(texture, vTextureCoord);","}"]));return t.prototype={toString:function(){return"WebGLCanvas Size: "+this.size},checkLastError:function(t){var e=this.gl.getError();if(e!=this.gl.NO_ERROR){var r=this.glNames[e];r=void 0!==r?r+"("+e+")":"Unknown WebGL ENUM (0x"+value.toString(16)+")",t?console.log("WebGL Error: %s, %s",t,r):console.log("WebGL Error: %s",r),console.trace()}},onInitWebGL:function(){try{this.gl=this.canvas.getContext("experimental-webgl")}catch(t){}if(this.gl||error("Unable to initialize WebGL. Your browser may not support it."),!this.glNames){this.glNames={};for(var e in this.gl)"number"==typeof this.gl[e]&&(this.glNames[this.gl[e]]=e)}},onInitShaders:function(){this.program=new Program(this.gl),this.program.attach(new Shader(this.gl,u)),this.program.attach(new Shader(this.gl,h)),this.program.link(),this.program.use(),this.vertexPositionAttribute=this.program.getAttributeLocation("aVertexPosition"),this.gl.enableVertexAttribArray(this.vertexPositionAttribute),this.textureCoordAttribute=this.program.getAttributeLocation("aTextureCoord"),this.gl.enableVertexAttribArray(this.textureCoordAttribute)},onInitTextures:function(){var t=this.gl;this.texture=new Texture(t,this.size,t.RGBA)},onInitSceneTextures:function(){this.texture.bind(0,this.program,"texture")},drawScene:function(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)},readPixels:function(t){var e=this.gl;e.readPixels(0,0,this.size.w,this.size.h,e.RGBA,e.UNSIGNED_BYTE,t)}},t}(),YUVWebGLCanvas=function(){function t(t,e){WebGLCanvas.call(this,t,e)}var e=Script.createFromSource("x-shader/x-vertex",text(["attribute vec3 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat4 uMVMatrix;","uniform mat4 uPMatrix;","varying highp vec2 vTextureCoord;","void main(void) {","  gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);","  vTextureCoord = aTextureCoord;","}"])),r=(Script.createFromSource("x-shader/x-fragment",text(["precision highp float;","varying highp vec2 vTextureCoord;","uniform sampler2D YTexture;","uniform sampler2D UTexture;","uniform sampler2D VTexture;","void main(void) {","  vec3 YUV = vec3","  (","    texture2D(YTexture, vTextureCoord).x * 1.1643828125,   // premultiply Y","    texture2D(UTexture, vTextureCoord).x,","    texture2D(VTexture, vTextureCoord).x","  );","  gl_FragColor = vec4","  (","    YUV.x + 1.59602734375 * YUV.z - 0.87078515625,","    YUV.x - 0.39176171875 * YUV.y - 0.81296875 * YUV.z + 0.52959375,","    YUV.x + 2.017234375   * YUV.y - 1.081390625,","    1","  );","}"])),Script.createFromSource("x-shader/x-fragment",text(["precision highp float;","varying highp vec2 vTextureCoord;","uniform sampler2D YTexture;","uniform sampler2D UTexture;","uniform sampler2D VTexture;","void main(void) {","  gl_FragColor = texture2D(YTexture, vTextureCoord);","}"])),Script.createFromSource("x-shader/x-fragment",text(["precision highp float;","varying highp vec2 vTextureCoord;","uniform sampler2D YTexture;","uniform sampler2D UTexture;","uniform sampler2D VTexture;","const mat4 YUV2RGB = mat4","("," 1.1643828125, 0, 1.59602734375, -.87078515625,"," 1.1643828125, -.39176171875, -.81296875, .52959375,"," 1.1643828125, 2.017234375, 0, -1.081390625,"," 0, 0, 0, 1",");","void main(void) {"," gl_FragColor = vec4( texture2D(YTexture,  vTextureCoord).x, texture2D(UTexture, vTextureCoord).x, texture2D(VTexture, vTextureCoord).x, 1) * YUV2RGB;","}"])));return t.prototype=inherit(WebGLCanvas,{onInitShaders:function(){this.program=new Program(this.gl),this.program.attach(new Shader(this.gl,e)),this.program.attach(new Shader(this.gl,r)),this.program.link(),this.program.use(),this.vertexPositionAttribute=this.program.getAttributeLocation("aVertexPosition"),this.gl.enableVertexAttribArray(this.vertexPositionAttribute),this.textureCoordAttribute=this.program.getAttributeLocation("aTextureCoord"),this.gl.enableVertexAttribArray(this.textureCoordAttribute)},onInitTextures:function(){console.log("creatingTextures: size: "+this.size),this.YTexture=new Texture(this.gl,this.size),this.UTexture=new Texture(this.gl,this.size.getHalfSize()),this.VTexture=new Texture(this.gl,this.size.getHalfSize())},onInitSceneTextures:function(){this.YTexture.bind(0,this.program,"YTexture"),this.UTexture.bind(1,this.program,"UTexture"),this.VTexture.bind(2,this.program,"VTexture")},fillYUVTextures:function(t,e,r){this.YTexture.fill(t),this.UTexture.fill(e),this.VTexture.fill(r)},toString:function(){return"YUVCanvas Size: "+this.size}}),t}(),FilterWebGLCanvas=function(){function t(t,e,r){WebGLCanvas.call(this,t,e,r)}var e=Script.createFromSource("x-shader/x-vertex",text(["attribute vec3 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat4 uMVMatrix;","uniform mat4 uPMatrix;","varying highp vec2 vTextureCoord;","void main(void) {","  gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);","  vTextureCoord = aTextureCoord;","}"])),r=Script.createFromSource("x-shader/x-fragment",text(["precision highp float;","varying highp vec2 vTextureCoord;","uniform sampler2D FTexture;","void main(void) {"," gl_FragColor = texture2D(FTexture,  vTextureCoord);","}"]));return t.prototype=inherit(WebGLCanvas,{onInitShaders:function(){this.program=new Program(this.gl),this.program.attach(new Shader(this.gl,e)),this.program.attach(new Shader(this.gl,r)),this.program.link(),this.program.use(),this.vertexPositionAttribute=this.program.getAttributeLocation("aVertexPosition"),this.gl.enableVertexAttribArray(this.vertexPositionAttribute),this.textureCoordAttribute=this.program.getAttributeLocation("aTextureCoord"),this.gl.enableVertexAttribArray(this.textureCoordAttribute)},onInitTextures:function(){console.log("creatingTextures: size: "+this.size),this.FTexture=new Texture(this.gl,this.size,this.gl.RGBA)},onInitSceneTextures:function(){this.FTexture.bind(0,this.program,"FTexture")},process:function(t,e){this.FTexture.fill(t),this.drawScene(),this.readPixels(e)},toString:function(){return"FilterWebGLCanvas Size: "+this.size}}),t}();
function WSAvcPlayer(t,e,s,i,a,n){function r(t,e,s){if(t){var i=e*s,r=i>>2;this.webGLCanvas.YTexture.fill(t.subarray(0,i)),this.webGLCanvas.UTexture.fill(t.subarray(i,i+r)),this.webGLCanvas.VTexture.fill(t.subarray(i+r,i+2*r)),this.webGLCanvas.drawScene(),this._isReady||(this._isReady=!0,a&&a.emit(n,"ready"))}}function o(t,e,s){if(t){for(var i=e*s,a=i>>2,n=t.subarray(0,i),r=t.subarray(i,i+a),o=t.subarray(i+a,i+2*a),h=0;h<s;h++)for(var c=0;c<e;c++){var l=c+h*e,d=~~(h/2)*~~(e/2)+~~(c/2),v=~~(h/2)*~~(e/2)+~~(c/2),u=1.164*(n[l]-16)+1.596*(o[v]-128),f=1.164*(n[l]-16)-.813*(o[v]-128)-.391*(r[d]-128),y=1.164*(n[l]-16)+2.018*(r[d]-128),g=4*l;this.canvasBuffer.data[g+0]=u,this.canvasBuffer.data[g+1]=f,this.canvasBuffer.data[g+2]=y,this.canvasBuffer.data[g+3]=255}this.canvasCtx.putImageData(this.canvasBuffer,0,0)}}this.canvas=t,this.nals=s,this.delay=i,this.avc=new Avc,this.avc.configure({filter:"original",filterHorLuma:"optimized",filterVerLumaEdge:"optimized",getBoundaryStrengthsA:"optimized"}),"webgl"==e?(console.log("[video_player]: use webgl"),this.webGLCanvas=new YUVWebGLCanvas(this.canvas,new Size(t.width,t.height)),this.avc.onPictureDecoded=r.bind(this)):"canvas"==e&&(this.avc.onPictureDecoded=o.bind(this),this.canvasCtx=this.canvas.getContext("2d"),this.canvasBuffer=this.canvasCtx.createImageData(this.canvas.width,this.canvas.height)),this.ws,this.pktnum=0,this.rcvtime,this.prevframe,this._isReady=!1,this.decode=function(t){var e="invalid frame";t.length>4&&(101==t[4]?e="I frame":65==t[4]?e="P frame":103==t[4]?e="SPS":104==t[4]&&(e="PPS")),this.avc.decode(t)},this.connect=function(t){function e(t){try{var e=128,s=t.length<e?t.length:e;return Array.from(t.subarray(0,s),function(t){return("0"+(255&t).toString(16)).slice(-2)}).join("")}catch(i){return i.toString()}}console.log("[video_player]: start connect, url: "+t),void 0!=this.ws&&(this.ws.close(),delete this.ws),this.ws=new WebSocket(t),this.ws.binaryType="arraybuffer",this.ws.onopen=function(){console.log("[video_player]: connected to "+t),a&&a.emit(n,"connected"),this.playStream()}.bind(this),this.ws.onmessage=function(t){this.pktnum++;var s=new Uint8Array(t.data);this.pktnum%600==1&&console.log("[video_player]: [Pkt "+this.pktnum+" ("+t.data.byteLength+" bytes)], data: "+e(s));var i=new Date;this.rcvtime=i.getTime(),this.decode(s),this.prevframe=s}.bind(this),this.ws.onerror=function(t){console.warn("[video_player]: socket occur error: "+JSON.stringify(t)),a&&a.emit(n,"error",t)},this.ws.onclose=function(){console.log("[video_player]: Connection closed"),a&&a.emit(n,"closed")}},this.disconnect=function(){this.ws.close()},this.playStream=function(){var t="REQUESTSTREAM "+this.nals+"NAL "+this.delay+"MS";this.ws.send(t),console.log("[video_player]: Sent "+t)},this.stopStream=function(){this.ws.send("STOPSTREAM"),console.log("[video_player]: Sent STOPSTREAM")},this.playNAL=function(){var t="REQUEST "+this.nals+"NAL";this.ws.send(t),console.log("[video_player]: Sent "+t)},this.flush=function(){console.log("[video_player]: Flush: "+this.prevframe.length),this.decode(this.prevframe)}}
function initAudio(t){if(console.info("init aurora_other audio_player "+(CP_DO_AUDIO_DECODE?"WITH":"WITHOUT")+" decode logic, url: "+t),!window.sharedAudioContext){var e,r=window.AudioContext||window.webkitAudioContext,i=new r;i.createScriptProcessor?e=i.createScriptProcessor(1024,0,2):i.createJavaScriptNode&&(e=i.createJavaScriptNode(1024,0,2)),e.connect(i.destination),e.disconnect(),window.sharedAudioContext=i}var n=AV.Player.fromWebSocket(t);return n}var CP_DO_AUDIO_DECODE=!1,CP_NODE_BUFFER_SIZE=4096,CP_READY_MARK=5,CP_DROP_THRESHOLD_COUNT=25,CP_DROP_DURATION=5e3,CP_AUDIO_CALL_BACK_PERIOD_CHECK_COUNT=11,CP_AUDIO_CALL_BACK_LOW_AVG_COUNT=10.6;!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.AV=t()}}(function(){return function t(e,r,i){function n(o,a){if(!r[o]){if(!e[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var f=r[o]={exports:{}};e[o][0].call(f.exports,function(t){var r=e[o][1][t];return n(r?r:t)},f,f.exports,t,e,r,i)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}({1:[function(t,e,r){(function(){var r,i,n,s,o,a,h,u=function(t,e){return function(){return t.apply(e,arguments)}},f={}.hasOwnProperty,c=function(t,e){function r(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};o=t("./core/events"),h=t("./sources/node/http"),a=t("./sources/node/file"),i=t("./sources/buffer"),s=t("./demuxer"),n=t("./decoder"),r=function(t){function e(t){this.source=t,this._decode=u(this._decode,this),this.findDecoder=u(this.findDecoder,this),this.probe=u(this.probe,this),this.buffered=0,this.duration=null,this.format=null,this.metadata=null,this.active=!1,this.demuxer=null,this.decoder=null,this.source.once("data",this.probe),this.source.on("error",function(t){return function(e){return t.emit("error",e),t.stop()}}(this)),this.source.on("progress",function(t){return function(e){return t.buffered=e,t.emit("buffer",t.buffered)}}(this)),this.source.once("connected",function(t){return function(){return t.emit("connected")}}(this))}return c(e,t),e.fromURL=function(t,r){return new e(new h(t,r))},e.fromFile=function(t){return new e(new a(t))},e.fromBuffer=function(t){return new e(new i(t))},e.prototype.start=function(t){if(!this.active)return null!=t&&(this.shouldDecode=t),null==this.shouldDecode&&(this.shouldDecode=!0),this.active=!0,this.source.start(),this.decoder&&this.shouldDecode?this._decode():void 0},e.prototype.stop=function(){if(this.active)return this.active=!1,this.source.close()},e.prototype.get=function(t,e){if("format"===t||"duration"===t||"metadata"===t)return null!=this[t]?e(this[t]):(this.once(t,function(t){return function(r){return t.stop(),e(r)}}(this)),this.start())},e.prototype.decodePacket=function(){return this.decoder.decode()},e.prototype.decodeToBuffer=function(t){var e,r,i;return i=0,e=[],this.on("data",r=function(t){return i+=t.length,e.push(t)}),this.once("end",function(){var n,s,o,a,h;for(n=new Float32Array(i),o=0,a=0,h=e.length;a<h;a++)s=e[a],n.set(s,o),o+=s.length;return this.off("data",r),t(n)}),this.start()},e.prototype.probe=function(t){var e;if(this.active)return(e=s.find(t))?(this.demuxer=new e(this.source,t),this.demuxer.on("format",this.findDecoder),this.demuxer.on("duration",function(t){return function(e){return t.duration=e,t.emit("duration",t.duration)}}(this)),this.demuxer.on("metadata",function(t){return function(e){return t.metadata=e,t.emit("metadata",t.metadata)}}(this)),this.demuxer.on("error",function(t){return function(e){return t.emit("error",e),t.stop()}}(this))):this.emit("error","A demuxer for this container was not found.")},e.prototype.findDecoder=function(t){var e,r;if(this.format=t,this.active)return this.emit("format",this.format),(e=n.find(this.format.formatID))?(this.decoder=new e(this.demuxer,this.format),this.format.floatingPoint?this.decoder.on("data",function(t){return function(e){return t.emit("data",e)}}(this)):(r=Math.pow(2,this.format.bitsPerChannel-1),this.decoder.on("data",function(t){return function(e){var i,n,s,o,a;for(i=new Float32Array(e.length),n=o=0,a=e.length;o<a;n=++o)s=e[n],i[n]=s/r;return t.emit("data",i)}}(this))),this.decoder.on("error",function(t){return function(e){return t.emit("error",e),t.stop()}}(this)),this.decoder.on("end",function(t){return function(){return t.emit("end")}}(this)),this.emit("decodeStart"),this.shouldDecode?this._decode():void 0):this.emit("error","A decoder for "+this.format.formatID+" was not found.")},e.prototype._decode=function(){for(;this.decoder.decode()&&this.active;);if(this.active)return this.decoder.once("data",this._decode)},e.prototype.destroy=function(){var t,e,r;return this.stop(),null!=(t=this.demuxer)&&t.off(),null!=(e=this.decoder)&&e.off(),null!=(r=this.source)&&r.off(),this.off()},e}(o),e.exports=r}).call(this)},{"./core/events":8,"./decoder":11,"./demuxer":14,"./sources/buffer":31,"./sources/node/file":29,"./sources/node/http":30}],2:[function(t,e,r){(function(){var e,i,n;n=t("./aurora_base");for(e in n)i=n[e],r[e]=i;t("./demuxers/caf"),t("./demuxers/m4a"),t("./demuxers/aiff"),t("./demuxers/wave"),t("./demuxers/au"),t("./decoders/lpcm"),t("./decoders/xlaw")}).call(this)},{"./aurora_base":3,"./decoders/lpcm":12,"./decoders/xlaw":13,"./demuxers/aiff":15,"./demuxers/au":16,"./demuxers/caf":17,"./demuxers/m4a":18,"./demuxers/wave":19}],3:[function(t,e,r){(function(){r.Base=t("./core/base"),r.Buffer=t("./core/buffer"),r.BufferList=t("./core/bufferlist"),r.Stream=t("./core/stream"),r.Bitstream=t("./core/bitstream"),r.EventEmitter=t("./core/events"),r.UnderflowError=t("./core/underflow"),r.HTTPSource=t("./sources/node/http"),r.FileSource=t("./sources/node/file"),r.BufferSource=t("./sources/buffer"),r.Demuxer=t("./demuxer"),r.Decoder=t("./decoder"),r.AudioDevice=t("./device"),r.Asset=t("./asset"),r.Player=t("./player"),r.Filter=t("./filter"),r.VolumeFilter=t("./filters/volume"),r.BalanceFilter=t("./filters/balance")}).call(this)},{"./asset":1,"./core/base":4,"./core/bitstream":5,"./core/buffer":6,"./core/bufferlist":7,"./core/events":8,"./core/stream":9,"./core/underflow":10,"./decoder":11,"./demuxer":14,"./device":20,"./filter":24,"./filters/balance":25,"./filters/volume":26,"./player":27,"./sources/buffer":31,"./sources/node/file":29,"./sources/node/http":30}],4:[function(t,e,r){(function(){var t,r={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n=[].indexOf||function(t){for(var e=0,r=this.length;e<r;e++)if(e in this&&this[e]===t)return e;return-1};t=function(){function t(){}var e;return e=/\b_super\b/,t.extend=function(t){var r,s,o,a,h,u;if(r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e}(this),"function"==typeof t){a=Object.keys(r.prototype),t.call(r,r),t={},h=r.prototype;for(o in h)s=h[o],n.call(a,o)<0&&(t[o]=s)}u=r.__super__;for(o in t)s=t[o],"function"==typeof s&&e.test(s)?!function(t,e){return r.prototype[t]=function(){var r,i;return i=this._super,this._super=u[t],r=e.apply(this,arguments),this._super=i,r}}(o,s):r.prototype[o]=s;return r},t}(),e.exports=t}).call(this)},{}],5:[function(t,e,r){(function(){var t;t=function(){function t(t){this.stream=t,this.bitPosition=0}return t.prototype.copy=function(){var e;return e=new t(this.stream.copy()),e.bitPosition=this.bitPosition,e},t.prototype.offset=function(){return 8*this.stream.offset+this.bitPosition},t.prototype.available=function(t){return this.stream.available((t+8-this.bitPosition)/8)},t.prototype.advance=function(t){var e;return e=this.bitPosition+t,this.stream.advance(e>>3),this.bitPosition=7&e},t.prototype.rewind=function(t){var e;return e=this.bitPosition-t,this.stream.rewind(Math.abs(e>>3)),this.bitPosition=7&e},t.prototype.seek=function(t){var e;return e=this.offset(),t>e?this.advance(t-e):t<e?this.rewind(e-t):void 0},t.prototype.align=function(){if(0!==this.bitPosition)return this.bitPosition=0,this.stream.advance(1)},t.prototype.read=function(t,e){var r,i,n,s,o,a,h;if(0===t)return 0;if(h=t+this.bitPosition,h<=8)r=(this.stream.peekUInt8()<<this.bitPosition&255)>>>8-t;else if(h<=16)r=(this.stream.peekUInt16()<<this.bitPosition&65535)>>>16-t;else if(h<=24)r=(this.stream.peekUInt24()<<this.bitPosition&16777215)>>>24-t;else if(h<=32)r=this.stream.peekUInt32()<<this.bitPosition>>>32-t;else{if(!(h<=40))throw new Error("Too many bits!");i=4294967296*this.stream.peekUInt8(0),n=this.stream.peekUInt8(1)<<24>>>0,s=this.stream.peekUInt8(2)<<16,o=this.stream.peekUInt8(3)<<8,a=this.stream.peekUInt8(4),r=i+n+s+o+a,r%=Math.pow(2,40-this.bitPosition),r=Math.floor(r/Math.pow(2,40-this.bitPosition-t))}return e&&(h<32?r>>>t-1&&(r=((1<<t>>>0)-r)*-1):r/Math.pow(2,t-1)|0&&(r=(Math.pow(2,t)-r)*-1)),this.advance(t),r},t.prototype.peek=function(t,e){var r,i,n,s,o,a,h;if(0===t)return 0;if(h=t+this.bitPosition,h<=8)r=(this.stream.peekUInt8()<<this.bitPosition&255)>>>8-t;else if(h<=16)r=(this.stream.peekUInt16()<<this.bitPosition&65535)>>>16-t;else if(h<=24)r=(this.stream.peekUInt24()<<this.bitPosition&16777215)>>>24-t;else if(h<=32)r=this.stream.peekUInt32()<<this.bitPosition>>>32-t;else{if(!(h<=40))throw new Error("Too many bits!");i=4294967296*this.stream.peekUInt8(0),n=this.stream.peekUInt8(1)<<24>>>0,s=this.stream.peekUInt8(2)<<16,o=this.stream.peekUInt8(3)<<8,a=this.stream.peekUInt8(4),r=i+n+s+o+a,r%=Math.pow(2,40-this.bitPosition),r=Math.floor(r/Math.pow(2,40-this.bitPosition-t))}return e&&(h<32?r>>>t-1&&(r=((1<<t>>>0)-r)*-1):r/Math.pow(2,t-1)|0&&(r=(Math.pow(2,t)-r)*-1)),r},t.prototype.readLSB=function(t,e){var r,i;if(0===t)return 0;if(t>40)throw new Error("Too many bits!");return i=t+this.bitPosition,r=this.stream.peekUInt8(0)>>>this.bitPosition,i>8&&(r|=this.stream.peekUInt8(1)<<8-this.bitPosition),i>16&&(r|=this.stream.peekUInt8(2)<<16-this.bitPosition),i>24&&(r+=this.stream.peekUInt8(3)<<24-this.bitPosition>>>0),i>32&&(r+=this.stream.peekUInt8(4)*Math.pow(2,32-this.bitPosition)),i>=32?r%=Math.pow(2,t):r&=(1<<t)-1,e&&(i<32?r>>>t-1&&(r=((1<<t>>>0)-r)*-1):r/Math.pow(2,t-1)|0&&(r=(Math.pow(2,t)-r)*-1)),this.advance(t),r},t.prototype.peekLSB=function(t,e){var r,i;if(0===t)return 0;if(t>40)throw new Error("Too many bits!");return i=t+this.bitPosition,r=this.stream.peekUInt8(0)>>>this.bitPosition,i>8&&(r|=this.stream.peekUInt8(1)<<8-this.bitPosition),i>16&&(r|=this.stream.peekUInt8(2)<<16-this.bitPosition),i>24&&(r+=this.stream.peekUInt8(3)<<24-this.bitPosition>>>0),i>32&&(r+=this.stream.peekUInt8(4)*Math.pow(2,32-this.bitPosition)),i>=32?r%=Math.pow(2,t):r&=(1<<t)-1,e&&(i<32?r>>>t-1&&(r=((1<<t>>>0)-r)*-1):r/Math.pow(2,t-1)|0&&(r=(Math.pow(2,t)-r)*-1)),r},t}(),e.exports=t}).call(this)},{}],6:[function(t,e,r){(function(t){(function(){var r;r=function(){function e(r){var i;if(r instanceof Uint8Array)this.data=r;else if(r instanceof ArrayBuffer||Array.isArray(r)||"number"==typeof r||(null!=(i=t.Buffer)?i.isBuffer(r):void 0))this.data=new Uint8Array(r);else if(r.buffer instanceof ArrayBuffer)this.data=new Uint8Array(r.buffer,r.byteOffset,r.length*r.BYTES_PER_ELEMENT);else{if(!(r instanceof e))throw new Error("Constructing buffer with unknown type.");this.data=r.data}this.length=this.data.length,this.next=null,this.prev=null}var r,i;return e.allocate=function(t){return new e(t)},e.prototype.copy=function(){return new e(new Uint8Array(this.data))},e.prototype.slice=function(t,r){return null==r&&(r=this.length),new e(0===t&&r>=this.length?this.data:this.data.subarray(t,t+r))},r=t.BlobBuilder||t.MozBlobBuilder||t.WebKitBlobBuilder,i=t.URL||t.webkitURL||t.mozURL,e.makeBlob=function(t,e){var i;null==e&&(e="application/octet-stream");try{return new Blob([t],{type:e})}catch(n){}return null!=r?(i=new r,i.append(t),i.getBlob(e)):null},e.makeBlobURL=function(t,e){return null!=i?i.createObjectURL(this.makeBlob(t,e)):void 0},e.revokeBlobURL=function(t){return null!=i?i.revokeObjectURL(t):void 0},e.prototype.toBlob=function(){return e.makeBlob(this.data.buffer)},e.prototype.toBlobURL=function(){return e.makeBlobURL(this.data.buffer)},e}(),e.exports=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,e,r){(function(){var t;t=function(){function t(){this.first=null,this.last=null,this.numBuffers=0,this.availableBytes=0,this.availableBuffers=0}return t.prototype.copy=function(){var e;return e=new t,e.first=this.first,e.last=this.last,e.numBuffers=this.numBuffers,e.availableBytes=this.availableBytes,e.availableBuffers=this.availableBuffers,e},t.prototype.append=function(t){var e;return t.prev=this.last,null!=(e=this.last)&&(e.next=t),this.last=t,null==this.first&&(this.first=t),this.availableBytes+=t.length,this.availableBuffers++,this.numBuffers++},t.prototype.advance=function(){return!!this.first&&(this.availableBytes-=this.first.length,this.availableBuffers--,this.first=this.first.next,null!=this.first)},t.prototype.rewind=function(){var t;return!(this.first&&!this.first.prev)&&(this.first=(null!=(t=this.first)?t.prev:void 0)||this.last,this.first&&(this.availableBytes+=this.first.length,this.availableBuffers++),null!=this.first)},t.prototype.reset=function(){var t;for(t=[];this.rewind(););return t},t}(),e.exports=t}).call(this)},{}],8:[function(t,e,r){(function(){var r,i,n={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o=[].slice;r=t("./base"),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.on=function(t,e){var r;return null==this.events&&(this.events={}),null==(r=this.events)[t]&&(r[t]=[]),this.events[t].push(e)},e.prototype.off=function(t,e){var r,i,n;if(null!=this.events)if(null!=(n=this.events)?n[t]:void 0){if(null==e)return this.events[t];if(i=this.events[t].indexOf(e),~i)return this.events[t].splice(i,1)}else if(null==t)return r={}},e.prototype.once=function(t,e){var r;return this.on(t,r=function(){return this.off(t,r),e.apply(this,arguments)})},e.prototype.emit=function(){var t,e,r,i,n,s,a;if(e=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],null!=(s=this.events)?s[e]:void 0)for(a=this.events[e].slice(),i=0,n=a.length;i<n;i++)r=a[i],r.apply(this,t)},e}(r),e.exports=i}).call(this)},{"./base":4}],9:[function(t,e,r){(function(){var r,i,n,s;i=t("./bufferlist"),r=t("./buffer"),s=t("./underflow"),n=function(){function t(t){this.list=t,this.localOffset=0,this.offset=0}var e,n,o,a,h,u,f,c,l,p,d,m,v;return e=new ArrayBuffer(16),v=new Uint8Array(e),l=new Int8Array(e),d=new Uint16Array(e),f=new Int16Array(e),m=new Uint32Array(e),c=new Int32Array(e),o=new Float32Array(e),"undefined"!=typeof Float64Array&&null!==Float64Array&&(a=new Float64Array(e)),p=13330===new Uint16Array(new Uint8Array([18,52]).buffer)[0],t.fromBuffer=function(e){var r;return r=new i,r.append(e),new t(r)},t.prototype.copy=function(){var e;return e=new t(this.list.copy()),e.localOffset=this.localOffset,e.offset=this.offset,e},t.prototype.available=function(t){return t<=this.list.availableBytes-this.localOffset},t.prototype.remainingBytes=function(){return this.list.availableBytes-this.localOffset},t.prototype.advance=function(t){if(!this.available(t))throw new s;for(this.localOffset+=t,this.offset+=t;this.list.first&&this.localOffset>=this.list.first.length;)this.localOffset-=this.list.first.length,this.list.advance();return this},t.prototype.rewind=function(t){if(t>this.offset)throw new s;for(this.list.first||(this.list.rewind(),this.localOffset=this.list.first.length),this.localOffset-=t,this.offset-=t;this.list.first.prev&&this.localOffset<0;)this.list.rewind(),this.localOffset+=this.list.first.length;return this},t.prototype.seek=function(t){return t>this.offset?this.advance(t-this.offset):t<this.offset?this.rewind(this.offset-t):void 0},t.prototype.readUInt8=function(){var t;if(!this.available(1))throw new s;return t=this.list.first.data[this.localOffset],this.localOffset+=1,this.offset+=1,this.localOffset===this.list.first.length&&(this.localOffset=0,this.list.advance()),t},t.prototype.peekUInt8=function(t){var e;if(null==t&&(t=0),!this.available(t+1))throw new s;for(t=this.localOffset+t,e=this.list.first;e;){if(e.length>t)return e.data[t];t-=e.length,e=e.next}return 0},t.prototype.read=function(t,e){var r,i,n,s;if(null==e&&(e=!1),e===p)for(r=i=0;i<t;r=i+=1)v[r]=this.readUInt8();else for(r=n=s=t-1;n>=0;r=n+=-1)v[r]=this.readUInt8()},t.prototype.peek=function(t,e,r){var i,n,s;if(null==r&&(r=!1),r===p)for(i=n=0;n<t;i=n+=1)v[i]=this.peekUInt8(e+i);else for(i=s=0;s<t;i=s+=1)v[t-i-1]=this.peekUInt8(e+i)},t.prototype.readInt8=function(){return this.read(1),l[0]},t.prototype.peekInt8=function(t){return null==t&&(t=0),this.peek(1,t),l[0]},t.prototype.readUInt16=function(t){return this.read(2,t),d[0]},t.prototype.peekUInt16=function(t,e){return null==t&&(t=0),this.peek(2,t,e),d[0]},t.prototype.readInt16=function(t){return this.read(2,t),f[0]},t.prototype.peekInt16=function(t,e){return null==t&&(t=0),this.peek(2,t,e),f[0]},t.prototype.readUInt24=function(t){return t?this.readUInt16(!0)+(this.readUInt8()<<16):(this.readUInt16()<<8)+this.readUInt8()},t.prototype.peekUInt24=function(t,e){return null==t&&(t=0),e?this.peekUInt16(t,!0)+(this.peekUInt8(t+2)<<16):(this.peekUInt16(t)<<8)+this.peekUInt8(t+2)},t.prototype.readInt24=function(t){return t?this.readUInt16(!0)+(this.readInt8()<<16):(this.readInt16()<<8)+this.readUInt8()},t.prototype.peekInt24=function(t,e){return null==t&&(t=0),e?this.peekUInt16(t,!0)+(this.peekInt8(t+2)<<16):(this.peekInt16(t)<<8)+this.peekUInt8(t+2)},t.prototype.readUInt32=function(t){return this.read(4,t),m[0]},t.prototype.peekUInt32=function(t,e){return null==t&&(t=0),this.peek(4,t,e),m[0]},t.prototype.readInt32=function(t){return this.read(4,t),c[0]},t.prototype.peekInt32=function(t,e){return null==t&&(t=0),this.peek(4,t,e),c[0]},t.prototype.readFloat32=function(t){return this.read(4,t),o[0]},t.prototype.peekFloat32=function(t,e){return null==t&&(t=0),this.peek(4,t,e),o[0]},t.prototype.readFloat64=function(t){return this.read(8,t),a?a[0]:h()},h=function(){var t,e,r,i,n,s;return i=m[0],r=m[1],r&&2147483648!==r?(s=1-2*(r>>>31),t=r>>>20&2047,e=1048575&r,2047===t?e?NaN:s*(1/0):(t-=1023,n=(1048576|e)*Math.pow(2,t-20),n+=i*Math.pow(2,t-52),s*n)):0},t.prototype.peekFloat64=function(t,e){return null==t&&(t=0),this.peek(8,t,e),a?a[0]:h()},t.prototype.readFloat80=function(t){return this.read(10,t),u()},u=function(){var t,e,r,i,n,s,o;return i=m[0],n=m[1],t=v[9],e=v[8],o=1-2*(t>>>7),r=(127&t)<<8|e,0===r&&0===n&&0===i?0:32767===r?0===n&&0===i?o*(1/0):NaN:(r-=16383,s=n*Math.pow(2,r-31),s+=i*Math.pow(2,r-63),o*s)},t.prototype.peekFloat80=function(t,e){return null==t&&(t=0),this.peek(10,t,e),u()},t.prototype.readBuffer=function(t){var e,i,n,s;for(i=r.allocate(t),n=i.data,e=s=0;s<t;e=s+=1)n[e]=this.readUInt8();return i},t.prototype.peekBuffer=function(t,e){var i,n,s,o;for(null==t&&(t=0),n=r.allocate(e),s=n.data,i=o=0;o<e;i=o+=1)s[i]=this.peekUInt8(t+i);return n},t.prototype.readSingleBuffer=function(t){var e;return e=this.list.first.slice(this.localOffset,t),this.advance(e.length),e},t.prototype.peekSingleBuffer=function(t,e){var r;return r=this.list.first.slice(this.localOffset+t,e)},t.prototype.readString=function(t,e){return null==e&&(e="ascii"),n.call(this,0,t,e,!0)},t.prototype.peekString=function(t,e,r){return null==t&&(t=0),null==r&&(r="ascii"),n.call(this,t,e,r,!1)},n=function(t,e,r,i){var n,s,o,a,h,u,f,c,l,p,d,m,v;switch(r=r.toLowerCase(),l=null===e?0:-1,null==e&&(e=1/0),f=t+e,d="",r){case"ascii":case"latin1":for(;t<f&&(u=this.peekUInt8(t++))!==l;)d+=String.fromCharCode(u);break;case"utf8":case"utf-8":for(;t<f&&(n=this.peekUInt8(t++))!==l;)0===(128&n)?d+=String.fromCharCode(n):192===(224&n)?(s=63&this.peekUInt8(t++),d+=String.fromCharCode((31&n)<<6|s)):224===(240&n)?(s=63&this.peekUInt8(t++),o=63&this.peekUInt8(t++),d+=String.fromCharCode((15&n)<<12|s<<6|o)):240===(248&n)&&(s=63&this.peekUInt8(t++),o=63&this.peekUInt8(t++),a=63&this.peekUInt8(t++),p=((15&n)<<18|s<<12|o<<6|a)-65536,d+=String.fromCharCode(55296+(p>>10),56320+(1023&p)));break;case"utf16-be":case"utf16be":case"utf16le":case"utf16-le":case"utf16bom":case"utf16-bom":switch(r){case"utf16be":case"utf16-be":c=!1;break;case"utf16le":case"utf16-le":c=!0;break;case"utf16bom":case"utf16-bom":if(e<2||(h=this.peekUInt16(t))===l)return i&&this.advance(t+=2),d;c=65534===h,t+=2}for(;t<f&&(m=this.peekUInt16(t,c))!==l;)if(t+=2,m<55296||m>57343)d+=String.fromCharCode(m);else{if(m>56319)throw new Error("Invalid utf16 sequence.");if(v=this.peekUInt16(t,c),v<56320||v>57343)throw new Error("Invalid utf16 sequence.");d+=String.fromCharCode(m,v),t+=2}m===l&&(t+=2);break;default:throw new Error("Unknown encoding: "+r)}return i&&this.advance(t),d},t}(),e.exports=n}).call(this)},{"./buffer":6,"./bufferlist":7,"./underflow":10}],10:[function(t,e,r){(function(){var t,r={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.name="UnderflowError",this.stack=(new Error).stack}return i(e,t),e}(Error),e.exports=t}).call(this)},{}],11:[function(t,e,r){(function(){var r,i,n,s,o,a,h={}.hasOwnProperty,u=function(t,e){function r(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};s=t("./core/events"),i=t("./core/bufferlist"),o=t("./core/stream"),r=t("./core/bitstream"),a=t("./core/underflow"),n=function(t){function e(t,e){var n;this.demuxer=t,this.format=e,n=new i,this.stream=new o(n),this.bitstream=new r(this.stream),this.receivedFinalBuffer=!1,this.waiting=!1,this.demuxer.on("cookie",function(t){return function(e){var r;try{return t.setCookie(e)}catch(i){return r=i,t.emit("error",r)}}}(this)),this.demuxer.on("data",function(t){return function(e){if(n.append(e),t.waiting)return t.decode()}}(this)),this.demuxer.on("end",function(t){return function(){if(t.receivedFinalBuffer=!0,t.waiting)return t.decode()}}(this)),this.init()}var n;return u(e,t),e.prototype.init=function(){},e.prototype.setCookie=function(t){},e.prototype.readChunk=function(){},e.prototype.decode=function(){var t,e,r;this.waiting=!this.receivedFinalBuffer,e=this.bitstream.offset();try{r=this.readChunk()}catch(i){if(t=i,!(t instanceof a))return this.emit("error",t),!1}return r?(this.emit("data",r),this.receivedFinalBuffer&&this.emit("end"),!0):(this.receivedFinalBuffer?this.emit("end"):(this.bitstream.seek(e),this.waiting=!0),!1)},e.prototype.seek=function(t){var e;return e=this.demuxer.seek(t),this.stream.seek(e.offset),e.timestamp},n={},e.register=function(t,e){return n[t]=e},e.find=function(t){return n[t]||null},e}(s),e.exports=n}).call(this)},{"./core/bitstream":5,"./core/bufferlist":7,"./core/events":8,"./core/stream":9,"./core/underflow":10}],12:[function(t,e,r){(function(){var e,r,i=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};e=t("../decoder"),r=function(t){function r(){return this.readChunk=i(this.readChunk,this),r.__super__.constructor.apply(this,arguments)}return s(r,t),e.register("lpcm",r),r.prototype.readChunk=function(){var t,e,r,i,n,s,o,a,h,u,f,c;if(s=this.stream,r=this.format.littleEndian,t=Math.min(CP_NODE_BUFFER_SIZE,s.remainingBytes()),n=t/(this.format.bitsPerChannel/8)|0,t<this.format.bitsPerChannel/8)return null;if(this.format.floatingPoint)switch(this.format.bitsPerChannel){case 32:for(i=new Float32Array(n),e=o=0;o<n;e=o+=1)i[e]=s.readFloat32(r);break;case 64:for(i=new Float64Array(n),e=a=0;a<n;e=a+=1)i[e]=s.readFloat64(r);break;default:throw new Error("Unsupported bit depth.")}else switch(this.format.bitsPerChannel){case 8:for(i=new Int8Array(n),e=h=0;h<n;e=h+=1)i[e]=s.readInt8();break;case 16:for(i=new Int16Array(n),e=u=0;u<n;e=u+=1)i[e]=s.readInt16(r);break;case 24:for(i=new Int32Array(n),e=f=0;f<n;e=f+=1)i[e]=s.readInt24(r);break;case 32:for(i=new Int32Array(n),e=c=0;c<n;e=c+=1)i[e]=s.readInt32(r);break;default:throw new Error("Unsupported bit depth.")}return i},r}(e)}).call(this)},{"../decoder":11}],13:[function(t,e,r){(function(){var e,r,i=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};e=t("../decoder"),r=function(t){function r(){return this.readChunk=i(this.readChunk,this),r.__super__.constructor.apply(this,arguments)}var n,o,a,h,u;return s(r,t),e.register("ulaw",r),e.register("alaw",r),u=128,o=15,h=4,a=112,n=132,r.prototype.init=function(){var t,e,r,i,s,f,c;if(this.format.bitsPerChannel=16,this.table=i=new Int16Array(256),"ulaw"===this.format.formatID)for(t=f=0;f<256;t=++f)s=~t,r=((s&o)<<3)+n,r<<=(s&a)>>>h,i[t]=s&u?n-r:r-n;else for(t=c=0;c<256;t=++c)s=85^t,r=s&o,e=(s&a)>>>h,r=e?r+r+1+32<<e+2:r+r+1<<3,i[t]=s&u?r:-r},r.prototype.readChunk=function(){var t,e,r,i,n,s;if(i=this.stream,n=this.table,r=Math.min(CP_NODE_BUFFER_SIZE,this.stream.remainingBytes()),0!==r){for(e=new Int16Array(r),t=s=0;s<r;t=s+=1)e[t]=n[i.readUInt8()];return e}},r}(e)}).call(this)},{"../decoder":11}],14:[function(t,e,r){(function(){var r,i,n,s,o={}.hasOwnProperty,a=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=t("./core/events"),r=t("./core/bufferlist"),s=t("./core/stream"),i=function(t){function e(t,e){var i,n;i=new r,i.append(e),this.stream=new s(i),n=!1,t.on("data",function(t){return function(e){var r;n=!0,i.append(e);try{return t.readChunk(e)}catch(s){return r=s,t.emit("error",r)}}}(this)),t.on("error",function(t){return function(e){return t.emit("error",e)}}(this)),t.on("end",function(t){return function(){return n||t.readChunk(e),t.emit("end")}}(this)),this.seekPoints=[],this.init()}var i;return a(e,t),e.probe=function(t){return!1},e.prototype.init=function(){},e.prototype.readChunk=function(t){},e.prototype.addSeekPoint=function(t,e){var r;return r=this.searchTimestamp(e),this.seekPoints.splice(r,0,{offset:t,timestamp:e})},e.prototype.searchTimestamp=function(t,e){var r,i,n,s;if(i=0,r=this.seekPoints.length,r>0&&this.seekPoints[r-1].timestamp<t)return r;for(;i<r;)n=i+r>>1,s=this.seekPoints[n].timestamp,s<t?i=n+1:s>=t&&(r=n);return r>this.seekPoints.length&&(r=this.seekPoints.length),r},e.prototype.seek=function(t){var e,r;return this.format&&this.format.framesPerPacket>0&&this.format.bytesPerPacket>0?r={timestamp:t,offset:this.format.bytesPerPacket*t/this.format.framesPerPacket}:(e=this.searchTimestamp(t),this.seekPoints[e])},i=[],e.register=function(t){return i.push(t)},e.find=function(t){var e,r,n,o,a,h;for(o=s.fromBuffer(t),a=0,h=i.length;a<h;a++){r=i[a],n=o.offset;try{if(r.probe(o))return r}catch(u){e=u}o.seek(n)}return null},e}(n),e.exports=i}).call(this)},{"./core/bufferlist":7,"./core/events":8,"./core/stream":9}],15:[function(t,e,r){(function(){var e,r,i={}.hasOwnProperty,n=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};r=t("../demuxer"),e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),r.register(e),e.probe=function(t){var e;return"FORM"===t.peekString(0,4)&&("AIFF"===(e=t.peekString(8,4))||"AIFC"===e)},e.prototype.readChunk=function(){var t,e,r,i;if(!this.readStart&&this.stream.available(12)){if("FORM"!==this.stream.readString(4))return this.emit("error","Invalid AIFF.");if(this.fileSize=this.stream.readUInt32(),this.fileType=this.stream.readString(4),this.readStart=!0,"AIFF"!==(i=this.fileType)&&"AIFC"!==i)return this.emit("error","Invalid AIFF.")}for(;this.stream.available(1);){switch(!this.readHeaders&&this.stream.available(8)&&(this.type=this.stream.readString(4),this.len=this.stream.readUInt32()),this.type){case"COMM":if(!this.stream.available(this.len))return;this.format={formatID:"lpcm",channelsPerFrame:this.stream.readUInt16(),sampleCount:this.stream.readUInt32(),bitsPerChannel:this.stream.readUInt16(),sampleRate:this.stream.readFloat80(),framesPerPacket:1,littleEndian:!1,floatingPoint:!1},this.format.bytesPerPacket=this.format.bitsPerChannel/8*this.format.channelsPerFrame,"AIFC"===this.fileType&&(e=this.stream.readString(4),this.format.littleEndian="sowt"===e&&this.format.bitsPerChannel>8,this.format.floatingPoint="fl32"===e||"fl64"===e,"twos"!==e&&"sowt"!==e&&"fl32"!==e&&"fl64"!==e&&"NONE"!==e||(e="lpcm"),this.format.formatID=e,this.len-=4),this.stream.advance(this.len-18),this.emit("format",this.format),this.emit("duration",this.format.sampleCount/this.format.sampleRate*1e3|0);break;case"SSND":this.readSSNDHeader&&this.stream.available(4)||(r=this.stream.readUInt32(),this.stream.advance(4),this.stream.advance(r),this.readSSNDHeader=!0),t=this.stream.readSingleBuffer(this.len),this.len-=t.length,this.readHeaders=this.len>0,this.emit("data",t);break;default:if(!this.stream.available(this.len))return;this.stream.advance(this.len)}"SSND"!==this.type&&(this.readHeaders=!1)}},e}(r)}).call(this)},{"../demuxer":14}],16:[function(t,e,r){(function(){var e,r,i={}.hasOwnProperty,n=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};r=t("../demuxer"),e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}var i,s;return n(e,t),r.register(e),e.probe=function(t){return".snd"===t.peekString(0,4)},i=[8,8,16,24,32,32,64],i[26]=8,s={1:"ulaw",27:"alaw"},e.prototype.readChunk=function(){var t,e,r,n;if(!this.readHeader&&this.stream.available(24)){if(".snd"!==this.stream.readString(4))return this.emit("error","Invalid AU file.");if(n=this.stream.readUInt32(),e=this.stream.readUInt32(),r=this.stream.readUInt32(),this.format={formatID:s[r]||"lpcm",littleEndian:!1,floatingPoint:6===r||7===r,bitsPerChannel:i[r-1],sampleRate:this.stream.readUInt32(),channelsPerFrame:this.stream.readUInt32(),framesPerPacket:1},null==this.format.bitsPerChannel)return this.emit("error","Unsupported encoding in AU file.");this.format.bytesPerPacket=this.format.bitsPerChannel/8*this.format.channelsPerFrame,4294967295!==e&&(t=this.format.bitsPerChannel/8,this.emit("duration",e/t/this.format.channelsPerFrame/this.format.sampleRate*1e3|0)),this.emit("format",this.format),this.readHeader=!0}if(this.readHeader)for(;this.stream.available(1);)this.emit("data",this.stream.readSingleBuffer(this.stream.remainingBytes()))},e}(r)}).call(this)},{"../demuxer":14}],17:[function(t,e,r){(function(){var e,r,i,n={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};r=t("../demuxer"),i=t("./m4a"),e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),r.register(e),e.probe=function(t){return"caff"===t.peekString(0,4)},e.prototype.readChunk=function(){var t,e,r,n,s,o,a,h,u,f,c,l,p,d;if(!this.format&&this.stream.available(64)){if("caff"!==this.stream.readString(4))return this.emit("error","Invalid CAF, does not begin with 'caff'");if(this.stream.advance(4),
"desc"!==this.stream.readString(4))return this.emit("error","Invalid CAF, 'caff' is not followed by 'desc'");if(0!==this.stream.readUInt32()||32!==this.stream.readUInt32())return this.emit("error","Invalid 'desc' size, should be 32");this.format={},this.format.sampleRate=this.stream.readFloat64(),this.format.formatID=this.stream.readString(4),s=this.stream.readUInt32(),"lpcm"===this.format.formatID&&(this.format.floatingPoint=Boolean(1&s),this.format.littleEndian=Boolean(2&s)),this.format.bytesPerPacket=this.stream.readUInt32(),this.format.framesPerPacket=this.stream.readUInt32(),this.format.channelsPerFrame=this.stream.readUInt32(),this.format.bitsPerChannel=this.stream.readUInt32(),this.emit("format",this.format)}for(;this.stream.available(1);){if(!this.headerCache&&(this.headerCache={type:this.stream.readString(4),oversize:0!==this.stream.readUInt32(),size:this.stream.readUInt32()},this.headerCache.oversize))return this.emit("error","Holy Shit, an oversized file, not supported in JS");switch(this.headerCache.type){case"kuki":this.stream.available(this.headerCache.size)&&("aac "===this.format.formatID?(u=this.stream.offset+this.headerCache.size,(r=i.readEsds(this.stream))&&this.emit("cookie",r),this.stream.seek(u)):(t=this.stream.readBuffer(this.headerCache.size),this.emit("cookie",t)),this.headerCache=null);break;case"pakt":if(this.stream.available(this.headerCache.size)){if(0!==this.stream.readUInt32())return this.emit("error","Sizes greater than 32 bits are not supported.");if(this.numPackets=this.stream.readUInt32(),0!==this.stream.readUInt32())return this.emit("error","Sizes greater than 32 bits are not supported.");for(this.numFrames=this.stream.readUInt32(),this.primingFrames=this.stream.readUInt32(),this.remainderFrames=this.stream.readUInt32(),this.emit("duration",this.numFrames/this.format.sampleRate*1e3|0),this.sentDuration=!0,e=0,f=0,o=l=0,d=this.numPackets;l<d;o=l+=1)this.addSeekPoint(e,f),e+=this.format.bytesPerPacket||i.readDescrLen(this.stream),f+=this.format.framesPerPacket||i.readDescrLen(this.stream);this.headerCache=null}break;case"info":for(n=this.stream.readUInt32(),h={},o=p=0;0<=n?p<n:p>n;o=0<=n?++p:--p)a=this.stream.readString(null),c=this.stream.readString(null),h[a]=c;this.emit("metadata",h),this.headerCache=null;break;case"data":this.sentFirstDataChunk||(this.stream.advance(4),this.headerCache.size-=4,0===this.format.bytesPerPacket||this.sentDuration||(this.numFrames=this.headerCache.size/this.format.bytesPerPacket,this.emit("duration",this.numFrames/this.format.sampleRate*1e3|0)),this.sentFirstDataChunk=!0),t=this.stream.readSingleBuffer(this.headerCache.size),this.headerCache.size-=t.length,this.emit("data",t),this.headerCache.size<=0&&(this.headerCache=null);break;default:this.stream.available(this.headerCache.size)&&(this.stream.advance(this.headerCache.size),this.headerCache=null)}}},e}(r)}).call(this)},{"../demuxer":14,"./m4a":18}],18:[function(t,e,r){(function(){var r,i,n={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o=[].indexOf||function(t){for(var e=0,r=this.length;e<r;e++)if(e in this&&this[e]===t)return e;return-1};r=t("../demuxer"),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}var i,n,a,h,u,f,c,l,p,d,m;return s(e,t),r.register(e),n=["M4A ","M4P ","M4B ","M4V ","isom","mp42","qt  "],e.probe=function(t){var e;return"ftyp"===t.peekString(4,4)&&(e=t.peekString(8,4),o.call(n,e)>=0)},e.prototype.init=function(){return this.atoms=[],this.offsets=[],this.track=null,this.tracks=[]},u={},c={},h=function(t,e){var r,i,n,s,o;for(r=[],o=t.split(".").slice(0,-1),n=0,s=o.length;n<s;n++)i=o[n],r.push(i),c[r.join(".")]=!0;return null==u[t]&&(u[t]={}),u[t].fn=e},a=function(t,e){return null==u[t]&&(u[t]={}),u[t].after=e},e.prototype.readChunk=function(){var t,e,r;for(this["break"]=!1;this.stream.available(1)&&!this["break"];){if(!this.readHeaders){if(!this.stream.available(8))return;if(this.len=this.stream.readUInt32()-8,this.type=this.stream.readString(4),0===this.len)continue;this.atoms.push(this.type),this.offsets.push(this.stream.offset+this.len),this.readHeaders=!0}if(e=this.atoms.join("."),t=u[e],null!=t?t.fn:void 0){if(!this.stream.available(this.len)&&"mdat"!==e)return;t.fn.call(this),e in c&&(this.readHeaders=!1)}else if(e in c)this.readHeaders=!1;else{if(!this.stream.available(this.len))return;this.stream.advance(this.len)}for(;this.stream.offset>=this.offsets[this.offsets.length-1];)t=u[this.atoms.join(".")],(null!=t?t.after:void 0)&&t.after.call(this),r=this.atoms.pop(),this.offsets.pop(),this.readHeaders=!1}},h("ftyp",function(){var t;return t=this.stream.readString(4),o.call(n,t)<0?this.emit("error","Not a valid M4A file."):this.stream.advance(this.len-4)}),h("moov.trak",function(){return this.track={},this.tracks.push(this.track)}),h("moov.trak.tkhd",function(){return this.stream.advance(4),this.stream.advance(8),this.track.id=this.stream.readUInt32(),this.stream.advance(this.len-16)}),h("moov.trak.mdia.hdlr",function(){return this.stream.advance(4),this.stream.advance(4),this.track.type=this.stream.readString(4),this.stream.advance(12),this.stream.advance(this.len-24)}),h("moov.trak.mdia.mdhd",function(){return this.stream.advance(4),this.stream.advance(8),this.track.timeScale=this.stream.readUInt32(),this.track.duration=this.stream.readUInt32(),this.stream.advance(4)}),i={ulaw:8,alaw:8,in24:24,in32:32,fl32:32,fl64:64},h("moov.trak.mdia.minf.stbl.stsd",function(){var t,e,r,n,s;return this.stream.advance(4),e=this.stream.readUInt32(),"soun"!==this.track.type?this.stream.advance(this.len-8):1!==e?this.emit("error","Only expecting one entry in sample description atom!"):(this.stream.advance(4),t=this.track.format={},t.formatID=this.stream.readString(4),this.stream.advance(6),this.stream.advance(2),r=this.stream.readUInt16(),this.stream.advance(6),t.channelsPerFrame=this.stream.readUInt16(),t.bitsPerChannel=this.stream.readUInt16(),this.stream.advance(4),t.sampleRate=this.stream.readUInt16(),this.stream.advance(2),1===r?(t.framesPerPacket=this.stream.readUInt32(),this.stream.advance(4),t.bytesPerFrame=this.stream.readUInt32(),this.stream.advance(4)):0!==r&&this.emit("error","Unknown version in stsd atom"),null!=i[t.formatID]&&(t.bitsPerChannel=i[t.formatID]),t.floatingPoint="fl32"===(n=t.formatID)||"fl64"===n,t.littleEndian="sowt"===t.formatID&&t.bitsPerChannel>8,"twos"===(s=t.formatID)||"sowt"===s||"in24"===s||"in32"===s||"fl32"===s||"fl64"===s||"raw "===s||"NONE"===s?t.formatID="lpcm":void 0)}),h("moov.trak.mdia.minf.stbl.stsd.alac",function(){return this.stream.advance(4),this.track.cookie=this.stream.readBuffer(this.len-4)}),h("moov.trak.mdia.minf.stbl.stsd.esds",function(){var t;return t=this.stream.offset+this.len,this.track.cookie=e.readEsds(this.stream),this.stream.seek(t)}),h("moov.trak.mdia.minf.stbl.stsd.wave.enda",function(){return this.track.format.littleEndian=!!this.stream.readUInt16()}),e.readDescrLen=function(t){var e,r,i;for(i=0,r=4;r--&&(e=t.readUInt8(),i=i<<7|127&e,128&e););return i},e.readEsds=function(t){var r,i,n,s;return t.advance(4),s=t.readUInt8(),n=e.readDescrLen(t),3===s?(t.advance(2),i=t.readUInt8(),128&i&&t.advance(2),64&i&&t.advance(t.readUInt8()),32&i&&t.advance(2)):t.advance(2),s=t.readUInt8(),n=e.readDescrLen(t),4===s&&(r=t.readUInt8(),t.advance(1),t.advance(3),t.advance(4),t.advance(4),s=t.readUInt8(),n=e.readDescrLen(t),5===s)?t.readBuffer(n):null},h("moov.trak.mdia.minf.stbl.stts",function(){var t,e,r;for(this.stream.advance(4),t=this.stream.readUInt32(),this.track.stts=[],e=r=0;r<t;e=r+=1)this.track.stts[e]={count:this.stream.readUInt32(),duration:this.stream.readUInt32()};return this.setupSeekPoints()}),h("moov.trak.mdia.minf.stbl.stsc",function(){var t,e,r;for(this.stream.advance(4),t=this.stream.readUInt32(),this.track.stsc=[],e=r=0;r<t;e=r+=1)this.track.stsc[e]={first:this.stream.readUInt32(),count:this.stream.readUInt32(),id:this.stream.readUInt32()};return this.setupSeekPoints()}),h("moov.trak.mdia.minf.stbl.stsz",function(){var t,e,r;if(this.stream.advance(4),this.track.sampleSize=this.stream.readUInt32(),t=this.stream.readUInt32(),0===this.track.sampleSize&&t>0)for(this.track.sampleSizes=[],e=r=0;r<t;e=r+=1)this.track.sampleSizes[e]=this.stream.readUInt32();return this.setupSeekPoints()}),h("moov.trak.mdia.minf.stbl.stco",function(){var t,e,r;for(this.stream.advance(4),t=this.stream.readUInt32(),this.track.chunkOffsets=[],e=r=0;r<t;e=r+=1)this.track.chunkOffsets[e]=this.stream.readUInt32();return this.setupSeekPoints()}),h("moov.trak.tref.chap",function(){var t,e,r;for(t=this.len>>2,this.track.chapterTracks=[],e=r=0;r<t;e=r+=1)this.track.chapterTracks[e]=this.stream.readUInt32()}),e.prototype.setupSeekPoints=function(){var t,e,r,i,n,s,o,a,h,u,f,c,l,p,d,m;if(null!=this.track.chunkOffsets&&null!=this.track.stsc&&null!=this.track.sampleSize&&null!=this.track.stts){for(o=0,a=0,a=0,h=0,n=0,r=0,u=0,this.track.seekPoints=[],p=this.track.chunkOffsets,m=[],t=f=0,l=p.length;f<l;t=++f){for(i=p[t],e=c=0,d=this.track.stsc[o].count;c<d;e=c+=1)this.track.seekPoints.push({offset:r,position:i,timestamp:u}),s=this.track.sampleSize||this.track.sampleSizes[n++],r+=s,i+=s,u+=this.track.stts[a].duration,a+1<this.track.stts.length&&++h===this.track.stts[a].count&&(h=0,a++);o+1<this.track.stsc.length&&t+1===this.track.stsc[o+1].first?m.push(o++):m.push(void 0)}return m}},a("moov",function(){var t,e,r,i;for(null!=this.mdatOffset&&this.stream.seek(this.mdatOffset-8),i=this.tracks,e=0,r=i.length;e<r;e++)if(t=i[e],"soun"===t.type){this.track=t;break}return"soun"!==this.track.type?(this.track=null,this.emit("error","No audio tracks in m4a file.")):(this.emit("format",this.track.format),this.emit("duration",this.track.duration/this.track.timeScale*1e3|0),this.track.cookie&&this.emit("cookie",this.track.cookie),this.seekPoints=this.track.seekPoints)}),h("mdat",function(){var t,e,r,i,n,s,o,a;if(!this.startedData){if(null==this.mdatOffset&&(this.mdatOffset=this.stream.offset),0===this.tracks.length)return t=Math.min(this.stream.remainingBytes(),this.len),this.stream.advance(t),void(this.len-=t);this.chunkIndex=0,this.stscIndex=0,this.sampleIndex=0,this.tailOffset=0,this.tailSamples=0,this.startedData=!0}if(!this.readChapters){if(this.readChapters=this.parseChapters(),this["break"]=!this.readChapters)return;this.stream.seek(this.mdatOffset)}if(n=this.track.chunkOffsets[this.chunkIndex]+this.tailOffset,r=0,!this.stream.available(n-this.stream.offset))return void(this["break"]=!0);for(this.stream.seek(n);this.chunkIndex<this.track.chunkOffsets.length;){for(i=this.track.stsc[this.stscIndex].count-this.tailSamples,e=0,s=a=0;a<i&&(o=this.track.sampleSize||this.track.sampleSizes[this.sampleIndex],this.stream.available(r+o));s=a+=1)r+=o,e+=o,this.sampleIndex++;if(s<i){this.tailOffset+=e,this.tailSamples+=s;break}if(this.chunkIndex++,this.tailOffset=0,this.tailSamples=0,this.stscIndex+1<this.track.stsc.length&&this.chunkIndex+1===this.track.stsc[this.stscIndex+1].first&&this.stscIndex++,n+r!==this.track.chunkOffsets[this.chunkIndex])break}return r>0?(this.emit("data",this.stream.readBuffer(r)),this["break"]=this.chunkIndex===this.track.chunkOffsets.length):this["break"]=!0}),e.prototype.parseChapters=function(){var t,e,r,i,n,s,o,a,h,u,f,c,l;if(!((null!=(u=this.track.chapterTracks)?u.length:void 0)>0))return!0;for(e=this.track.chapterTracks[0],f=this.tracks,a=0,h=f.length;a<h&&(o=f[a],o.id!==e);a++);for(o.id!==e&&this.emit("error","Chapter track does not exist."),null==this.chapters&&(this.chapters=[]);this.chapters.length<o.seekPoints.length;){if(n=o.seekPoints[this.chapters.length],!this.stream.available(n.position-this.stream.offset+32))return!1;if(this.stream.seek(n.position),r=this.stream.readUInt16(),s=null,!this.stream.available(r))return!1;r>2&&(t=this.stream.peekUInt16(),65279!==t&&65534!==t||(s=this.stream.readString(r,"utf16-bom"))),null==s&&(s=this.stream.readString(r,"utf8")),i=null!=(c=null!=(l=o.seekPoints[this.chapters.length+1])?l.timestamp:void 0)?c:o.duration,this.chapters.push({title:s,timestamp:n.timestamp/o.timeScale*1e3|0,duration:(i-n.timestamp)/o.timeScale*1e3|0})}return this.emit("chapters",this.chapters),!0},h("moov.udta.meta",function(){return this.metadata={},this.stream.advance(4)}),a("moov.udta.meta",function(){return this.emit("metadata",this.metadata)}),d=function(t,e,r){return h("moov.udta.meta.ilst."+t+".data",function(){return this.stream.advance(8),this.len-=8,r.call(this,e)})},m=function(t){return this.metadata[t]=this.stream.readString(this.len,"utf8")},d("alb","album",m),d("arg","arranger",m),d("art","artist",m),d("ART","artist",m),d("aART","albumArtist",m),d("catg","category",m),d("com","composer",m),d("cpy","copyright",m),d("cprt","copyright",m),d("cmt","comments",m),d("day","releaseDate",m),d("desc","description",m),d("gen","genre",m),d("grp","grouping",m),d("isr","ISRC",m),d("keyw","keywords",m),d("lab","recordLabel",m),d("ldes","longDescription",m),d("lyr","lyrics",m),d("nam","title",m),d("phg","recordingCopyright",m),d("prd","producer",m),d("prf","performers",m),d("purd","purchaseDate",m),d("purl","podcastURL",m),d("swf","songwriter",m),d("too","encoder",m),d("wrt","composer",m),d("covr","coverArt",function(t){return this.metadata[t]=this.stream.readBuffer(this.len)}),p=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychadelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk/Rock","National Folk","Swing","Fast Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Capella","Euro-House","Dance Hall"],d("gnre","genre",function(t){return this.metadata[t]=p[this.stream.readUInt16()-1]}),d("tmpo","tempo",function(t){return this.metadata[t]=this.stream.readUInt16()}),d("rtng","rating",function(t){var e;return e=this.stream.readUInt8(),this.metadata[t]=2===e?"Clean":0!==e?"Explicit":"None"}),l=function(t){return this.stream.advance(2),this.metadata[t]=this.stream.readUInt16()+" of "+this.stream.readUInt16(),this.stream.advance(this.len-6)},d("disk","diskNumber",l),d("trkn","trackNumber",l),f=function(t){return this.metadata[t]=1===this.stream.readUInt8()},d("cpil","compilation",f),d("pcst","podcast",f),d("pgap","gapless",f),e}(r),e.exports=i}).call(this)},{"../demuxer":14}],19:[function(t,e,r){(function(){var e,r,i={}.hasOwnProperty,n=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};e=t("../demuxer"),r=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}var i;return n(r,t),e.register(r),r.probe=function(t){return"RIFF"===t.peekString(0,4)&&"WAVE"===t.peekString(8,4)},i={1:"lpcm",3:"lpcm",6:"alaw",7:"ulaw"},r.prototype.readChunk=function(){var t,e,r;if(!this.readStart&&this.stream.available(12)){if("RIFF"!==this.stream.readString(4))return this.emit("error","Invalid WAV file.");if(this.fileSize=this.stream.readUInt32(!0),this.readStart=!0,"WAVE"!==this.stream.readString(4))return this.emit("error","Invalid WAV file.")}for(;this.stream.available(1);){switch(!this.readHeaders&&this.stream.available(8)&&(this.type=this.stream.readString(4),this.len=this.stream.readUInt32(!0)),this.type){case"fmt ":if(r=this.stream.readUInt16(!0),!(r in i))return this.emit("error","Unsupported format in WAV file.");this.format={formatID:i[r],floatingPoint:3===r,littleEndian:"lpcm"===i[r],channelsPerFrame:this.stream.readUInt16(!0),sampleRate:this.stream.readUInt32(!0),framesPerPacket:1},this.stream.advance(4),this.stream.advance(2),this.format.bitsPerChannel=this.stream.readUInt16(!0),this.format.bytesPerPacket=this.format.bitsPerChannel/8*this.format.channelsPerFrame,this.emit("format",this.format),this.stream.advance(this.len-16);break;case"data":this.sentDuration||(e=this.format.bitsPerChannel/8,this.emit("duration",this.len/e/this.format.channelsPerFrame/this.format.sampleRate*1e3|0),this.sentDuration=!0),t=this.stream.readSingleBuffer(this.len),this.len-=t.length,this.readHeaders=this.len>0,this.emit("data",t);break;default:if(!this.stream.available(this.len))return;this.stream.advance(this.len)}"data"!==this.type&&(this.readHeaders=!1)}},r}(e)}).call(this)},{"../demuxer":14}],20:[function(t,e,r){(function(){var r,i,n=function(t,e){return function(){return t.apply(e,arguments)}},s={}.hasOwnProperty,o=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};i=t("./core/events"),r=function(t){function e(t,e){this.sampleRate=t,this.channels=e,this.updateTime=n(this.updateTime,this),this.playing=!1,this.currentTime=0,this._lastTime=0}var r;return o(e,t),e.prototype.start=function(){if(!this.playing){if(this.playing=!0,null==this.device&&(this.device=e.create(this.sampleRate,this.channels)),!this.device)throw new Error("No supported audio device found.");return this._lastTime=this.device.getDeviceTime(),this._timer=setInterval(this.updateTime,200),this.device.on("refill",this.refill=function(t){return function(e){return t.emit("refill",e)}}(this))}},e.prototype.stop=function(){if(this.playing)return this.playing=!1,this.device.off("refill",this.refill),clearInterval(this._timer)},e.prototype.destroy=function(){var t;return this.stop(),null!=(t=this.device)?t.destroy():void 0},e.prototype.seek=function(t){return this.currentTime=t,this.playing&&(this._lastTime=this.device.getDeviceTime()),this.emit("timeUpdate",this.currentTime)},e.prototype.updateTime=function(){var t;return t=this.device.getDeviceTime(),this.currentTime+=(t-this._lastTime)/this.device.sampleRate*1e3|0,this._lastTime=t,this.emit("timeUpdate",this.currentTime)},r=[],e.register=function(t){return r.push(t)},e.create=function(t,e){var i,n,s;for(n=0,s=r.length;n<s;n++)if(i=r[n],i.supported)return new i(t,e);return null},e}(i),e.exports=r}).call(this)},{"./core/events":8}],21:[function(t,e,r){(function(){var e,r,i,n,s=function(t,e){return function(){return t.apply(e,arguments)}},o={}.hasOwnProperty,a=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};i=t("../core/events"),r=t("../device"),e=t("../core/buffer"),n=function(t){function i(t,e){this.sampleRate=t,this.channels=e,this.refill=s(this.refill,this),this.audio=new Audio,this.audio.mozSetup(this.channels,this.sampleRate),this.writePosition=0,this.prebufferSize=this.sampleRate/2,this.tail=null,this.timer=n(this.refill,100)}var n,o;return a(i,t),r.register(i),i.supported="undefined"!=typeof Audio&&null!==Audio&&"mozWriteAudio"in new Audio,i.prototype.refill=function(){var t,e,r,i;this.tail&&(i=this.audio.mozWriteAudio(this.tail),this.writePosition+=i,this.writePosition<this.tail.length?this.tail=this.tail.subarray(i):this.tail=null),r=this.audio.mozCurrentSampleOffset(),t=r+this.prebufferSize-this.writePosition,t>0&&(e=new Float32Array(t),this.emit("refill",e),i=this.audio.mozWriteAudio(e),i<e.length&&(this.tail=e.subarray(i)),this.writePosition+=i)},i.prototype.destroy=function(){return o(this.timer)},i.prototype.getDeviceTime=function(){return this.audio.mozCurrentSampleOffset()/this.channels},n=function(t,r){var i,n;return i=e.makeBlobURL("setInterval(function() { postMessage('ping'); }, "+r+");"),null==i?setInterval(t,r):(n=new Worker(i),n.onmessage=t,n.url=i,n)},o=function(t){return t.terminate?(t.terminate(),URL.revokeObjectURL(t.url)):clearInterval(t)},i}(i)}).call(this)},{"../core/buffer":6,"../core/events":8,"../device":20}],22:[function(t,e,r){function i(t,e,r,i){this.fromSampleRate=+t,this.toSampleRate=+e,this.channels=0|r,this.inputBufferLength=i,this.initialize()}i.prototype.initialize=function(){if(!(this.fromSampleRate>0&&this.toSampleRate>0&&this.channels>0))throw new Error("Invalid settings specified for the resampler.");if(this.fromSampleRate==this.toSampleRate)this.resampler=this.bypassResampler,this.ratioWeight=1;else{this.ratioWeight=this.fromSampleRate/this.toSampleRate,this.fromSampleRate<this.toSampleRate?(this.compileLinearInterpolationFunction(),this.lastWeight=1):(this.compileMultiTapFunction(),this.tailExists=!1,this.lastWeight=0);var t=Math.ceil(this.inputBufferLength*this.toSampleRate/this.fromSampleRate/this.channels*1.01)*this.channels+this.channels;this.outputBuffer=new Float32Array(t),this.lastOutput=new Float32Array(this.channels)}},i.prototype.compileLinearInterpolationFunction=function(){for(var t="var outputOffset = 0;                var bufferLength = buffer.length;                if (bufferLength > 0) {                var weight = this.lastWeight;                var firstWeight = 0;                var secondWeight = 0;                var sourceOffset = 0;                var outputOffset = 0;                var outputBuffer = this.outputBuffer;                for (; weight < 1; weight += "+this.ratioWeight+") {                secondWeight = weight % 1;                firstWeight = 1 - secondWeight;",e=0;e<this.channels;++e)t+="outputBuffer[outputOffset++] = (this.lastOutput["+e+"] * firstWeight) + (buffer["+e+"] * secondWeight);";t+="}                weight -= 1;                for (bufferLength -= "+this.channels+", sourceOffset = Math.floor(weight) * "+this.channels+"; sourceOffset < bufferLength;) {                secondWeight = weight % 1;                firstWeight = 1 - secondWeight;";for(var e=0;e<this.channels;++e)t+="outputBuffer[outputOffset++] = (buffer[sourceOffset"+(e>0?" + "+e:"")+"] * firstWeight) + (buffer[sourceOffset + "+(this.channels+e)+"] * secondWeight);";t+="weight += "+this.ratioWeight+";                sourceOffset = Math.floor(weight) * "+this.channels+";                }";for(var e=0;e<this.channels;++e)t+="this.lastOutput["+e+"] = buffer[sourceOffset++];";t+="this.lastWeight = weight % 1;                }                return this.outputBuffer;",this.resampler=Function("buffer",t)},i.prototype.compileMultiTapFunction=function(){for(var t="var outputOffset = 0;                var bufferLength = buffer.length;                if (bufferLength > 0) {                var weight = 0;",e=0;e<this.channels;++e)t+="var output"+e+" = 0;";for(t+="var actualPosition = 0;                var amountToNext = 0;                var alreadyProcessedTail = !this.tailExists;                this.tailExists = false;                var outputBuffer = this.outputBuffer;                var currentPosition = 0;                do {                if (alreadyProcessedTail) {                weight = "+this.ratioWeight+";",e=0;e<this.channels;++e)t+="output"+e+" = 0;";for(t+="}                else {                weight = this.lastWeight;",e=0;e<this.channels;++e)t+="output"+e+" = this.lastOutput["+e+"];";for(t+="alreadyProcessedTail = true;                }                while (weight > 0 && actualPosition < bufferLength) {                amountToNext = 1 + actualPosition - currentPosition;                if (weight >= amountToNext) {",e=0;e<this.channels;++e)t+="output"+e+" += buffer[actualPosition++] * amountToNext;";for(t+="currentPosition = actualPosition;                weight -= amountToNext;                }                else {",e=0;e<this.channels;++e)t+="output"+e+" += buffer[actualPosition"+(e>0?" + "+e:"")+"] * weight;";for(t+="currentPosition += weight;                weight = 0;                break;                }                }                if (weight <= 0) {",e=0;e<this.channels;++e)t+="outputBuffer[outputOffset++] = output"+e+" / "+this.ratioWeight+";";for(t+="}                else {                this.lastWeight = weight;",e=0;e<this.channels;++e)t+="this.lastOutput["+e+"] = output"+e+";";t+="this.tailExists = true;                break;                }                } while (actualPosition < bufferLength);                }                return this.outputBuffer;",this.resampler=Function("buffer",t)},i.prototype.bypassResampler=function(t){return t},e.exports=i},{}],23:[function(t,e,r){(function(e){(function(){var r,i,n,s,o=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty,h=function(t,e){function r(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};i=t("../core/events"),r=t("../device"),n=t("./resampler"),s=function(t){function i(t,e){this.sampleRate=t,this.channels=e,this.refill=o(this.refill,this),this.context=null!=u?u:u=window.sharedAudioContext,this.deviceSampleRate=this.context.sampleRate,this.bufferSize=Math.ceil(CP_NODE_BUFFER_SIZE/(this.deviceSampleRate/this.sampleRate)*this.channels),this.bufferSize+=this.bufferSize%this.channels,this.deviceSampleRate!==this.sampleRate&&(this.resampler=new n(this.sampleRate,this.deviceSampleRate,this.channels,this.bufferSize)),this.node=this.context[a](CP_NODE_BUFFER_SIZE,this.channels,this.channels),this.node.onaudioprocess=this.refill,this.node.connect(this.context.destination);try{this.node.onstatechange=this.onNodeStateChange}catch(r){console.log("[audio_player] FAILED to set onNodeStateChange callback")}try{this.node.oncomplete=this.onComplete}catch(r){console.log("[audio_player] FAILED to set onComplete callback")}try{this.node.onended=this.onEnded}catch(r){console.log("[audio_player] FAILED to set onEnded callback")}this.onaudioprocessCallCount=0,this.onaudioprocessCallStartTime=0,console.log("[audio_player] init audio device, node buffer size: "+CP_NODE_BUFFER_SIZE+", deviceSampleRate: "+this.deviceSampleRate+", sampleRate: "+this.sampleRate+", channel count: "+this.channels+", buffer size: "+this.bufferSize+", drop threshold: "+CP_DROP_THRESHOLD_COUNT)}var s,a,u;return h(i,t),r.register(i),s=e.AudioContext||e.webkitAudioContext,i.supported=s&&("function"==typeof s.prototype[a="createScriptProcessor"]||"function"==typeof s.prototype[a="createJavaScriptNode"]),u=null,i.prototype.onNodeStateChange=function(t){console.log("[audio_player] onNodeStateChange called: "+(t?JSON.stringify(t):"null"))},i.prototype.onComplete=function(t){console.log("[audio_player] onComplete called: "+(t?JSON.stringify(t):"null"))},i.prototype.onEnded=function(t){console.log("[audio_player] onEnded called: "+(t?JSON.stringify(t):"null"))},i.prototype.refill=function(t){if(this.onaudioprocessCallCount+=1,this.onaudioprocessCallCount%CP_AUDIO_CALL_BACK_PERIOD_CHECK_COUNT==1){var e=Date.now(),r=0;if(this.onaudioprocessCallStartTime>0){var i=e-this.onaudioprocessCallStartTime;0!=i&&(r=1e3*CP_AUDIO_CALL_BACK_PERIOD_CHECK_COUNT/i)}this.onaudioprocessCallStartTime=e,r<CP_AUDIO_CALL_BACK_LOW_AVG_COUNT&&console.warn("[audio_player] onaudioprocess call count: "+this.onaudioprocessCallCount+". LOW avgCallCount: "+r)}var n,s,o,a,h,u,f,c,l,p;for(u=t.outputBuffer,n=u.numberOfChannels,s=new Array(n),a=f=0;f<n;a=f+=1)s[a]=u.getChannelData(a);for(o=new Float32Array(this.bufferSize),this.emit("refill",o),this.resampler&&(o=this.resampler.resampler(o)),a=c=0,p=u.length;c<p;a=c+=1)for(h=l=0;l<n;h=l+=1)s[h][a]=o[a*n+h]},i.prototype.destroy=function(){return this.node.disconnect(0)},i.prototype.getDeviceTime=function(){return this.context.currentTime*this.sampleRate},i}(i)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/events":8,"../device":20,"./resampler":22}],24:[function(t,e,r){(function(){var t;t=function(){function t(t,e){t&&e&&Object.defineProperty(this,"value",{get:function(){return t[e]}})}return t.prototype.process=function(t){},t}(),e.exports=t}).call(this)},{}],25:[function(t,e,r){(function(){var r,i,n={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};i=t("../filter"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.process=function(t){var e,r,i,n;if(0!==this.value)for(r=Math.max(-50,Math.min(50,this.value)),e=i=0,n=t.length;i<n;e=i+=2)t[e]*=Math.min(1,(50-r)/50),t[e+1]*=Math.min(1,(50+r)/50)},e}(i),e.exports=r}).call(this)},{"../filter":24}],26:[function(t,e,r){(function(){var r,i,n={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};r=t("../filter"),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.process=function(t){var e,r,i,n;if(!(this.value>=100))for(r=Math.max(0,Math.min(100,this.value))/100,e=i=0,n=t.length;i<n;e=i+=1)t[e]*=r},e}(r),e.exports=i}).call(this)},{"../filter":24}],27:[function(t,e,r){(function(){var r,i,n,s,o,a,h,u=function(t,e){return function(){return t.apply(e,arguments)}},f={}.hasOwnProperty,c=function(t,e){function r(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};s=t("./core/events"),r=t("./asset"),h=t("./filters/volume"),n=t("./filters/balance"),a=t("./queue"),i=t("./device"),o=function(t){function e(t){this.asset=t,this.startPlaying=u(this.startPlaying,this),this.playing=!1,this.buffered=0,this.currentTime=0,this.duration=0,this.volume=100,this.pan=0,this.metadata={},this.filters=[new h(this,"volume"),new n(this,"pan")],this.asset.on("buffer",function(t){return function(e){return t.buffered=e,t.emit("buffer",t.buffered)}}(this)),this.asset.on("decodeStart",function(t){return function(){return t.queue=new a(t.asset),t.queue.once("ready",t.startPlaying)}}(this)),this.asset.on("format",function(t){return function(e){return t.format=e,t.emit("format",t.format)}}(this)),this.asset.on("metadata",function(t){return function(e){return t.metadata=e,t.emit("metadata",t.metadata)}}(this)),this.asset.on("duration",function(t){return function(e){return t.duration=e,t.emit("duration",t.duration)}}(this)),this.asset.on("error",function(t){return function(e){return t.emit("error",e)}}(this)),this.asset.on("connected",function(t){return function(){return t.emit("connected")}}(this))}return c(e,t),e.fromURL=function(t,i){return new e(r.fromURL(t,i))},e.fromFile=function(t){return new e(r.fromFile(t))},e.fromBuffer=function(t){return new e(r.fromBuffer(t))},e.prototype.preload=function(){if(this.asset)return this.startedPreloading=!0,this.asset.start(!1)},e.prototype.play=function(){var t;if(!this.playing)return this.startedPreloading||this.preload(),this.playing=!0,null!=(t=this.device)?t.start():void 0},e.prototype.pause=function(){var t;if(this.playing)return this.playing=!1,null!=(t=this.device)?t.stop():void 0},e.prototype.togglePlayback=function(){return this.playing?this.pause():this.play()},e.prototype.stop=function(){var t;return this.pause(),this.asset.stop(),null!=(t=this.device)?t.destroy():void 0},e.prototype.seek=function(t){
var e;return null!=(e=this.device)&&e.stop(),this.queue.once("ready",function(t){return function(){var e,r;if(null!=(e=t.device)&&e.seek(t.currentTime),t.playing)return null!=(r=t.device)?r.start():void 0}}(this)),t=t/1e3*this.format.sampleRate,t=this.asset.decoder.seek(t),this.currentTime=t/this.format.sampleRate*1e3|0,this.queue.reset(),this.currentTime},e.prototype.startPlaying=function(){var t,e;return t=this.queue.read(),e=0,this.device=new i(this.format.sampleRate,this.format.channelsPerFrame),this.device.on("timeUpdate",function(t){return function(e){return t.currentTime=e,t.emit("progress",t.currentTime)}}(this)),this.refill=function(r){return function(i){var n,s,o,a,h,u,f,c;if(r.playing){for(t||(t=r.queue.read(),e=0),n=0;t&&n<i.length;){for(a=Math.min(t.length-e,i.length-n),o=h=0;h<a;o=h+=1)i[n++]=t[e++];e===t.length&&(t=r.queue.read(),e=0)}for(n<i.length/2&&console.log("[audio_player] refill bufferOffset: "+n+" smaller than (buffer.length / 2): "+i.length/2),c=r.filters,u=0,f=c.length;u<f;u++)s=c[u],s.process(i);t||r.queue.ended&&(r.currentTime=r.duration,r.emit("progress",r.currentTime),r.emit("end"),r.stop())}}}(this),this.device.on("refill",this.refill),this.playing&&this.device.start(),this.emit("ready")},e.prototype.destroy=function(){var t,e;return this.stop(),null!=(t=this.device)&&t.off(),null!=(e=this.asset)&&e.destroy(),this.off()},e}(s),e.exports=o}).call(this)},{"./asset":1,"./core/events":8,"./device":20,"./filters/balance":25,"./filters/volume":26,"./queue":28}],28:[function(t,e,r){(function(){var r,i,n=function(t,e){return function(){return t.apply(e,arguments)}},s={}.hasOwnProperty,o=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};r=t("./core/events"),i=function(t){function e(t){this.asset=t,this.write=n(this.write,this),this.readyMark=CP_READY_MARK,this.startDropCheckTime=0,this.finished=!1,this.buffering=!0,this.ended=!1,this.buffers=[],this.asset.on("data",this.write),this.asset.on("end",function(t){return function(){return t.ended=!0}}(this)),this.asset.decodePacket()}return o(e,t),e.prototype.write=function(t){if(t){if(!CP_DO_AUDIO_DECODE){var e=Date.now();this.startDropCheckTime<=0?this.startDropCheckTime=e:this.buffers.length>CP_DROP_THRESHOLD_COUNT?e-this.startDropCheckTime>=CP_DROP_DURATION&&(console.log("[audio_player] enter drop frame logic, current buffer count: "+this.buffers.length),this.startDropCheckTime=e,this.buffers.length=parseInt(.5*CP_DROP_THRESHOLD_COUNT)):this.startDropCheckTime=e}this.buffers.push(t)}if(this.buffering)return this.buffers.length>=this.readyMark||this.ended?(this.buffering=!1,this.emit("ready")):this.asset.decodePacket()},e.prototype.read=function(){if(0===this.buffers.length)return null;if(CP_DO_AUDIO_DECODE){this.buffers.length,this.buffers[0].length,this.asset.decodePacket(),this.buffers[0].length}return this.buffers.shift()},e.prototype.reset=function(){return this.buffers.length=0,this.buffering=!0,this.asset.decodePacket()},e}(r),e.exports=i}).call(this)},{"./core/events":8}],29:[function(t,e,r){var i,n,s,o={}.hasOwnProperty,a=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=t("../../core/events"),i=t("../../core/buffer"),s=function(t){function e(t){return this.file=t,"undefined"==typeof FileReader||null===FileReader?this.emit("error","This browser does not have FileReader support."):(this.offset=0,this.length=this.file.size,this.chunkSize=1<<20,void(this.file[this.slice="slice"]||this.file[this.slice="webkitSlice"]||this.file[this.slice="mozSlice"]))}return a(e,t),e.prototype.start=function(){return this.reader&&!this.active?this.loop():(this.reader=new FileReader,this.active=!0,this.reader.onload=function(t){return function(e){var r;if(r=new i(new Uint8Array(e.target.result)),t.offset+=r.length,t.emit("data",r),t.active=!1,t.offset<t.length)return t.loop()}}(this),this.reader.onloadend=function(t){return function(){if(t.offset===t.length)return t.emit("end"),t.reader=null}}(this),this.reader.onerror=function(t){return function(e){return t.emit("error",e)}}(this),this.reader.onprogress=function(t){return function(e){return t.emit("progress",(t.offset+e.loaded)/t.length*100)}}(this),this.loop())},e.prototype.loop=function(){var t,e;return this.active=!0,e=Math.min(this.offset+this.chunkSize,this.length),t=this.file[this.slice](this.offset,e),this.reader.readAsArrayBuffer(t)},e.prototype.pause=function(){var t;this.active=!1;try{return null!=(t=this.reader)?t.abort():void 0}catch(e){}},e.prototype.reset=function(){return this.pause(),this.offset=0},e}(n),e.exports=s},{"../../core/buffer":6,"../../core/events":8}],30:[function(t,e,r){var i,n,s,o={}.hasOwnProperty,a=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=t("../../core/events"),i=t("../../core/buffer"),s=function(t){function e(t,e){this.url=t,this.opts=null!=e?e:{},this.chunkSize=1<<20,this.inflight=!1,this.opts.length&&(this.length=this.opts.length),this.reset()}return a(e,t),e.prototype.start=function(){return this.length&&!this.inflight?this.loop():(this.inflight=!0,this.xhr=new XMLHttpRequest,this.xhr.onload=function(t){return function(e){return t.length=parseInt(t.xhr.getResponseHeader("Content-Length")),t.inflight=!1,t.loop()}}(this),this.xhr.onerror=function(t){return function(e){return t.pause(),t.emit("error",e)}}(this),this.xhr.onabort=function(t){return function(e){return t.inflight=!1}}(this),this.xhr.open("HEAD",this.url,!0),this.xhr.send(null))},e.prototype.loop=function(){var t;return this.inflight||!this.length?this.emit("error","Something is wrong in HTTPSource.loop"):(this.inflight=!0,this.xhr=new XMLHttpRequest,this.xhr.onload=function(t){return function(e){var r,n,s,o,a,h;if(t.xhr.response)r=new Uint8Array(t.xhr.response);else for(o=t.xhr.responseText,r=new Uint8Array(o.length),s=a=0,h=o.length;0<=h?a<h:a>h;s=0<=h?++a:--a)r[s]=255&o.charCodeAt(s);if(n=new i(r),t.offset+=n.length,t.emit("data",n),t.offset>=t.length&&t.emit("end"),t.inflight=!1,!(t.offset>=t.length))return t.loop()}}(this),this.xhr.onprogress=function(t){return function(e){return t.emit("progress",(t.offset+e.loaded)/t.length*100)}}(this),this.xhr.onerror=function(t){return function(e){return t.emit("error",e),t.pause()}}(this),this.xhr.onabort=function(t){return function(e){return t.inflight=!1}}(this),this.xhr.open("GET",this.url,!0),this.xhr.responseType="arraybuffer",t=Math.min(this.offset+this.chunkSize,this.length-1),this.xhr.setRequestHeader("If-None-Match","webkit-no-cache"),this.xhr.setRequestHeader("Range","bytes="+this.offset+"-"+t),this.xhr.overrideMimeType("text/plain; charset=x-user-defined"),this.xhr.send(null))},e.prototype.pause=function(){var t;return this.inflight=!1,null!=(t=this.xhr)?t.abort():void 0},e.prototype.reset=function(){return this.pause(),this.offset=0},e}(n),e.exports=s},{"../../core/buffer":6,"../../core/events":8}],31:[function(t,e,r){(function(r){(function(){var i,n,s,o,a=function(t,e){return function(){return t.apply(e,arguments)}},h={}.hasOwnProperty,u=function(t,e){function r(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};o=t("../core/events"),n=t("../core/bufferlist"),i=t("../core/buffer"),s=function(t){function e(t){this.loop=a(this.loop,this),t instanceof n?this.list=t:(this.list=new n,this.list.append(new i(t))),this.paused=!0}var s,o;return u(e,t),o=r.setImmediate||function(t){return r.setTimeout(t,0)},s=r.clearImmediate||function(t){return r.clearTimeout(t)},e.prototype.start=function(){return this.paused=!1,this._timer=o(this.loop)},e.prototype.check=function(){if(this.paused)return this.paused=!1,this._timer=o(this.loop)},e.prototype.loop=function(){return this.emit("progress",(this.list.numBuffers-this.list.availableBuffers+1)/this.list.numBuffers*100|0),this.emit("data",this.list.first),this.list.advance()?o(this.loop):this.paused=!0},e.prototype.pause=function(){return s(this._timer),this.paused=!0},e.prototype.reset=function(){return this.pause(),this.list.rewind()},e}(o),e.exports=s}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/buffer":6,"../core/bufferlist":7,"../core/events":8}],32:[function(t,e,r){var i,n,s;s=t("./src/aurora");for(i in s)n=s[i],r[i]=n;t("./src/devices/webaudio"),t("./src/devices/mozilla")},{"./src/aurora":2,"./src/devices/mozilla":21,"./src/devices/webaudio":23}]},{},[32])(32)});
!function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var h="function"==typeof require&&require;if(!s&&h)return h(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=r[o]={exports:{}};t[o][0].call(f.exports,function(e){var r=t[o][1][e];return i(r?r:e)},f,f.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){(function(r){var n="undefined"!=typeof window?window.AV:"undefined"!=typeof r?r.AV:null,i=e("./tables"),a=n.Demuxer.extend(function(){n.Demuxer.register(this),this.probe=function(e){for(var t=e.offset;e.available(2);)if(65520===(65526&e.readUInt16()))return e.seek(t),!0;return e.seek(t),!1},this.prototype.init=function(){this.bitstream=new n.Bitstream(this.stream)},this.readHeader=function(e){if(4095!==e.read(12))throw new Error("Invalid ADTS header.");var t={};e.advance(3);var r=!!e.read(1);return t.profile=e.read(2)+1,t.samplingIndex=e.read(4),e.advance(1),t.chanConfig=e.read(3),e.advance(4),t.frameLength=e.read(13),e.advance(11),t.numFrames=e.read(2)+1,r||e.advance(16),t},this.prototype.readChunk=function(){if(!this.sentHeader){var e=this.stream.offset,t=a.readHeader(this.bitstream);this.emit("format",{formatID:"aac ",sampleRate:i.SAMPLE_RATES[t.samplingIndex],channelsPerFrame:t.chanConfig,bitsPerChannel:16});var r=new Uint8Array(2);r[0]=t.profile<<3|t.samplingIndex>>1&7,r[1]=(1&t.samplingIndex)<<7|t.chanConfig<<3,this.emit("cookie",new n.Buffer(r)),this.stream.seek(e),this.sentHeader=!0}for(;this.stream.available(1);){var o=this.stream.readSingleBuffer(this.stream.remainingBytes());this.emit("data",o)}}});t.exports=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./tables":11}],2:[function(e,t,r){function n(e){this.ics=new i(e),this.channelPair=new Array(8),this.idSelect=new Int32Array(8),this.chSelect=new Int32Array(8),this.gain=new Array(16)}var i=e("./ics"),a=e("./huffman");n.BEFORE_TNS=0,n.AFTER_TNS=1,n.AFTER_IMDCT=2;const o=new Float32Array([1.0905077326652577,1.189207115002721,1.4142135623730951,2]);n.prototype={decode:function(e,t){var r=this.channelPair,s=this.idSelect,h=this.chSelect;this.couplingPoint=2*e.read(1),this.coupledCount=e.read(3);for(var f=0,c=0;c<=this.coupledCount;c++)f++,r[c]=e.read(1),s[c]=e.read(4),r[c]?(h[c]=e.read(2),3===h[c]&&f++):h[c]=2;this.couplingPoint+=e.read(1),this.couplingPoint|=this.couplingPoint>>>1;var d=e.read(1),l=o[e.read(2)];this.ics.decode(e,t,!1);for(var p=this.ics.info.groupCount,u=this.ics.info.maxSFB,w=this.ics.bandTypes,c=0;c<f;c++){var v=0,g=1,E=0,m=1;c>0&&(g=this.couplingPoint===n.AFTER_IMDCT?1:e.read(1),E=g?a.decodeScaleFactor(e)-60:0,m=Math.pow(l,-E));var T=this.gain[c]=new Float32Array(120);if(this.couplingPoint===n.AFTER_IMDCT)T[0]=m;else for(var S=0;S<p;S++)for(var A=0;A<u;A++)if(w[v]!==i.ZERO_BT){if(0===g){var y=a.decodeScaleFactor(e)-60;if(0!==y){var _=1;y=E+=y,d||(_-=2*(1&y),y>>>=1),m=Math.pow(l,-y)*_}}T[v++]=m}}},applyIndependentCoupling:function(e,t){for(var r=this.gain[e][0],n=this.ics.data,i=0;i<t.length;i++)t[i]+=r*n[i]},applyDependentCoupling:function(e,t){for(var r=this.ics.info,n=r.swbOffsets,a=r.groupCount,o=r.maxSFB,s=this.ics.bandTypes,h=this.ics.data,f=0,c=0,d=this.gain[e],l=0;l<a;l++){for(var p=r.groupLength[l],u=0;u<o;u++,f++)if(s[f]!==i.ZERO_BT)for(var w=d[f],v=0;v<p;v++)for(var g=n[u];g<n[swb+1];g++)t[c+128*v+g]+=w*h[c+128*v+g];c+=128*p}}},t.exports=n},{"./huffman":7,"./ics":8}],3:[function(e,t,r){function n(e){this.ms_used=[],this.left=new i(e),this.right=new i(e)}var i=e("./ics");const a=128,o=0,s=1,h=2;n.prototype.decode=function(e,t){var r=this.left,n=this.right,i=this.ms_used;if(this.commonWindow=!!e.read(1)){r.info.decode(e,t,!0),n.info=r.info;var f=e.read(2);switch(this.maskPresent=!!f,f){case s:for(var c=r.info.groupCount*r.info.maxSFB,d=0;d<c;d++)i[d]=!!e.read(1);break;case o:case h:for(var l=!!f,d=0;d<a;d++)i[d]=l;break;default:throw new Error("Reserved ms mask type: "+f)}}else for(var d=0;d<a;d++)i[d]=!1;r.decode(e,t,this.commonWindow),n.decode(e,t,this.commonWindow)},t.exports=n},{"./ics":8}],4:[function(e,t,r){(function(r){var n="undefined"!=typeof window?window.AV:"undefined"!=typeof r?r.AV:null,i=e("./adts_demuxer"),a=e("./ics"),o=e("./cpe"),s=e("./cce"),h=e("./filter_bank"),f=e("./tables"),c=n.Decoder.extend(function(){n.Decoder.register("mp4a",this),n.Decoder.register("aac ",this);const e=1,t=2,r=4,c=31,d=0;this.prototype.init=function(){this.format.floatingPoint=!0},this.prototype.setCookie=function(i){var a=n.Stream.fromBuffer(i),o=new n.Bitstream(a);if(this.config={},this.config.profile=o.read(5),this.config.profile===c&&(this.config.profile=32+o.read(6)),this.config.sampleIndex=o.read(4),15===this.config.sampleIndex){this.config.sampleRate=o.read(24);for(var s=0;s<f.SAMPLE_RATES.length;s++)if(f.SAMPLE_RATES[s]===this.config.sampleRate){this.config.sampleIndex=s;break}}else this.config.sampleRate=f.SAMPLE_RATES[this.config.sampleIndex];switch(this.config.chanConfig=o.read(4),this.format.channelsPerFrame=this.config.chanConfig,this.config.profile){case e:case t:case r:if(o.read(1))throw new Error("frameLengthFlag not supported");if(this.config.frameLength=1024,o.read(1)&&o.advance(14),o.read(1)&&(this.config.profile>16&&(this.config.sectionDataResilience=o.read(1),this.config.scalefactorResilience=o.read(1),this.config.spectralDataResilience=o.read(1)),o.advance(1)),this.config.chanConfig===d)throw o.advance(4),new Error("PCE unimplemented");break;default:throw new Error("AAC profile "+this.config.profile+" not supported.")}this.filter_bank=new h((!1),this.config.chanConfig)};const l=0,p=1,u=2,w=3,v=4,g=5,E=6,m=7;this.prototype.readChunk=function(){var e=this.bitstream;4095===e.peek(12)&&i.readHeader(e),this.cces=[];for(var t=[],r=this.config,n=r.frameLength,h=null;(h=e.read(3))!==m;){var f=e.read(4);switch(h){case l:case w:var c=new a(this.config);c.id=f,t.push(c),c.decode(e,r,!1);break;case p:var d=new o(this.config);d.id=f,t.push(d),d.decode(e,r);break;case u:var T=new s(this.config);this.cces.push(T),T.decode(e,r);break;case v:var S=e.read(1),A=e.read(8);255===A&&(A+=e.read(8)),S&&e.align(),e.advance(8*A);break;case g:throw new Error("TODO: PCE_ELEMENT");case E:15===f&&(f+=e.read(8)-1),e.advance(8*f);break;default:throw new Error("Unknown element")}}e.align(),this.process(t);for(var y=this.data,_=y.length,C=new Float32Array(n*_),F=0,b=0;b<n;b++)for(var I=0;I<_;I++)C[F++]=y[I][b]/32768;return C},this.prototype.process=function(e){for(var t=this.config.chanConfig,r=1,n=r*this.config.frameLength,i=this.data=[],h=0;h<t;h++)i[h]=new Float32Array(n);for(var f=0,h=0;h<e.length&&f<t;h++){var c=e[h];if(c instanceof a)f+=this.processSingle(c,f);else if(c instanceof o)this.processPair(c,f),f+=2;else{if(!(c instanceof s))throw new Error("Unknown element found.");f++}}},this.prototype.processSingle=function(t,n){var i=this.config.profile,a=t.info,o=t.data;if(i===e)throw new Error("Main prediction unimplemented");if(i===r)throw new Error("LTP prediction unimplemented");if(this.applyChannelCoupling(t,s.BEFORE_TNS,o,null),t.tnsPresent&&t.tns.process(t,o,!1),this.applyChannelCoupling(t,s.AFTER_TNS,o,null),this.filter_bank.process(a,o,this.data[n],n),i===r)throw new Error("LTP prediction unimplemented");if(this.applyChannelCoupling(t,s.AFTER_IMDCT,this.data[n],null),t.gainPresent)throw new Error("Gain control not implemented");if(this.sbrPresent)throw new Error("SBR not implemented");return 1},this.prototype.processPair=function(t,n){var i=this.config.profile,a=t.left,o=t.right,h=a.info,f=o.info,c=a.data,d=o.data;if(t.commonWindow&&t.maskPresent&&this.processMS(t,c,d),i===e)throw new Error("Main prediction unimplemented");if(this.processIS(t,c,d),i===r)throw new Error("LTP prediction unimplemented");if(this.applyChannelCoupling(t,s.BEFORE_TNS,c,d),a.tnsPresent&&a.tns.process(a,c,!1),o.tnsPresent&&o.tns.process(o,d,!1),this.applyChannelCoupling(t,s.AFTER_TNS,c,d),this.filter_bank.process(h,c,this.data[n],n),this.filter_bank.process(f,d,this.data[n+1],n+1),i===r)throw new Error("LTP prediction unimplemented");if(this.applyChannelCoupling(t,s.AFTER_IMDCT,this.data[n],this.data[n+1]),a.gainPresent)throw new Error("Gain control not implemented");if(o.gainPresent)throw new Error("Gain control not implemented");if(this.sbrPresent)throw new Error("SBR not implemented")},this.prototype.processIS=function(e,t,r){for(var n=e.right,i=n.info,o=i.swbOffsets,s=i.groupCount,h=i.maxSFB,f=n.bandTypes,c=n.sectEnd,d=n.scaleFactors,l=0,p=0,u=0;u<s;u++){for(var w=0;w<h;){var v=c[l];if(f[l]===a.INTENSITY_BT||f[l]===a.INTENSITY_BT2)for(;w<v;w++,l++){var g=f[l]===a.INTENSITY_BT?1:-1;e.maskPresent&&(g*=e.ms_used[l]?-1:1);for(var E=g*d[l],m=0;m<i.groupLength[u];m++)for(var T=p+128*m+o[w],S=o[w+1]-o[w],A=0;A<S;A++)r[T+A]=t[T+A]*E}else l+=v-w,w=v}p+=128*i.groupLength[u]}},this.prototype.processMS=function(e,t,r){for(var n=e.left,i=n.info,o=i.swbOffsets,s=i.groupCount,h=i.maxSFB,f=n.bandTypes,c=e.right.bandTypes,d=0,l=0,p=0;p<s;p++){for(var u=0;u<h;u++,l++)if(e.ms_used[l]&&f[l]<a.NOISE_BT&&c[l]<a.NOISE_BT)for(var w=0;w<i.groupLength[p];w++)for(var v=d+128*w+o[u],g=0;g<o[u+1]-o[u];g++){var E=t[v+g]-r[v+g];t[v+g]+=r[v+g],r[v+g]=E}d+=128*i.groupLength[p]}},this.prototype.applyChannelCoupling=function(e,t,r,n){for(var i=this.cces,a=e instanceof o,h=t===s.AFTER_IMDCT?"applyIndependentCoupling":"applyDependentCoupling",f=0;f<i.length;f++){var c=i[f],d=0;if(c.couplingPoint===t)for(var l=0;l<c.coupledCount;l++){var p=c.chSelect[l];c.channelPair[l]===a&&c.idSelect[l]===e.id?(1!==p&&(c[h](d,r),p&&d++),2!==p&&c[h](d++,n)):d+=1+(3===p?1:0)}}}});t.exports=c}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./adts_demuxer":1,"./cce":2,"./cpe":3,"./filter_bank":6,"./ics":8,"./tables":11}],5:[function(e,t,r){function n(e){switch(this.length=e,e){case 64:this.roots=i(64);break;case 512:this.roots=a(512);break;case 60:this.roots=i(60);break;case 480:this.roots=a(480);break;default:throw new Error("unexpected FFT length: "+e)}this.rev=new Array(e);for(var t=0;t<e;t++)this.rev[t]=new Float32Array(2);this.a=new Float32Array(2),this.b=new Float32Array(2),this.c=new Float32Array(2),this.d=new Float32Array(2),this.e1=new Float32Array(2),this.e2=new Float32Array(2)}function i(e){for(var t=2*Math.PI/e,r=Math.cos(t),n=Math.sin(t),i=new Array(e),a=0;a<e;a++)i[a]=new Float32Array(2);i[0][0]=1,i[0][1]=0;for(var o=0,a=1;a<e;a++)i[a][0]=i[a-1][0]*r+o*n,o=o*r-i[a-1][0]*n,i[a][1]=-o;return i}function a(e){for(var t=2*Math.PI/e,r=Math.cos(t),n=Math.sin(t),i=new Array(e),a=0;a<e;a++)i[a]=new Float32Array(3);i[0][0]=1,i[0][1]=0,i[0][2]=0;for(var a=1;a<e;a++)i[a][0]=i[a-1][0]*r+i[a-1][2]*n,i[a][2]=i[a-1][2]*r-i[a-1][0]*n,i[a][1]=-i[a][2];return i}n.prototype.process=function(e,t){for(var r=this.length,n=t?2:1,i=t?r:1,a=this.rev,o=this.roots,s=0,h=0;h<r;h++){a[h][0]=e[s][0],a[h][1]=e[s][1];for(var f=r>>>1;s>=f&&f>0;)s-=f,f>>=1;s+=f}for(var c=this.a,d=this.b,l=this.c,p=this.d,u=this.e1,w=this.e2,h=0;h<r;h++)e[h][0]=a[h][0],e[h][1]=a[h][1];for(var h=0;h<r;h+=4)c[0]=e[h][0]+e[h+1][0],c[1]=e[h][1]+e[h+1][1],d[0]=e[h+2][0]+e[h+3][0],d[1]=e[h+2][1]+e[h+3][1],l[0]=e[h][0]-e[h+1][0],l[1]=e[h][1]-e[h+1][1],p[0]=e[h+2][0]-e[h+3][0],p[1]=e[h+2][1]-e[h+3][1],e[h][0]=c[0]+d[0],e[h][1]=c[1]+d[1],e[h+2][0]=c[0]-d[0],e[h+2][1]=c[1]-d[1],u[0]=l[0]-p[1],u[1]=l[1]+p[0],w[0]=l[0]+p[1],w[1]=l[1]-p[0],t?(e[h+1][0]=w[0],e[h+1][1]=w[1],e[h+3][0]=u[0],e[h+3][1]=u[1]):(e[h+1][0]=u[0],e[h+1][1]=u[1],e[h+3][0]=w[0],e[h+3][1]=w[1]);for(var h=4;h<r;h<<=1)for(var v=h<<1,g=r/v,E=0;E<r;E+=v)for(var f=0;f<h;f++){var m=f*g,T=o[m][0],S=o[m][n],A=e[h+E+f][0]*T-e[h+E+f][1]*S,y=e[h+E+f][0]*S+e[h+E+f][1]*T;e[h+E+f][0]=(e[E+f][0]-A)*i,e[h+E+f][1]=(e[E+f][1]-y)*i,e[E+f][0]=(e[E+f][0]+A)*i,e[E+f][1]=(e[E+f][1]+y)*i}},t.exports=n},{}],6:[function(e,t,r){function n(e,t){if(e)throw new Error("WHA?? No small frames allowed.");this.length=1024,this.shortLength=128,this.mid=(this.length-this.shortLength)/2,this.trans=this.shortLength/2,this.mdctShort=new s(2*this.shortLength),this.mdctLong=new s(2*this.length),this.overlaps=new Array(t);for(var r=0;r<t;r++)this.overlaps[r]=new Float32Array(this.length);this.buf=new Float32Array(2*this.length)}function i(e){for(var t=new Float32Array(e),r=0;r<e;r++)t[r]=Math.sin((r+.5)*(Math.PI/(2*e)));return t}function a(e,t){for(var r=Math.PI/t,n=new Float32Array(t),i=0,a=new Float32Array(t),o=e*r*(e*r),s=0;s<t;s++){for(var h=s*(t-s)*o,f=1,c=50;c>0;c--)f=f*h/(c*c)+1;i+=f,a[s]=i}i++;for(var s=0;s<t;s++)n[s]=Math.sqrt(a[s]/i);return n}var o=e("./ics"),s=e("./mdct");const h=i(1024),f=i(128),c=a(4,1024),d=a(6,128),l=[h,c],p=[f,d];n.prototype.process=function(e,t,r,n){var i=this.overlaps[n],a=e.windowShape[1],s=e.windowShape[0],h=l[a],f=p[a],c=l[s],d=p[s],u=this.length,w=this.shortLength,v=this.mid,g=this.trans,E=this.buf,m=this.mdctLong,T=this.mdctShort;switch(e.windowSequence){case o.ONLY_LONG_SEQUENCE:m.process(t,0,E,0);for(var S=0;S<u;S++)r[S]=i[S]+E[S]*c[S];for(var S=0;S<u;S++)i[S]=E[u+S]*h[u-1-S];break;case o.LONG_START_SEQUENCE:m.process(t,0,E,0);for(var S=0;S<u;S++)r[S]=i[S]+E[S]*c[S];for(var S=0;S<v;S++)i[S]=E[u+S];for(var S=0;S<w;S++)i[v+S]=E[u+v+S]*f[w-S-1];for(var S=0;S<v;S++)i[v+w+S]=0;break;case o.EIGHT_SHORT_SEQUENCE:for(var S=0;S<8;S++)T.process(t,S*w,E,2*S*w);for(var S=0;S<v;S++)r[S]=i[S];for(var S=0;S<w;S++)r[v+S]=i[v+S]+E[S]*d[S],r[v+1*w+S]=i[v+1*w+S]+E[1*w+S]*f[w-1-S]+E[2*w+S]*f[S],r[v+2*w+S]=i[v+2*w+S]+E[3*w+S]*f[w-1-S]+E[4*w+S]*f[S],r[v+3*w+S]=i[v+3*w+S]+E[5*w+S]*f[w-1-S]+E[6*w+S]*f[S],S<g&&(r[v+4*w+S]=i[v+4*w+S]+E[7*w+S]*f[w-1-S]+E[8*w+S]*f[S]);for(var S=0;S<w;S++)S>=g&&(i[v+4*w+S-u]=E[7*w+S]*f[w-1-S]+E[8*w+S]*f[S]),i[v+5*w+S-u]=E[9*w+S]*f[w-1-S]+E[10*w+S]*f[S],i[v+6*w+S-u]=E[11*w+S]*f[w-1-S]+E[12*w+S]*f[S],i[v+7*w+S-u]=E[13*w+S]*f[w-1-S]+E[14*w+S]*f[S],i[v+8*w+S-u]=E[15*w+S]*f[w-1-S];for(var S=0;S<v;S++)i[v+w+S]=0;break;case o.LONG_STOP_SEQUENCE:m.process(t,0,E,0);for(var S=0;S<v;S++)r[S]=i[S];for(var S=0;S<w;S++)r[v+S]=i[v+S]+E[v+S]*d[S];for(var S=0;S<v;S++)r[v+w+S]=i[v+w+S]+E[v+w+S];for(var S=0;S<u;S++)i[S]=E[u+S]*h[u-1-S]}},t.exports=n},{"./ics":8,"./mdct":9}],7:[function(e,t,r){const n=[[1,0,0,0,0,0],[5,16,1,0,0,0],[5,17,-1,0,0,0],[5,18,0,0,0,-1],[5,19,0,1,0,0],[5,20,0,0,0,1],[5,21,0,0,-1,0],[5,22,0,0,1,0],[5,23,0,-1,0,0],[7,96,1,-1,0,0],[7,97,-1,1,0,0],[7,98,0,0,-1,1],[7,99,0,1,-1,0],[7,100,0,-1,1,0],[7,101,0,0,1,-1],[7,102,1,1,0,0],[7,103,0,0,-1,-1],[7,104,-1,-1,0,0],[7,105,0,-1,-1,0],[7,106,1,0,-1,0],[7,107,0,1,0,-1],[7,108,-1,0,1,0],[7,109,0,0,1,1],[7,110,1,0,1,0],[7,111,0,-1,0,1],[7,112,0,1,1,0],[7,113,0,1,0,1],[7,114,-1,0,-1,0],[7,115,1,0,0,1],[7,116,-1,0,0,-1],[7,117,1,0,0,-1],[7,118,-1,0,0,1],[7,119,0,-1,0,-1],[9,480,1,1,-1,0],[9,481,-1,1,-1,0],[9,482,1,-1,1,0],[9,483,0,1,1,-1],[9,484,0,1,-1,1],[9,485,0,-1,1,1],[9,486,0,-1,1,-1],[9,487,1,-1,-1,0],[9,488,1,0,-1,1],[9,489,0,1,-1,-1],[9,490,-1,1,1,0],[9,491,-1,0,1,-1],[9,492,-1,-1,1,0],[9,493,0,-1,-1,1],[9,494,1,-1,0,1],[9,495,1,-1,0,-1],[9,496,-1,1,0,-1],[9,497,-1,-1,-1,0],[9,498,0,-1,-1,-1],[9,499,0,1,1,1],[9,500,1,0,1,-1],[9,501,1,1,0,1],[9,502,-1,1,0,1],[9,503,1,1,1,0],[10,1008,-1,-1,0,1],[10,1009,-1,0,-1,-1],[10,1010,1,1,0,-1],[10,1011,1,0,-1,-1],[10,1012,-1,0,-1,1],[10,1013,-1,-1,0,-1],[10,1014,-1,0,1,1],[10,1015,1,0,1,1],[11,2032,1,-1,1,-1],[11,2033,-1,1,-1,1],[11,2034,-1,1,1,-1],[11,2035,1,-1,-1,1],[11,2036,1,1,1,1],[11,2037,-1,-1,1,1],[11,2038,1,1,-1,-1],[11,2039,-1,-1,1,-1],[11,2040,-1,-1,-1,-1],[11,2041,1,1,-1,1],[11,2042,1,-1,1,1],[11,2043,-1,1,1,1],[11,2044,-1,1,-1,-1],[11,2045,-1,-1,-1,1],[11,2046,1,-1,-1,-1],[11,2047,1,1,1,-1]],i=[[3,0,0,0,0,0],[4,2,1,0,0,0],[5,6,-1,0,0,0],[5,7,0,0,0,1],[5,8,0,0,-1,0],[5,9,0,0,0,-1],[5,10,0,-1,0,0],[5,11,0,0,1,0],[5,12,0,1,0,0],[6,26,0,-1,1,0],[6,27,-1,1,0,0],[6,28,0,1,-1,0],[6,29,0,0,1,-1],[6,30,0,1,0,-1],[6,31,0,0,-1,1],[6,32,-1,0,0,-1],[6,33,1,-1,0,0],[6,34,1,0,-1,0],[6,35,-1,-1,0,0],[6,36,0,0,-1,-1],[6,37,1,0,1,0],[6,38,1,0,0,1],[6,39,0,-1,0,1],[6,40,-1,0,1,0],[6,41,0,1,0,1],[6,42,0,-1,-1,0],[6,43,-1,0,0,1],[6,44,0,-1,0,-1],[6,45,-1,0,-1,0],[6,46,1,1,0,0],[6,47,0,1,1,0],[6,48,0,0,1,1],[6,49,1,0,0,-1],[7,100,0,1,-1,1],[7,101,1,0,-1,1],[7,102,-1,1,-1,0],[7,103,0,-1,1,-1],[7,104,1,-1,1,0],[7,105,1,1,0,-1],[7,106,1,0,1,1],[7,107,-1,1,1,0],[7,108,0,-1,-1,1],[7,109,1,1,1,0],[7,110,-1,0,1,-1],[7,111,-1,-1,-1,0],[7,112,-1,0,-1,1],[7,113,1,-1,-1,0],[7,114,1,1,-1,0],[8,230,1,-1,0,1],[8,231,-1,1,0,-1],[8,232,-1,-1,1,0],[8,233,-1,0,1,1],[8,234,-1,-1,0,1],[8,235,-1,-1,0,-1],[8,236,0,-1,-1,-1],[8,237,1,0,1,-1],[8,238,1,0,-1,-1],[8,239,0,1,-1,-1],[8,240,0,1,1,1],[8,241,-1,1,0,1],[8,242,-1,0,-1,-1],[8,243,0,1,1,-1],[8,244,1,-1,0,-1],[8,245,0,-1,1,1],[8,246,1,1,0,1],[8,247,1,-1,1,-1],[8,248,-1,1,-1,1],[9,498,1,-1,-1,1],[9,499,-1,-1,-1,-1],[9,500,-1,1,1,-1],[9,501,-1,1,1,1],[9,502,1,1,1,1],[9,503,-1,-1,1,-1],[9,504,1,-1,1,1],[9,505,-1,1,-1,-1],[9,506,-1,-1,1,1],[9,507,1,1,-1,-1],[9,508,1,-1,-1,-1],[9,509,-1,-1,-1,1],[9,510,1,1,-1,1],[9,511,1,1,1,-1]],a=[[1,0,0,0,0,0],[4,8,1,0,0,0],[4,9,0,0,0,1],[4,10,0,1,0,0],[4,11,0,0,1,0],[5,24,1,1,0,0],[5,25,0,0,1,1],[6,52,0,1,1,0],[6,53,0,1,0,1],[6,54,1,0,1,0],[6,55,0,1,1,1],[6,56,1,0,0,1],[6,57,1,1,1,0],[7,116,1,1,1,1],[7,117,1,0,1,1],[7,118,1,1,0,1],[8,238,2,0,0,0],[8,239,0,0,0,2],[8,240,0,0,1,2],[8,241,2,1,0,0],[8,242,1,2,1,0],[9,486,0,0,2,1],[9,487,0,1,2,1],[9,488,1,2,0,0],[9,489,0,1,1,2],[9,490,2,1,1,0],[9,491,0,0,2,0],[9,492,0,2,1,0],[9,493,0,1,2,0],[9,494,0,2,0,0],[9,495,0,1,0,2],[9,496,2,0,1,0],[9,497,1,2,1,1],[9,498,0,2,1,1],[9,499,1,1,2,0],[9,500,1,1,2,1],[10,1002,1,2,0,1],[10,1003,1,0,2,0],[10,1004,1,0,2,1],[10,1005,0,2,0,1],[10,1006,2,1,1,1],[10,1007,1,1,1,2],[10,1008,2,1,0,1],[10,1009,1,0,1,2],[10,1010,0,0,2,2],[10,1011,0,1,2,2],[10,1012,2,2,1,0],[10,1013,1,2,2,0],[10,1014,1,0,0,2],[10,1015,2,0,0,1],[10,1016,0,2,2,1],[11,2034,2,2,0,0],[11,2035,1,2,2,1],[11,2036,1,1,0,2],[11,2037,2,0,1,1],[11,2038,1,1,2,2],[11,2039,2,2,1,1],[11,2040,0,2,2,0],[11,2041,0,2,1,2],[12,4084,1,0,2,2],[12,4085,2,2,0,1],[12,4086,2,1,2,0],[12,4087,2,2,2,0],[12,4088,0,2,2,2],[12,4089,2,2,2,1],[12,4090,2,1,2,1],[12,4091,1,2,1,2],[12,4092,1,2,2,2],[13,8186,0,2,0,2],[13,8187,2,0,2,0],[13,8188,1,2,0,2],[14,16378,2,0,2,1],[14,16379,2,1,1,2],[14,16380,2,1,0,2],[15,32762,2,2,2,2],[15,32763,2,2,1,2],[15,32764,2,1,2,2],[15,32765,2,0,1,2],[15,32766,2,0,0,2],[16,65534,2,2,0,2],[16,65535,2,0,2,2]],o=[[4,0,1,1,1,1],[4,1,0,1,1,1],[4,2,1,1,0,1],[4,3,1,1,1,0],[4,4,1,0,1,1],[4,5,1,0,0,0],[4,6,1,1,0,0],[4,7,0,0,0,0],[4,8,0,0,1,1],[4,9,1,0,1,0],[5,20,1,0,0,1],[5,21,0,1,1,0],[5,22,0,0,0,1],[5,23,0,1,0,1],[5,24,0,0,1,0],[5,25,0,1,0,0],[7,104,2,1,1,1],[7,105,1,1,2,1],[7,106,1,2,1,1],[7,107,1,1,1,2],[7,108,2,1,1,0],[7,109,2,1,0,1],[7,110,1,2,1,0],[7,111,2,0,1,1],[7,112,0,1,2,1],[8,226,0,1,1,2],[8,227,1,1,2,0],[8,228,0,2,1,1],[8,229,1,0,1,2],[8,230,1,2,0,1],[8,231,1,1,0,2],[8,232,1,0,2,1],[8,233,2,1,0,0],[8,234,2,0,1,0],[8,235,1,2,0,0],[8,236,2,0,0,1],[8,237,0,1,0,2],[8,238,0,2,1,0],[8,239,0,0,1,2],[8,240,0,1,2,0],[8,241,0,2,0,1],[8,242,1,0,0,2],[8,243,0,0,2,1],[8,244,1,0,2,0],[8,245,2,0,0,0],[8,246,0,0,0,2],[9,494,0,2,0,0],[9,495,0,0,2,0],[9,496,1,2,2,1],[9,497,2,2,1,1],[9,498,2,1,2,1],[9,499,1,1,2,2],[9,500,1,2,1,2],[9,501,2,1,1,2],[10,1004,1,2,2,0],[10,1005,2,2,1,0],[10,1006,2,1,2,0],[10,1007,0,2,2,1],[10,1008,0,1,2,2],[10,1009,2,2,0,1],[10,1010,0,2,1,2],[10,1011,2,0,2,1],[10,1012,1,0,2,2],[10,1013,2,2,2,1],[10,1014,1,2,0,2],[10,1015,2,0,1,2],[10,1016,2,1,0,2],[10,1017,1,2,2,2],[11,2036,2,1,2,2],[11,2037,2,2,1,2],[11,2038,0,2,2,0],[11,2039,2,2,0,0],[11,2040,0,0,2,2],[11,2041,2,0,2,0],[11,2042,0,2,0,2],[11,2043,2,0,0,2],[11,2044,2,2,2,2],[11,2045,0,2,2,2],[11,2046,2,2,2,0],[12,4094,2,2,0,2],[12,4095,2,0,2,2]],s=[[1,0,0,0],[4,8,-1,0],[4,9,1,0],[4,10,0,1],[4,11,0,-1],[5,24,1,-1],[5,25,-1,1],[5,26,-1,-1],[5,27,1,1],[7,112,-2,0],[7,113,0,2],[7,114,2,0],[7,115,0,-2],[8,232,-2,-1],[8,233,2,1],[8,234,-1,-2],[8,235,1,2],[8,236,-2,1],[8,237,2,-1],[8,238,-1,2],[8,239,1,-2],[8,240,-3,0],[8,241,3,0],[8,242,0,-3],[8,243,0,3],[9,488,-3,-1],[9,489,1,3],[9,490,3,1],[9,491,-1,-3],[9,492,-3,1],[9,493,3,-1],[9,494,1,-3],[9,495,-1,3],[9,496,-2,2],[9,497,2,2],[9,498,-2,-2],[9,499,2,-2],[10,1e3,-3,-2],[10,1001,3,-2],[10,1002,-2,3],[10,1003,2,-3],[10,1004,3,2],[10,1005,2,3],[10,1006,-3,2],[10,1007,-2,-3],[10,1008,0,-4],[10,1009,-4,0],[10,1010,4,1],[10,1011,4,0],[11,2024,-4,-1],[11,2025,0,4],[11,2026,4,-1],[11,2027,-1,-4],[11,2028,1,4],[11,2029,-1,4],[11,2030,-4,1],[11,2031,1,-4],[11,2032,3,-3],[11,2033,-3,-3],[11,2034,-3,3],[11,2035,-2,4],[11,2036,-4,-2],[11,2037,4,2],[11,2038,2,-4],[11,2039,2,4],[11,2040,3,3],[11,2041,-4,2],[12,4084,-2,-4],[12,4085,4,-2],[12,4086,3,-4],[12,4087,-4,-3],[12,4088,-4,3],[12,4089,3,4],[12,4090,-3,4],[12,4091,4,3],[12,4092,4,-3],[12,4093,-3,-4],[13,8188,4,-4],[13,8189,-4,4],[13,8190,4,4],[13,8191,-4,-4]],h=[[4,0,0,0],[4,1,1,0],[4,2,0,-1],[4,3,0,1],[4,4,-1,0],[4,5,1,1],[4,6,-1,1],[4,7,1,-1],[4,8,-1,-1],[6,36,2,-1],[6,37,2,1],[6,38,-2,1],[6,39,-2,-1],[6,40,-2,0],[6,41,-1,2],[6,42,2,0],[6,43,1,-2],[6,44,1,2],[6,45,0,-2],[6,46,-1,-2],[6,47,0,2],[6,48,2,-2],[6,49,-2,2],[6,50,-2,-2],[6,51,2,2],[7,104,-3,1],[7,105,3,1],[7,106,3,-1],[7,107,-1,3],[7,108,-3,-1],[7,109,1,3],[7,110,1,-3],[7,111,-1,-3],[7,112,3,0],[7,113,-3,0],[7,114,0,-3],[7,115,0,3],[7,116,3,2],[8,234,-3,-2],[8,235,-2,3],[8,236,2,3],[8,237,3,-2],[8,238,2,-3],[8,239,-2,-3],[8,240,-3,2],[8,241,3,3],[9,484,3,-3],[9,485,-3,-3],[9,486,-3,3],[9,487,1,-4],[9,488,-1,-4],[9,489,4,1],[9,490,-4,1],[9,491,-4,-1],[9,492,1,4],[9,493,4,-1],[9,494,-1,4],[9,495,0,-4],[9,496,-4,2],[9,497,-4,-2],[9,498,2,4],[9,499,-2,-4],[9,500,-4,0],[9,501,4,2],[9,502,4,-2],[9,503,-2,4],[9,504,4,0],[9,505,2,-4],[9,506,0,4],[10,1014,-3,-4],[10,1015,-3,4],[10,1016,3,-4],[10,1017,4,-3],[10,1018,3,4],[10,1019,4,3],[10,1020,-4,3],[10,1021,-4,-3],[11,2044,4,4],[11,2045,-4,4],[11,2046,-4,-4],[11,2047,4,-4]],f=[[1,0,0,0],[3,4,1,0],[3,5,0,1],[4,12,1,1],[6,52,2,1],[6,53,1,2],[6,54,2,0],[6,55,0,2],[7,112,3,1],[7,113,1,3],[7,114,2,2],[7,115,3,0],[7,116,0,3],[8,234,2,3],[8,235,3,2],[8,236,1,4],[8,237,4,1],[8,238,1,5],[8,239,5,1],[8,240,3,3],[8,241,2,4],[8,242,0,4],[8,243,4,0],[9,488,4,2],[9,489,2,5],[9,490,5,2],[9,491,0,5],[9,492,6,1],[9,493,5,0],[9,494,1,6],[9,495,4,3],[9,496,3,5],[9,497,3,4],[9,498,5,3],[9,499,2,6],[9,500,6,2],[9,501,1,7],[10,1004,3,6],[10,1005,0,6],[10,1006,6,0],[10,1007,4,4],[10,1008,7,1],[10,1009,4,5],[10,1010,7,2],[10,1011,5,4],[10,1012,6,3],[10,1013,2,7],[10,1014,7,3],[10,1015,6,4],[10,1016,5,5],[10,1017,4,6],[10,1018,3,7],[11,2038,7,0],[11,2039,0,7],[11,2040,6,5],[11,2041,5,6],[11,2042,7,4],[11,2043,4,7],[11,2044,5,7],[11,2045,7,5],[12,4092,7,6],[12,4093,6,6],[12,4094,6,7],[12,4095,7,7]],c=[[3,0,1,1],[4,2,2,1],[4,3,1,0],[4,4,1,2],[4,5,0,1],[4,6,2,2],[5,14,0,0],[5,15,2,0],[5,16,0,2],[5,17,3,1],[5,18,1,3],[5,19,3,2],[5,20,2,3],[6,42,3,3],[6,43,4,1],[6,44,1,4],[6,45,4,2],[6,46,2,4],[6,47,3,0],[6,48,0,3],[6,49,4,3],[6,50,3,4],[6,51,5,2],[7,104,5,1],[7,105,2,5],[7,106,1,5],[7,107,5,3],[7,108,3,5],[7,109,4,4],[7,110,5,4],[7,111,0,4],[7,112,4,5],[7,113,4,0],[7,114,2,6],[7,115,6,2],[7,116,6,1],[7,117,1,6],[8,236,3,6],[8,237,6,3],[8,238,5,5],[8,239,5,0],[8,240,6,4],[8,241,0,5],[8,242,4,6],[8,243,7,1],[8,244,7,2],[8,245,2,7],[8,246,6,5],[8,247,7,3],[8,248,1,7],[8,249,5,6],[8,250,3,7],[9,502,6,6],[9,503,7,4],[9,504,6,0],[9,505,4,7],[9,506,0,6],[9,507,7,5],[9,508,7,6],[9,509,6,7],[10,1020,5,7],[10,1021,7,0],[10,1022,0,7],[10,1023,7,7]],d=[[1,0,0,0],[3,4,1,0],[3,5,0,1],[4,12,1,1],[6,52,2,1],[6,53,1,2],[6,54,2,0],[6,55,0,2],[7,112,3,1],[7,113,2,2],[7,114,1,3],[8,230,3,0],[8,231,0,3],[8,232,2,3],[8,233,3,2],[8,234,1,4],[8,235,4,1],[8,236,2,4],[8,237,1,5],[9,476,4,2],[9,477,3,3],[9,478,0,4],[9,479,4,0],[9,480,5,1],[9,481,2,5],[9,482,1,6],[9,483,3,4],[9,484,5,2],[9,485,6,1],[9,486,4,3],[10,974,0,5],[10,975,2,6],[10,976,5,0],[10,977,1,7],[10,978,3,5],[10,979,1,8],[10,980,8,1],[10,981,4,4],[10,982,5,3],[10,983,6,2],[10,984,7,1],[10,985,0,6],[10,986,8,2],[10,987,2,8],[10,988,3,6],[10,989,2,7],[10,990,4,5],[10,991,9,1],[10,992,1,9],[10,993,7,2],[11,1988,6,0],[11,1989,5,4],[11,1990,6,3],[11,1991,8,3],[11,1992,0,7],[11,1993,9,2],[11,1994,3,8],[11,1995,4,6],[11,1996,3,7],[11,1997,0,8],[11,1998,10,1],[11,1999,6,4],[11,2e3,2,9],[11,2001,5,5],[11,2002,8,0],[11,2003,7,0],[11,2004,7,3],[11,2005,10,2],[11,2006,9,3],[11,2007,8,4],[11,2008,1,10],[11,2009,7,4],[11,2010,6,5],[11,2011,5,6],[11,2012,4,8],[11,2013,4,7],[11,2014,3,9],[11,2015,11,1],[11,2016,5,8],[11,2017,9,0],[11,2018,8,5],[12,4038,10,3],[12,4039,2,10],[12,4040,0,9],[12,4041,11,2],[12,4042,9,4],[12,4043,6,6],[12,4044,12,1],[12,4045,4,9],[12,4046,8,6],[12,4047,1,11],[12,4048,9,5],[12,4049,10,4],[12,4050,5,7],[12,4051,7,5],[12,4052,2,11],[12,4053,1,12],[12,4054,12,2],[12,4055,11,3],[12,4056,3,10],[12,4057,5,9],[12,4058,6,7],[12,4059,8,7],[12,4060,11,4],[12,4061,0,10],[12,4062,7,6],[12,4063,12,3],[12,4064,10,0],[12,4065,10,5],[12,4066,4,10],[12,4067,6,8],[12,4068,2,12],[12,4069,9,6],[12,4070,9,7],[12,4071,4,11],[12,4072,11,0],[12,4073,6,9],[12,4074,3,11],[12,4075,5,10],[13,8152,8,8],[13,8153,7,8],[13,8154,12,5],[13,8155,3,12],[13,8156,11,5],[13,8157,7,7],[13,8158,12,4],[13,8159,11,6],[13,8160,10,6],[13,8161,4,12],[13,8162,7,9],[13,8163,5,11],[13,8164,0,11],[13,8165,12,6],[13,8166,6,10],[13,8167,12,0],[13,8168,10,7],[13,8169,5,12],[13,8170,7,10],[13,8171,9,8],[13,8172,0,12],[13,8173,11,7],[13,8174,8,9],[13,8175,9,9],[13,8176,10,8],[13,8177,7,11],[13,8178,12,7],[13,8179,6,11],[13,8180,8,11],[13,8181,11,8],[13,8182,7,12],[13,8183,6,12],[14,16368,8,10],[14,16369,10,9],[14,16370,8,12],[14,16371,9,10],[14,16372,9,11],[14,16373,9,12],[14,16374,10,11],[14,16375,12,9],[14,16376,10,10],[14,16377,11,9],[14,16378,12,8],[14,16379,11,10],[14,16380,12,10],[14,16381,12,11],[15,32764,10,12],[15,32765,11,11],[15,32766,11,12],[15,32767,12,12]],l=[[4,0,1,1],[4,1,1,2],[4,2,2,1],[5,6,2,2],[5,7,1,0],[5,8,0,1],[5,9,1,3],[5,10,3,2],[5,11,3,1],[5,12,2,3],[5,13,3,3],[6,28,2,0],[6,29,0,2],[6,30,2,4],[6,31,4,2],[6,32,1,4],[6,33,4,1],[6,34,0,0],[6,35,4,3],[6,36,3,4],[6,37,3,0],[6,38,0,3],[6,39,4,4],[6,40,2,5],[6,41,5,2],[7,84,1,5],[7,85,5,1],[7,86,5,3],[7,87,3,5],[7,88,5,4],[7,89,4,5],[7,90,6,2],[7,91,2,6],[7,92,6,3],[7,93,4,0],[7,94,6,1],[7,95,0,4],[7,96,1,6],[7,97,3,6],[7,98,5,5],[7,99,6,4],[7,100,4,6],[8,202,6,5],[8,203,7,2],[8,204,3,7],[8,205,2,7],[8,206,5,6],[8,207,8,2],[8,208,7,3],[8,209,5,0],[8,210,7,1],[8,211,0,5],[8,212,8,1],[8,213,1,7],[8,214,8,3],[8,215,7,4],[8,216,4,7],[8,217,2,8],[8,218,6,6],[8,219,7,5],[8,220,1,8],[8,221,3,8],[8,222,8,4],[8,223,4,8],[8,224,5,7],[8,225,8,5],[8,226,5,8],[9,454,7,6],[9,455,6,7],[9,456,9,2],[9,457,6,0],[9,458,6,8],[9,459,9,3],[9,460,3,9],[9,461,9,1],[9,462,2,9],[9,463,0,6],[9,464,8,6],[9,465,9,4],[9,466,4,9],[9,467,10,2],[9,468,1,9],[9,469,7,7],[9,470,8,7],[9,471,9,5],[9,472,7,8],[9,473,10,3],[9,474,5,9],[9,475,10,4],[9,476,2,10],[9,477,10,1],[9,478,3,10],[9,479,9,6],[9,480,6,9],[9,481,8,0],[9,482,4,10],[9,483,7,0],[9,484,11,2],[10,970,7,9],[10,971,11,3],[10,972,10,6],[10,973,1,10],[10,974,11,1],[10,975,9,7],[10,976,0,7],[10,977,8,8],[10,978,10,5],[10,979,3,11],[10,980,5,10],[10,981,8,9],[10,982,11,5],[10,983,0,8],[10,984,11,4],[10,985,2,11],[10,986,7,10],[10,987,6,10],[10,988,10,7],[10,989,4,11],[10,990,1,11],[10,991,12,2],[10,992,9,8],[10,993,12,3],[10,994,11,6],[10,995,5,11],[10,996,12,4],[10,997,11,7],[10,998,12,5],[10,999,3,12],[10,1e3,6,11],[10,1001,9,0],[10,1002,10,8],[10,1003,10,0],[10,1004,12,1],[10,1005,0,9],[10,1006,4,12],[10,1007,9,9],[10,1008,12,6],[10,1009,2,12],[10,1010,8,10],[11,2022,9,10],[11,2023,1,12],[11,2024,11,8],[11,2025,12,7],[11,2026,7,11],[11,2027,5,12],[11,2028,6,12],[11,2029,10,9],[11,2030,8,11],[11,2031,12,8],[11,2032,0,10],[11,2033,7,12],[11,2034,11,0],[11,2035,10,10],[11,2036,11,9],[11,2037,11,10],[11,2038,0,11],[11,2039,11,11],[11,2040,9,11],[11,2041,10,11],[11,2042,12,0],[11,2043,8,12],[12,4088,12,9],[12,4089,10,12],[12,4090,9,12],[12,4091,11,12],[12,4092,12,11],[12,4093,0,12],[12,4094,12,10],[12,4095,12,12]],p=[[4,0,0,0],[4,1,1,1],[5,4,16,16],[5,5,1,0],[5,6,0,1],[5,7,2,1],[5,8,1,2],[5,9,2,2],[6,20,1,3],[6,21,3,1],[6,22,3,2],[6,23,2,0],[6,24,2,3],[6,25,0,2],[6,26,3,3],[7,54,4,1],[7,55,1,4],[7,56,4,2],[7,57,2,4],[7,58,4,3],[7,59,3,4],[7,60,3,0],[7,61,0,3],[7,62,5,1],[7,63,5,2],[7,64,2,5],[7,65,4,4],[7,66,1,5],[7,67,5,3],[7,68,3,5],[7,69,5,4],[8,140,4,5],[8,141,6,2],[8,142,2,6],[8,143,6,1],[8,144,6,3],[8,145,3,6],[8,146,1,6],[8,147,4,16],[8,148,3,16],[8,149,16,5],[8,150,16,3],[8,151,16,4],[8,152,6,4],[8,153,16,6],[8,154,4,0],[8,155,4,6],[8,156,0,4],[8,157,2,16],[8,158,5,5],[8,159,5,16],[8,160,16,7],[8,161,16,2],[8,162,16,8],[8,163,2,7],[8,164,7,2],[8,165,3,7],[8,166,6,5],[8,167,5,6],[8,168,6,16],[8,169,16,10],[8,170,7,3],[8,171,7,1],[8,172,16,9],[8,173,7,16],[8,174,1,16],[8,175,1,7],[8,176,4,7],[8,177,16,11],[8,178,7,4],[8,179,16,12],[8,180,8,16],[8,181,16,1],[8,182,6,6],[8,183,9,16],[8,184,2,8],[8,185,5,7],[8,186,10,16],[8,187,16,13],[8,188,8,3],[8,189,8,2],[8,190,3,8],[8,191,5,0],[8,192,16,14],[8,193,11,16],[8,194,7,5],[8,195,4,8],[8,196,6,7],[8,197,7,6],[8,198,0,5],[9,398,8,4],[9,399,16,15],[9,400,12,16],[9,401,1,8],[9,402,8,1],[9,403,14,16],[9,404,5,8],[9,405,13,16],[9,406,3,9],[9,407,8,5],[9,408,7,7],[9,409,2,9],[9,410,8,6],[9,411,9,2],[9,412,9,3],[9,413,15,16],[9,414,4,9],[9,415,6,8],[9,416,6,0],[9,417,9,4],[9,418,5,9],[9,419,8,7],[9,420,7,8],[9,421,1,9],[9,422,10,3],[9,423,0,6],[9,424,10,2],[9,425,9,1],[9,426,9,5],[9,427,4,10],[9,428,2,10],[9,429,9,6],[9,430,3,10],[9,431,6,9],[9,432,10,4],[9,433,8,8],[9,434,10,5],[9,435,9,7],[9,436,11,3],[9,437,1,10],[9,438,7,0],[9,439,10,6],[9,440,7,9],[9,441,3,11],[9,442,5,10],[9,443,10,1],[9,444,4,11],[9,445,11,2],[9,446,13,2],[9,447,6,10],[9,448,13,3],[9,449,2,11],[9,450,16,0],[9,451,5,11],[9,452,11,5],[10,906,11,4],[10,907,9,8],[10,908,7,10],[10,909,8,9],[10,910,0,16],[10,911,4,13],[10,912,0,7],[10,913,3,13],[10,914,11,6],[10,915,13,1],[10,916,13,4],[10,917,12,3],[10,918,2,13],[10,919,13,5],[10,920,8,10],[10,921,6,11],[10,922,10,8],[10,923,10,7],[10,924,14,2],[10,925,12,4],[10,926,1,11],[10,927,4,12],[10,928,11,1],[10,929,3,12],[10,930,1,13],[10,931,12,2],[10,932,7,11],[10,933,3,14],[10,934,5,12],[10,935,5,13],[10,936,14,4],[10,937,4,14],[10,938,11,7],[10,939,14,3],[10,940,12,5],[10,941,13,6],[10,942,12,6],[10,943,8,0],[10,944,11,8],[10,945,2,12],[10,946,9,9],[10,947,14,5],[10,948,6,13],[10,949,10,10],[10,950,15,2],[10,951,8,11],[10,952,9,10],[10,953,14,6],[10,954,10,9],[10,955,5,14],[10,956,11,9],[10,957,14,1],[10,958,2,14],[10,959,6,12],[10,960,1,12],[10,961,13,8],[10,962,0,8],[10,963,13,7],[10,964,7,12],[10,965,12,7],[10,966,7,13],[10,967,15,3],[10,968,12,1],[10,969,6,14],[10,970,2,15],[10,971,15,5],[10,972,15,4],[10,973,1,14],[10,974,9,11],[10,975,4,15],[10,976,14,7],[10,977,8,13],[10,978,13,9],[10,979,8,12],[10,980,5,15],[10,981,3,15],[10,982,10,11],[10,983,11,10],[10,984,12,8],[10,985,15,6],[10,986,15,7],[10,987,8,14],[10,988,15,1],[10,989,7,14],[10,990,9,0],[10,991,0,9],[10,992,9,13],[10,993,9,12],[10,994,12,9],[10,995,14,8],[10,996,10,13],[10,997,14,9],[10,998,12,10],[10,999,6,15],[10,1e3,7,15],[11,2002,9,14],[11,2003,15,8],[11,2004,11,11],[11,2005,11,14],[11,2006,1,15],[11,2007,10,12],[11,2008,10,14],[11,2009,13,11],[11,2010,13,10],[11,2011,11,13],[11,2012,11,12],[11,2013,8,15],[11,2014,14,11],[11,2015,13,12],[11,2016,12,13],[11,2017,15,9],[11,2018,14,10],[11,2019,10,0],[11,2020,12,11],[11,2021,9,15],[11,2022,0,10],[11,2023,12,12],[11,2024,11,0],[11,2025,12,14],[11,2026,10,15],[11,2027,13,13],[11,2028,0,13],[11,2029,14,12],[11,2030,15,10],[11,2031,15,11],[11,2032,11,15],[11,2033,14,13],[11,2034,13,0],[11,2035,0,11],[11,2036,13,14],[11,2037,15,12],[11,2038,15,13],[11,2039,12,15],[11,2040,14,0],[11,2041,14,14],[11,2042,13,15],[11,2043,12,0],[11,2044,14,15],[12,4090,0,14],[12,4091,0,12],[12,4092,15,14],[12,4093,15,0],[12,4094,0,15],[12,4095,15,15]],u=[[1,0,60],[3,4,59],[4,10,61],[4,11,58],[4,12,62],[5,26,57],[5,27,63],[6,56,56],[6,57,64],[6,58,55],[6,59,65],[7,120,66],[7,121,54],[7,122,67],[8,246,53],[8,247,68],[8,248,52],[8,249,69],[8,250,51],[9,502,70],[9,503,50],[9,504,49],[9,505,71],[10,1012,72],[10,1013,48],[10,1014,73],[10,1015,47],[10,1016,74],[10,1017,46],[11,2036,76],[11,2037,75],[11,2038,77],[11,2039,78],[11,2040,45],[11,2041,43],[12,4084,44],[12,4085,79],[12,4086,42],[12,4087,41],[12,4088,80],[12,4089,40],[13,8180,81],[13,8181,39],[13,8182,82],[13,8183,38],[13,8184,83],[14,16370,37],[14,16371,35],[14,16372,85],[14,16373,33],[14,16374,36],[14,16375,34],[14,16376,84],[14,16377,32],[15,32756,87],[15,32757,89],[15,32758,30],[15,32759,31],[16,65520,86],[16,65521,29],[16,65522,26],[16,65523,27],[16,65524,28],[16,65525,24],[16,65526,88],[17,131054,25],[17,131055,22],[17,131056,23],[18,262114,90],[18,262115,21],[18,262116,19],[18,262117,3],[18,262118,1],[18,262119,2],[18,262120,0],[19,524242,98],[19,524243,99],[19,524244,100],[19,524245,101],[19,524246,102],[19,524247,117],[19,524248,97],[19,524249,91],[19,524250,92],[19,524251,93],[19,524252,94],[19,524253,95],[19,524254,96],[19,524255,104],[19,524256,111],[19,524257,112],[19,524258,113],[19,524259,114],[19,524260,115],[19,524261,116],[19,524262,110],[19,524263,105],[19,524264,106],[19,524265,107],[19,524266,108],[19,524267,109],[19,524268,118],[19,524269,6],[19,524270,8],[19,524271,9],[19,524272,10],[19,524273,5],[19,524274,103],[19,524275,120],[19,524276,119],[19,524277,4],[19,524278,7],[19,524279,15],[19,524280,16],[19,524281,18],[19,524282,20],[19,524283,17],[19,524284,11],[19,524285,12],[19,524286,14],[19,524287,13]],w=[n,i,a,o,s,h,f,c,d,l,p],v=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0],g=4,E=2;
var m={findOffset:function(e,t){for(var r=0,n=t[r][0],i=e.read(n);i!==t[r][1];){var a=t[++r][0]-n;n=t[r][0],i<<=a,i|=e.read(a)}return r},signValues:function(e,t,r,n){for(var i=r;i<r+n;i++)t[i]&&e.read(1)&&(t[i]=-t[i])},getEscape:function(e,t){for(var r=4;e.read(1);)r++;var n=e.read(r)|1<<r;return t<0?-n:n},decodeScaleFactor:function(e){var t=this.findOffset(e,u);return u[t][2]},decodeSpectralData:function(e,t,r,n){var i=w[t-1],a=this.findOffset(e,i);if(r[n]=i[a][2],r[n+1]=i[a][3],t<5&&(r[n+2]=i[a][4],r[n+3]=i[a][5]),t<11)v[t-1]&&this.signValues(e,r,n,t<5?g:E);else{if(!(11===t||t>15))throw new Error("Huffman: unknown spectral codebook: "+t);this.signValues(e,r,n,t<5?g:E),16===Math.abs(r[n])&&(r[n]=this.getEscape(e,r[n])),16===Math.abs(r[n+1])&&(r[n+1]=this.getEscape(e,r[n+1]))}}};t.exports=m},{}],8:[function(e,t,r){function n(e){this.info=new i,this.bandTypes=new Int32Array(h),this.sectEnd=new Int32Array(h),this.data=new Float32Array(e.frameLength),this.scaleFactors=new Float32Array(h),this.randomState=523124044,this.tns=new s(e),this.specBuf=new Int32Array(4)}function i(){this.windowShape=new Int32Array(2),this.windowSequence=n.ONLY_LONG_SEQUENCE,this.groupLength=new Int32Array(f),this.ltpData1Present=!1,this.ltpData2Present=!1}var a=e("./tables"),o=e("./huffman"),s=e("./tns");n.ZERO_BT=0,n.FIRST_PAIR_BT=5,n.ESC_BT=11,n.NOISE_BT=13,n.INTENSITY_BT2=14,n.INTENSITY_BT=15,n.ONLY_LONG_SEQUENCE=0,n.LONG_START_SEQUENCE=1,n.EIGHT_SHORT_SEQUENCE=2,n.LONG_STOP_SEQUENCE=3;const h=120,f=8,c=60,d=200;n.prototype={decode:function(e,t,r){if(this.globalGain=e.read(8),r||this.info.decode(e,t,r),this.decodeBandTypes(e,t),this.decodeScaleFactors(e),this.pulsePresent=e.read(1)){if(this.info.windowSequence===n.EIGHT_SHORT_SEQUENCE)throw new Error("Pulse tool not allowed in eight short sequence.");this.decodePulseData(e)}if((this.tnsPresent=e.read(1))&&this.tns.decode(e,this.info),this.gainPresent=e.read(1))throw new Error("TODO: decode gain control/SSR");this.decodeSpectralData(e)},decodeBandTypes:function(e,t){for(var r=this.info.windowSequence===n.EIGHT_SHORT_SEQUENCE?3:5,i=this.info.groupCount,a=this.info.maxSFB,o=this.bandTypes,s=this.sectEnd,h=0,f=(1<<r)-1,c=0;c<i;c++)for(var d=0;d<a;){var l=d,p=e.read(4);if(12===p)throw new Error("Invalid band type: 12");for(var u;(u=e.read(r))===f;)l+=u;if(l+=u,l>a)throw new Error("Too many bands ("+l+" > "+a+")");for(;d<l;d++)o[h]=p,s[h++]=l}},decodeScaleFactors:function(e){for(var t=this.info.groupCount,r=this.info.maxSFB,i=[this.globalGain,this.globalGain-90,0],s=0,h=!0,f=this.scaleFactors,l=this.sectEnd,p=this.bandTypes,u=0;u<t;u++)for(var w=0;w<r;){var v=l[s];switch(p[s]){case n.ZERO_BT:for(;w<v;w++,s++)f[s]=0;break;case n.INTENSITY_BT:case n.INTENSITY_BT2:for(;w<v;w++,s++){i[2]+=o.decodeScaleFactor(e)-c;var g=Math.min(Math.max(i[2],-155),100);f[s]=a.SCALEFACTOR_TABLE[-g+d]}break;case n.NOISE_BT:for(;w<v;w++,s++){h?(i[1]+=e.read(9)-256,h=!1):i[1]+=o.decodeScaleFactor(e)-c;var g=Math.min(Math.max(i[1],-100),155);f[s]=-a.SCALEFACTOR_TABLE[g+d]}break;default:for(;w<v;w++,s++){if(i[0]+=o.decodeScaleFactor(e)-c,i[0]>255)throw new Error("Scalefactor out of range: "+i[0]);f[s]=a.SCALEFACTOR_TABLE[i[0]-100+d]}}}},decodePulseData:function(e){var t=e.read(2)+1,r=e.read(6);if(r>=this.info.swbCount)throw new Error("Pulse SWB out of range: "+r);if(this.pulseOffset&&this.pulseOffset.length===t||(this.pulseOffset=new Int32Array(t),this.pulseAmp=new Int32Array(t)),this.pulseOffset[0]=this.info.swbOffsets[r]+e.read(5),this.pulseAmp[0]=e.read(4),this.pulseOffset[0]>1023)throw new Error("Pulse offset out of range: "+this.pulseOffset[0]);for(var n=1;n<t;n++){if(this.pulseOffset[n]=e.read(5)+this.pulseOffset[n-1],this.pulseOffset[n]>1023)throw new Error("Pulse offset out of range: "+this.pulseOffset[n]);this.pulseAmp[n]=e.read(4)}},decodeSpectralData:function(e){for(var t=this.data,r=this.info,i=r.maxSFB,s=r.groupCount,h=r.swbOffsets,f=this.bandTypes,c=this.scaleFactors,d=this.specBuf,l=0,p=0,u=0;u<s;u++){for(var w=r.groupLength[u],v=0;v<i;v++,p++){var g=f[p],E=l+h[v],m=h[v+1]-h[v];if(g===n.ZERO_BT||g===n.INTENSITY_BT||g===n.INTENSITY_BT2)for(var T=0;T<w;T++,E+=128)for(var S=E;S<E+m;S++)t[S]=0;else if(g===n.NOISE_BT)for(var T=0;T<w;T++,E+=128){for(var A=0,y=0;y<m;y++)this.randomState=1015568748*this.randomState|0,t[E+y]=this.randomState,A+=t[E+y]*t[E+y];for(var _=c[p]/Math.sqrt(A),y=0;y<m;y++)t[E+y]*=_}else for(var T=0;T<w;T++,E+=128)for(var C=g>=n.FIRST_PAIR_BT?2:4,y=0;y<m;y+=C){o.decodeSpectralData(e,g,d,0);for(var F=0;F<C;F++)t[E+y+F]=d[F]>0?a.IQ_TABLE[d[F]]:-a.IQ_TABLE[-d[F]],t[E+y+F]*=c[p]}}l+=w<<7}if(this.pulsePresent)throw new Error("TODO: add pulse data")}},i.prototype={decode:function(e,t,r){if(e.advance(1),this.windowSequence=e.read(2),this.windowShape[0]=this.windowShape[1],this.windowShape[1]=e.read(1),this.groupCount=1,this.groupLength[0]=1,this.windowSequence===n.EIGHT_SHORT_SEQUENCE){this.maxSFB=e.read(4);for(var i=0;i<7;i++)e.read(1)?this.groupLength[this.groupCount-1]++:(this.groupCount++,this.groupLength[this.groupCount-1]=1);this.windowCount=8,this.swbOffsets=a.SWB_OFFSET_128[t.sampleIndex],this.swbCount=a.SWB_SHORT_WINDOW_COUNT[t.sampleIndex],this.predictorPresent=!1}else this.maxSFB=e.read(6),this.windowCount=1,this.swbOffsets=a.SWB_OFFSET_1024[t.sampleIndex],this.swbCount=a.SWB_LONG_WINDOW_COUNT[t.sampleIndex],this.predictorPresent=!!e.read(1),this.predictorPresent&&this.decodePrediction(e,t,r)},decodePrediction:function(e,t,r){throw new Error("Prediction not implemented.")}},t.exports=n},{"./huffman":7,"./tables":11,"./tns":12}],9:[function(e,t,r){function n(e){switch(this.N=e,this.N2=e>>>1,this.N4=e>>>2,this.N8=e>>>3,e){case 2048:this.sincos=i.MDCT_TABLE_2048;break;case 256:this.sincos=i.MDCT_TABLE_256;break;case 1920:this.sincos=i.MDCT_TABLE_1920;break;case 240:this.sincos=i.MDCT_TABLE_240;break;default:throw new Error("unsupported MDCT length: "+e)}this.fft=new a(this.N4),this.buf=new Array(this.N4);for(var t=0;t<this.N4;t++)this.buf[t]=new Float32Array(2);this.tmp=new Float32Array(2)}var i=e("./mdct_tables"),a=e("./fft");n.prototype.process=function(e,t,r,n){for(var i=this.N2,a=this.N4,o=this.N8,s=this.buf,h=this.tmp,f=this.sincos,c=this.fft,d=0;d<a;d++)s[d][1]=e[t+2*d]*f[d][0]+e[t+i-1-2*d]*f[d][1],s[d][0]=e[t+i-1-2*d]*f[d][0]-e[t+2*d]*f[d][1];c.process(s,!1);for(var d=0;d<a;d++)h[0]=s[d][0],h[1]=s[d][1],s[d][1]=h[1]*f[d][0]+h[0]*f[d][1],s[d][0]=h[0]*f[d][0]-h[1]*f[d][1];for(var d=0;d<o;d+=2)r[n+2*d]=s[o+d][1],r[n+2+2*d]=s[o+1+d][1],r[n+1+2*d]=-s[o-1-d][0],r[n+3+2*d]=-s[o-2-d][0],r[n+a+2*d]=s[d][0],r[n+a+2+2*d]=s[1+d][0],r[n+a+1+2*d]=-s[a-1-d][1],r[n+a+3+2*d]=-s[a-2-d][1],r[n+i+2*d]=s[o+d][0],r[n+i+2+2*d]=s[o+1+d][0],r[n+i+1+2*d]=-s[o-1-d][1],r[n+i+3+2*d]=-s[o-2-d][1],r[n+i+a+2*d]=-s[d][1],r[n+i+a+2+2*d]=-s[1+d][1],r[n+i+a+1+2*d]=s[a-1-d][0],r[n+i+a+3+2*d]=s[a-2-d][0]},t.exports=n},{"./fft":5,"./mdct_tables":10}],10:[function(e,t,r){r.MDCT_TABLE_2048=[[.031249997702054,11984224612e-15],[.031249813866531,.000107857810004],[.031249335895858,.000203730380198],[.031248563794535,.000299601032804],[.031247497569829,.000395468865451],[.031246137231775,.000491332975794],[.031244482793177,.000587192461525],[.031242534269608,.000683046420376],[.031240291679407,.000778893950134],[.031237755043684,.000874734148645],[.031234924386313,.000970566113826],[.031231799733938,.001066388943669],[.03122838111597,.001162201736253],[.031224668564585,.001258003589751],[.031220662114728,.001353793602441],[.031216361804108,.00144957087271],[.031211767673203,.001545334499065],[.031206879765253,.001641083580144],[.031201698126266,.001736817214719],[.031196222805014,.001832534501709],[.031190453853031,.001928234540186],[.031184391324617,.002023916429386],[.031178035276836,.002119579268713],[.031171385769513,.002215222157753],[.031164442865236,.002310844196278],[.031157206629353,.002406444484258],[.031149677129975,.002502022121865],[.031141854437973,.002597576209488],[.031133738626977,.002693105847734],[.031125329773375,.002788610137442],[.031116627956316,.002884088179689],[.031107633257703,.002979539075801],[.0310983457622,.003074961927355],[.031088765557222,.003170355836197],[.031078892732942,.003265719904442],[.031068727382288,.003361053234488],[.031058269600939,.003456354929021],[.031047519487329,.003551624091024],[.03103647714264,.00364685982379],[.031025142670809,.003742061230921],[.031013516178519,.003837227416347],[.031001597775203,.003932357484328],[.030989387573042,.004027450539462],[.030976885686963,.004122505686697],[.030964092234638,.00421752203134],[.030951007336485,.004312498679058],[.030937631115663,.004407434735897],[.030923963698074,.004502329308281],[.030910005212362,.004597181503027],[.030895755789908,.00469199042735],[.030881215564835,.004786755188872],[.030866384674,.004881474895632],[.030851263256996,.00497614865609],[.030835851456154,.005070775579142],[.030820149416533,.005165354774124],[.030804157285929,.005259885350819],[.030787875214864,.005354366419469],[.030771303356593,.005448797090784],[.030754441867095,.005543176475946],[.030737290905077,.005637503686619],[.030719850631972,.005731777834961],[.030702121211932,.005825998033626],[.030684102811835,.00592016339578],[.030665795601276,.006014273035101],[.03064719975257,.006108326065793],[.030628315440748,.006202321602594],[.030609142843557,.006296258760782],[.030589682141455,.006390136656185],[.030569933517616,.006483954405188],[.030549897157919,.006577711124743],[.030529573250956,.006671405932375],[.030508961988022,.006765037946194],[.030488063563118,.0068586062849],[.030466878172949,.006952110067791],[.030445406016919,.007045548414774],[.030423647297133,.007138920446372],[.030401602218392,.007232225283733],[.030379270988192,.007325462048634],[.030356653816724,.007418629863497],[.030333750916869,.00751172785139],[.030310562504198,.00760475513604],[.030287088796968,.007697710841838],[.030263330016124,.007790594093851],[.030239286385293,.007883404017824],[.030214958130781,.007976139740197],[.030190345481576,.008068800388104],[.030165448669342,.00816138508939],[.030140267928416,.00825389297261],[.030114803495809,.008346323167047],[.030089055611203,.008438674802711],[.030063024516947,.008530947010354],[.030036710458054,.008623138921475],[.030010113682202,.008715249668328],[.029983234439732,.008807278383932],[.02995607298364,.008899224202078],[.02992862956958,.008991086257336],[.02990090445586,.009082863685067],[.029872897903441,.009174555621425],[.029844610175929,.009266161203371],[.029816041539579,.009357679568679],[.029787192263292,.009449109855944],[.029758062618606,.009540451204587],[.029728652879702,.009631702754871],[.029698963323395,.0097228636479],[.029668994229134,.009813933025633],[.029638745879,.009904910030891],[.029608218557702,.009995793807363],[.029577412552575,.010086583499618],[.029546328153577,.010177278253107],[.029514965653285,.010267877214177],[.029483325346896,.010358379530076],[.02945140753222,.010448784348962],[.029419212509679,.010539090819911],[.029386740582307,.010629298092923],[.02935399205574,.010719405318933],[.02932096723822,.010809411649818],[.02928766644059,.010899316238403],[.02925408997629,.010989118238474],[.029220238161353,.011078816804778],[.029186111314406,.011168411093039],[.029151709756664,.011257900259961],[.029117033811927,.011347283463239],[.029082083806579,.011436559861563],[.029046860069582,.01152572861463],[.029011362932476,.01161478888315],[.028975592729373,.011703739828853],[.028939549796957,.0117925806145],[.028903234474475,.011881310403886],[.028866647103744,.011969928361855],[.028829788029135,.012058433654299],[.028792657597583,.012146825448172],[.028755256158571,.012235102911499],[.028717584064137,.012323265213377],[.028679641668864,.01241131152399],[.028641429329882,.012499241014612],[.028602947406859,.012587052857618],[.028564196262001,.012674746226488],[.02852517626005,.012762320295819],[.028485887768276,.012849774241331],[.028446331156478,.012937107239875],[.028406506796976,.013024318469437],[.028366415064615,.013111407109155],[.028326056336751,.013198372339315],[.028285430993258,.013285213341368],[.028244539416515,.013371929297933],[.028203381991411,.013458519392807],[.028161959105334,.013544982810971],[.028120271148172,.013631318738598],[.028078318512309,.013717526363062],[.028036101592619,.013803604872943],[.027993620786463,.013889553458039],[.027950876493687,.013975371309367],[.027907869116616,.014061057619178],[.027864599060052,.014146611580959],[.02782106673127,.014232032389445],[.027777272540012,.014317319240622],[.027733216898487,.014402471331737],[.027688900221361,.014487487861307],[.027644322925762,.014572368029123],[.027599485431266,.014657111036262],[.027554388159903,.01474171608509],[.027509031536144,.014826182379271],[.027463415986904,.014910509123778],[.027417541941533,.014994695524894],[.027371409831816,.015078740790225],[.027325020091965,.015162644128704],[.027278373158618,.015246404750603],[.027231469470833,.015330021867534],[.027184309470088,.01541349469246],[.027136893600268,.015496822439704],[.027089222307671,.015580004324954],[.027041296040997,.015663039565269],[.026993115251345,.015745927379091],[.026944680392213,.015828666986247],[.026895991919487,.015911257607961],[.026847050291442,.015993698466859],[.026797855968734,.016075988786976],[.026748409414401,.016158127793763],[.026698711093851,.016240114714099],[.026648761474864,.016321948776289],[.026598561027585,.016403629210082],[.026548110224519,.016485155246669],[.02649740954053,.016566526118696],[.02644645945283,.016647741060271],[.026395260440982,.016728799306966],[.02634381298689,.016809700095831],[.026292117574797,.016890442665397],[.02624017469128,.016971026255683],[.026187984825246,.017051450108208],[.026135548467924,.01713171346599],[.026082866112867,.01721181557356],[.026029938255941,.017291755676967],[.025976765395322,.017371533023784],[.025923348031494,.017451146863116],[.025869686667242,.017530596445607],[.025815781807646,.017609881023449],[.02576163396008,.017688999850383],[.025707243634204,.017767952181715],[.02565261134196,.017846737274313],[.025597737597568,.017925354386623],[.025542622917522,.018003802778671],[.025487267820581,.018082081712071],[.025431672827768,.018160190450031],[.025375838462365,.018238128257362],[.025319765249906,.018315894400484],[.025263453718173,.018393488147432],[.025206904397193,.018470908767865],[.025150117819228,.01854815553307],[.025093094518776,.018625227715971],[.025035835032562,.018702124591135],[.024978339899534,.01877884543478],[.024920609660858,.01885538952478],[.024862644859912,.018931756140672],[.024804446042284,.019007944563666],[.024746013755764,.019083954076646],[.024687348550337,.019159783964183],[.024628450978184,.019235433512536],[.02456932159367,.019310902009663],[.024509960953345,.019386188745225],[.024450369615932,.019461293010596],[.024390548142329,.019536214098866],[.024330497095598,.019610951304848],[.024270217040961,.019685503925087],[.024209708545799,.019759871257867],[.024148972179639,.019834052603212],[.024088008514157,.019908047262901],[.024026818123164,.019981854540467],[.023965401582609,.020055473741208],[.023903759470567,.020128904172192],[.023841892367236,.020202145142264],[.023779800854935,.020275195962052],[.023717485518092,.020348055943974],[.023654946943242,.020420724402244],[.023592185719023,.020493200652878],[.023529202436167,.020565484013703],[.023465997687496,.020637573804361],[.023402572067918,.020709469346314],[.023338926174419,.020781169962854],[.023275060606058,.020852674979108],[.023210975963963,.020923983722044],[.023146672851322,.020995095520475],[.02308215187338,.021066009705072],[.023017413637435,.021136725608363],[.022952458752826,.021207242564742],[.022887287830934,.021277559910478],[.022821901485173,.021347676983716],[.022756300330983,.021417593124488],[.022690484985827,.021487307674717],[.022624456069185,.021556819978223],[.022558214202547,.021626129380729],[.022491760009405,.021695235229869],[.022425094115252,.021764136875192],[.022358217147572,.021832833668171],[.022291129735838,.021901324962204],[.022223832511501,.021969610112625],[.022156326107988,.022037688476709],[.022088611160696,.022105559413676],[.022020688306983,.022173222284699],[.021952558186166,.022240676452909],[.02188422143951,.022307921283403],[.021815678710228,.022374956143245],[.021746930643469,.022441780401478],[.021677977886316,.022508393429127],[.02160882108778,.022574794599206],[.02153946089879,.022640983286719],[.02146989797219,.022706958868676],[.021400132962735,.022772720724087],[.021330166527077,.022838268233979],[.021259999323769,.022903600781391],[.02118963201325,.022968717751391],[.021119065257845,.023033618531071],[.021048299721754,.023098302509561],[.02097733607105,.023162769078031],[.02090617497367,.023227017629698],[.020834817099409,.023291047559828],[.020763263119915,.023354858265748],[.02069151370868,.023418449146848],[.020619569541038,.023481819604585],[.020547431294155,.023544969042494],[.020475099647023,.023607896866186],[.020402575280455,.023670602483363],[.020329858877078,.023733085303813],[.020256951121327,.023795344739427],[.020183852699437,.023857380204193],[.020110564299439,.023919191114211],[.02003708661115,.023980776887692],[.019963420326171,.024042136944968],[.019889566137877,.024103270708495],[.019815524741412,.024164177602859],[.019741296833681,.024224857054779],[.019666883113346,.02428530849312],[.019592284280817,.024345531348888],[.019517501038246,.024405525055242],[.019442534089523,.0244652890475],[.019367384140264,.024524822763141],[.019292051897809,.024584125641809],[.019216538071215,.024643197125323],[.019140843371246,.024702036657681],[.019064968510369,.024760643685063],[.018988914202748,.024819017655836],[.018912681164234,.024877158020562],[.018836270112363,.024935064232003],[.018759681766343,.024992735745123],[.018682916847054,.025050172017095],[.018605976077037,.025107372507308],[.018528860180486,.025164336677369],[.018451569883247,.02522106399111],[.018374105912805,.025277553914591],[.01829646899828,.025333805916107],[.018218659870421,.025389819466194],[.018140679261596,.02544559403763],[.01806252790579,.025501129105445],[.017984206538592,.02555642414692],[.017905715897192,.025611478641598],[.017827056720375,.025666292071285],[.017748229748511,.025720863920056],[.01766923572355,.02577519367426],[.017590075389012,.025829280822525],[.017510749489986,.025883124855762],[.017431258773116,.02593672526717],[.0173516039866,.025990081552242],[.01727178588018,.026043193208768],[.017191805205132,.026096059736841],[.017111662714267,.026148680638861],[.017031359161915,.026201055419541],[.016950895303924,.026253183585908],[.016870271897651,.026305064647313],[.016789489701954,.026356698115431],[.016708549477186,.026408083504269],[.016627451985187,.026459220330167],[.016546197989277,.026510108111806],[.01646478825425,.026560746370212],[.016383223546365,.026611134628757],[.016301504633341,.026661272413168],[.016219632284346,.02671115925153],[.016137607269996,.026760794674288],[.01605543036234,.026810178214254],[.015973102334858,.026859309406613],[.015890623962454,.026908187788922],[.015807996021446,.026956812901119],[.015725219289558,.027005184285527],[.015642294545918,.027053301486856],[.015559222571044,.027101164052208],[.015476004146842,.027148771531083],[.015392640056594,.02719612347538],[.015309131084956,.027243219439406],[.015225478017946,.027290058979875],[.015141681642938,.027336641655915],[.015057742748656,.027382967029073],[.014973662125164,.027429034663317],[.014889440563862,.02747484412504],[.014805078857474,.027520394983066],[.014720577800046,.027565686808654],[.014635938186934,.027610719175499],[.014551160814797,.02765549165974],[.014466246481592,.02770000383996],[.014381195986567,.027744255297195],[.014296010130247,.027788245614933],[.014210689714436,.02783197437912],[.014125235542201,.027875441178165],[.01403964841787,.027918645602941],[.01395392914702,.027961587246792],[.013868078536476,.028004265705534],[.013782097394294,.028046680577462],[.013695986529763,.028088831463351],[.01360974675339,.028130717966461],[.013523378876898,.02817233969254],[.013436883713214,.028213696249828],[.013350262076462,.028254787249062],[.01326351478196,.028295612303478],[.013176642646205,.028336171028814],[.013089646486871,.028376463043317],[.013002527122799,.028416487967743],[.01291528537399,.028456245425361],[.012827922061597,.02849573504196],[.012740438007915,.028534956445849],[.012652834036379,.028573909267859],[.01256511097155,.028612593141354],[.012477269639111,.028651007702224],[.012389310865858,.028689152588899],[.012301235479693,.028727027442343],[.012213044309615,.028764631906065],[.012124738185712,.028801965626115],[.012036317939156,.028839028251097],[.011947784402191,.028875819432161],[.01185913840813,.028912338823015],[.011770380791341,.028948586079925],[.011681512387245,.028984560861718],[.011592534032306,.029020262829785],[.011503446564022,.029055691648087],[.011414250820918,.029090846983152],[.011324947642537,.029125728504087],[.011235537869437,.029160335882573],[.011146022343175,.029194668792871],[.011056401906305,.029228726911828],[.010966677402371,.029262509918876],[.010876849675891,.029296017496036],[.010786919572361,.029329249327922],[.010696887938235,.029362205101743],[.010606755620926,.029394884507308],[.010516523468793,.029427287237024],[.010426192331137,.029459412985906],[.010335763058187,.029491261451573],[.010245236501099,.029522832334255],[.010154613511943,.029554125336796],[.010063894943698,.029585140164654],[.00997308165024,.029615876525905],[.00988217448634,.029646334131247],[.00979117430765,.029676512694001],[.009700081970699,.029706411930116],[.009608898332881,.029736031558168],[.009517624252453,.029765371299366],[.009426260588521,.029794430877553],[.009334808201034,.02982321001921],[.009243267950778,.029851708453456],[.009151640699363,.029879925912053],[.00905992730922,.029907862129408],[.008968128643591,.029935516842573],[.00887624556652,.029962889791254],[.008784278942845,.029989980717805],[.008692229638191,.030016789367235],[.008600098518961,.030043315487212],[.008507886452329,.030069558828062],[.00841559430623,.030095519142772],[.008323222949351,.030121196186994],[.008230773251129,.030146589719046],[.008138246081733,.030171699499915],[.008045642312067,.030196525293257],[.00795296281375,.030221066865402],[.007860208459119,.030245323985357],[.007767380121212,.030269296424803],[.007674478673766,.030292983958103],[.007581504991203,.030316386362302],[.007488459948628,.030339503417126],[.007395344421816,.030362334904989],[.007302159287206,.030384880610993],[.007208905421891,.030407140322928],[.007115583703613,.030429113831278],[.007022195010752,.03045080092922],[.006928740222316,.030472201412626],[.006835220217939,.030493315080068],[.006741635877866,.030514141732814],[.006647988082948,.030534681174838],[.006554277714635,.030554933212813],[.006460505654964,.030574897656119],[.006366672786553,.030594574316845],[.006272779992593,.030613963009786],[.006178828156839,.030633063552447],[.006084818163601,.030651875765048],[.005990750897737,.03067039947052],[.005896627244644,.030688634494512],[.00580244809025,.030706580665388],[.005708214321004,.030724237814232],[.005613926823871,.030741605774849],[.005519586486321,.030758684383764],[.005425194196321,.030775473480228],[.005330750842327,.030791972906214],[.005236257313276,.030808182506425],[.005141714498576,.030824102128288],[.005047123288102,.030839731621963],[.004952484572181,.030855070840339],[.004857799241589,.030870119639036],[.004763068187541,.030884877876411],[.004668292301681,.030899345413553],[.004573472476075,.030913522114288],[.004478609603205,.03092740784518],[.004383704575956,.03094100247553],[.00428875828761,.030954305877381],[.004193771631837,.030967317925516],[.004098745502689,.030980038497461],[.004003680794587,.030992467473486],[.003908578402316,.031004604736602],[.003813439221017,.031016450172571],[.003718264146176,.031028003669899],[.003623054073616,.031039265119839],[.003527809899492,.031050234416394],[.003432532520278,.031060911456318],[.00333722283276,.031071296139114],[.003241881734029,.031081388367037],[.003146510121474,.031091188045095],[.003051108892766,.031100695081051],[.00295567894586,.031109909385419],[.002860221178978,.031118830871473],[.002764736490604,.031127459455239],[.002669225779478,.031135795055501],[.002573689944583,.031143837593803],[.002478129885137,.031151586994444],[.002382546500589,.031159043184484],[.002286940690606,.031166206093743],[.002191313355067,.0311730756548],[.002095665394051,.031179651802998],[.001999997707835,.031185934476438],[.001904311196878,.031191923615985],[.00180860676182,.031197619165268],[.001712885303465,.031203021070678],[.001617147722782,.03120812928137],[.001521394920889,.031212943749264],[.001425627799047,.031217464429043],[.001329847258653,.031221691278159],[.001234054201231,.031225624256825],[.00113824952842,.031229263328024],[.001042434141971,.031232608457502],[.000946608943736,.031235659613775],[.000850774835656,.031238416768124],[.000754932719759,.031240879894597],[.000659083498149,.03124304897001],[.000563228072993,.031244923973948],[.00046736734652,.031246504888762],[.000371502221008,.031247791699571],[.000275633598775,.031248784394264],[.000179762382174,.031249482963498],[83889473581e-15,.031249887400697]],r.MDCT_TABLE_256=[[.088387931675923,.000271171628935],[.088354655998507,.002440238387037],[.08826815878011,.00460783523678],[.088128492123423,.006772656498875],[.087935740158418,.008933398165942],[.08769001899167,.011088758687994],[.087391476636423,.013237439756448],[.087040292923427,.015378147086172],[.086636679392621,.017509591195118],[.086180879165703,.019630488181053],[.085673166799686,.02173956049494],[.085113848121515,.023835537710479],[.084503260043847,.025917157289369],[.08384177036211,.027983165341813],[.083129777532952,.030032317381813],[.08236771043423,.032063379076803],[.081556028106671,.034075126991164],[.080695219477356,.036066349323177],[.079785803065216,.038035846634965],[.078828326668693,.039982432574992],[.077823367035766,.041904934592675],[.07677152951654,.043802194644686],[.075673447698606,.045673069892513],[.07452978302539,.047516433390863],[.073341224397728,.049331174766491],[.072108487758894,.051116200887052],[.070832315663343,.052870436519557],[.069513476829429,.054592824978055],[.068152765676348,.056282328760143],[.06675100184562,.057937930171918],[.065309029707361,.059558631940996],[.063827717851668,.061143457817234],[.062307958565413,.062691453160784],[.060750667294763,.064201685517134],[.059156782093749,.065673245178784],[.057527263059216,.06710524573322],[.055863091752499,.068496824596852],[.054165270608165,.069847143534609],[.052434822330188,.071155389164853],[.050672789275903,.072420773449336],[.048880232828135,.073642534167879],[.047058232755862,.074819935377512],[.045207886563797,.075952267855771],[.043330308831298,.077038849527912],[.041426630540984,.078079025877766],[.039497998397473,.079072170341994],[.037545574136653,.080017684687506],[.035570533825892,.080914999371817],[.033574067155622,.081763573886112],[.031557376722714,.082562897080836],[.029521677306074,.083312487473584],[.027468195134911,.084011893539132],[.025398167150101,.084660693981419],[.023312840259098,.08525849798732],[.021213470584847,.085804945462053],[.019101322709138,.086299707246093],[.016977668910873,.086742485313442],[.014843788399692,.087133012951149],[.012700966545425,.087471054919968],[.01055049410383,.087756407596056],[.008393666439096,.087988899093631],[.006231782743558,.08816838936851],[.004066145255116,.088294770302461],[.001898058472816,.088367965768336]],r.MDCT_TABLE_1920=[[.032274858518097,13202404176e-15],[.032274642494505,.000118821372483],[.032274080835421,.000224439068308],[.03227317354686,.000330054360572],[.032271920638538,.000435666118218],[.032270322123873,.000541273210231],[.032268378019984,.000646874505642],[.032266088347691,.000752468873546],[.032263453131514,.000858055183114],[.032260472399674,.0009636323036],[.032257146184092,.001069199104358],[.03225347452039,.001174754454853],[.032249457447888,.001280297224671],[.032245095009606,.001385826283535],[.032240387252262,.001491340501313],[.032235334226272,.001596838748031],[.03222993598575,.00170231989389],[.032224192588507,.001807782809271],[.03221810409605,.001913226364749],[.032211670573582,.002018649431111],[.03220489209,.002124050879359],[.032197768717898,.002229429580728],[.03219030053356,.002334784406698],[.032182487616965,.002440114229003],[.032174330051782,.002545417919644],[.032165827925374,.002650694350905],[.03215698132879,.002755942395358],[.032147790356771,.002861160925883],[.032138255107744,.002966348815672],[.032128375683825,.00307150493825],[.032118152190814,.003176628167476],[.032107584738196,.003281717377568],[.032096673439141,.003386771443102],[.0320854184105,.003491789239036],[.032073819772804,.003596769640711],[.032061877650267,.003701711523874],[.032049592170778,.00380661376468],[.032036963465906,.003911475239711],[.032023991670893,.004016294825985],[.032010676924657,.004121071400967],[.031997019369789,.004225803842586],[.031983019152549,.004330491029241],[.031968676422869,.004435131839816],[.031953991334348,.004539725153692],[.031938964044252,.004644269850758],[.03192359471351,.004748764811426],[.031907883506716,.004853208916638],[.031891830592124,.004957601047881],[.031875436141648,.0050619400872],[.031858700330859,.005166224917208],[.031841623338985,.005270454421097],[.031824205348907,.005374627482653],[.031806446547156,.005478742986267],[.031788347123916,.005582799816945],[.031769907273017,.005686796860323],[.031751127191935,.005790733002674],[.031732007081789,.005894607130928],[.03171254714734,.005998418132675],[.031692747596989,.006102164896182],[.031672608642773,.006205846310406],[.031652130500364,.006309461265002],[.031631313389067,.006413008650337],[.031610157531816,.006516487357501],[.031588663155172,.006619896278321],[.031566830489325,.00672323430537],[.031544659768083,.006826500331981],[.031522151228878,.006929693252258],[.031499305112758,.007032811961088],[.031476121664387,.007135855354151],[.03145260113204,.007238822327937],[.031428743767604,.007341711779751],[.031404549826572,.00744452260773],[.031380019568042,.007547253710853],[.031355153254712,.007649903988952],[.031329951152882,.007752472342725],[.031304413532445,.007854957673748],[.031278540666888,.007957358884484],[.03125233283329,.0080596748783],[.031225790312316,.008161904559473],[.031198913388214,.008264046833205],[.031171702348814,.008366100605636],[.031144157485525,.008468064783849],[.031116279093331,.008569938275893],[.031088067470786,.008671719990782],[.031059522920014,.008773408838517],[.031030645746705,.008875003730092],[.03100143626011,.008976503577507],[.030971894773039,.00907790729378],[.030942021601857,.009179213792959],[.030911817066483,.009280421990133],[.030881281490382,.009381530801444],[.030850415200566,.009482539144097],[.030819218527589,.009583445936373],[.030787691805541,.009684250097643],[.030755835372048,.009784950548375],[.030723649568268,.009885546210147],[.030691134738883,.009986036005661],[.030658291232103,.010086418858753],[.030625119399655,.010186693694402],[.030591619596781,.010286859438745],[.030557792182239,.010386915019088],[.030523637518292,.010486859363916],[.03048915597071,.010586691402906],[.030454347908763,.010686410066936],[.030419213705216,.010786014288099],[.030383753736329,.010885502999714],[.030347968381849,.010984875136338],[.03031185802501,.011084129633775],[.030275423052523,.011183265429088],[.030238663854579,.011282281460612],[.030201580824838,.011381176667967],[.03016417436043,.011479949992062],[.030126444861948,.011578600375117],[.030088392733446,.011677126760663],[.03005001838243,.011775528093563],[.030011322219859,.011873803320018],[.029972304660138,.011971951387578],[.029932966121114,.012069971245157],[.02989330702407,.012167861843041],[.029853327793724,.012265622132901],[.029813028858222,.012363251067801],[.029772410649132,.012460747602215],[.029731473601443,.012558110692033],[.029690218153558,.012655339294575],[.029648644747289,.0127524323686],[.029606753827855,.01284938887432],[.029564545843872,.012946207773407],[.029522021247356,.013042888029011],[.02947918049371,.013139428605762],[.029436024041725,.013235828469789],[.02939255235357,.013332086588727],[.029348765894794,.013428201931728],[.029304665134313,.013524173469475],[.029260250544412,.013620000174189],[.029215522600735,.013715681019643],[.029170481782283,.013811214981173],[.029125128571406,.013906601035686],[.029079463453801,.014001838161674],[.029033486918505,.014096925339225],[.028987199457889,.014191861550031],[.028940601567655,.014286645777401],[.028893693746829,.014381277006273],[.028846476497755,.014475754223221],[.028798950326094,.014570076416472],[.028751115740811,.01466424257591],[.028702973254178,.014758251693091],[.02865452338176,.014852102761253],[.028605766642418,.014945794775326],[.028556703558297,.015039326731945],[.028507334654823,.015132697629457],[.028457660460698,.015225906467935],[.028407681507891,.015318952249187],[.028357398331639,.015411833976768],[.028306811470432,.015504550655988],[.028255921466016,.015597101293927],[.028204728863381,.015689484899442],[.02815323421076,.015781700483179],[.028101438059619,.015873747057582],[.028049340964652,.015965623636907],[.027996943483779,.016057329237229],[.027944246178133,.016148862876456],[.027891249612061,.016240223574335],[.027837954353113,.016331410352467],[.027784360972039,.016422422234315],[.02773047004278,.016513258245214],[.027676282142466,.016603917412384],[.027621797851405,.016694398764938],[.02756701775308,.016784701333894],[.027511942434143,.016874824152183],[.027456572484404,.016964766254662],[.027400908496833,.017054526678124],[.027344951067546,.017144104461307],[.027288700795801,.017233498644904],[.027232158283994,.017322708271577],[.027175324137651,.01741173238596],[.027118198965418,.017500570034678],[.02706078337906,.017589220266351],[.027003077993454,.017677682131607],[.026945083426576,.017765954683088],[.026886800299502,.017854036975468],[.026828229236397,.017941928065456],[.026769370864511,.018029627011808],[.02671022581417,.01811713287534],[.026650794718768,.018204444718934],[.026591078214767,.018291561607551],[.02653107694168,.018378482608238],[.026470791542075,.018465206790142],[.026410222661558,.018551733224515],[.026349370948775,.01863806098473],[.026288237055398,.018724189146286],[.026226821636121,.018810116786819],[.026165125348656,.018895842986112],[.026103148853718,.018981366826109],[.026040892815028,.019066687390916],[.025978357899296,.019151803766819],[.025915544776223,.01923671504229],[.025852454118485,.019321420307998],[.025789086601733,.019405918656817],[.025725442904582,.019490209183837],[.025661523708606,.019574290986376],[.025597329698327,.019658163163984],[.025532861561211,.019741824818458],[.025468119987662,.019825275053848],[.025403105671008,.01990851297647],[.025337819307501,.019991537694913],[.025272261596305,.020074348320047],[.025206433239491,.020156943965039],[.025140334942028,.020239323745355],[.025073967411776,.020321486778774],[.025007331359476,.020403432185395],[.024940427498748,.02048515908765],[.024873256546079,.020566666610309],[.024805819220816,.020647953880491],[.024738116245157,.020729020027676],[.024670148344147,.020809864183709],[.024601916245669,.020890485482816],[.024533420680433,.020970883061607],[.024464662381971,.021051056059087],[.02439564208663,.02113100361667],[.024326360533561,.021210724878181],[.024256818464715,.021290218989868],[.02418701662483,.021369485100415],[.02411695576143,.021448522360944],[.024046636624808,.02152732992503],[.023976059968027,.021605906948708],[.023905226546906,.02168425259048],[.023834137120014,.021762366011328],[.023762792448662,.02184024637472],[.023691193296893,.02191789284662],[.023619340431478,.021995304595495],[.023547234621902,.02207248079233],[.023474876640361,.022149420610628],[.023402267261751,.022226123226426],[.023329407263659,.0223025878183],[.023256297426359,.022378813567377],[.023182938532797,.022454799657339],[.023109331368588,.022530545274437],[.023035476722006,.022606049607496],[.022961375383975,.022681311847926],[.022887028148061,.022756331189727],[.022812435810462,.022831106829504],[.022737599170003,.022905637966469],[.022662519028125,.022979923802453],[.022587196188874,.023053963541915],[.022511631458899,.02312775639195],[.022435825647437,.023201301562294],[.022359779566306,.023274598265338],[.0222834940299,.023347645716133],[.022206969855176,.0234204431324],[.022130207861645,.023492989734537],[.022053208871367,.023565284745628],[.02197597370894,.023637327391451],[.021898503201489,.023709116900488],[.021820798178663,.023780652503931],[.021742859472618,.023851933435691],[.021664687918017,.023922958932406],[.021586284352013,.023993728233451],[.021507649614247,.024064240580942],[.021428784546832,.02413449521975],[.02134968999435,.024204491397504],[.02127036680384,.0242742283646],[.021190815824791,.024343705374213],[.021111037909128,.024412921682298],[.02103103391121,.024481876547605],[.020950804687815,.024550569231683],[.020870351098134,.024618998998889],[.020789674003759,.024687165116394],[.020708774268678,.024755066854194],[.020627652759262,.024822703485116],[.020546310344257,.024890074284826],[.020464747894775,.024957178531837],[.020382966284284,.025024015507516],[.0203009663886,.025090584496093],[.020218749085876,.025156884784668],[.020136315256592,.025222915663218],[.020053665783549,.025288676424605],[.019970801551857,.025354166364584],[.019887723448925,.025419384781811],[.019804432364452,.025484330977848],[.019720929190419,.025549004257175],[.019637214821078,.025613403927192],[.019553290152943,.02567752929823],[.019469156084779,.025741379683559],[.019384813517595,.025804954399392],[.019300263354632,.025868252764895],[.019215506501354,.025931274102193],[.019130543865439,.025994017736379],[.019045376356769,.026056482995518],[.018960004887419,.026118669210657],[.018874430371648,.026180575715833],[.018788653725892,.026242201848076],[.01870267586875,.026303546947421],[.018616497720974,.026364610356909],[.018530120205464,.026425391422602],[.018443544247254,.026485889493583],[.018356770773502,.026546103921965],[.018269800713483,.026606034062902],[.018182634998576,.026665679274589],[.018095274562256,.026725038918274],[.018007720340083,.026784112358263],[.017919973269692,.026842898961926],[.017832034290785,.026901398099707],[.017743904345116,.026959609145127],[.017655584376488,.027017531474792],[.017567075330734,.027075164468401],[.017478378155718,.02713250750875],[.017389493801313,.027189559981742],[.017300423219401,.027246321276391],[.017211167363854,.027302790784828],[.017121727190533,.02735896790231],[.017032103657269,.027414852027226],[.016942297723858,.027470442561102],[.01685231035205,.027525738908608],[.016762142505537,.027580740477564],[.016671795149944,.027635446678948],[.016581269252819,.0276898569269],[.016490565783622,.02774397063873],[.016399685713714,.027797787234924],[.016308630016347,.027851306139149],[.016217399666655,.02790452677826],[.016125995641641,.027957448582309],[.01603441892017,.028010070984544],[.015942670482954,.028062393421421],[.015850751312545,.02811441533261],[.015758662393324,.028166136160998],[.015666404711489,.028217555352697],[.015573979255046,.028268672357047],[.015481387013797,.028319486626627],[.015388628979331,.028369997617257],[.015295706145012,.028420204788004],[.015202619505968,.028470107601191],[.015109370059084,.028519705522399],[.015015958802984,.028568998020472],[.01492238673803,.028617984567529],[.014828654866302,.028666664638963],[.014734764191593,.028715037713449],[.014640715719398,.028763103272951],[.0145465104569,.028810860802724],[.014452149412962,.028858309791325],[.014357633598114,.028905449730613],[.014262964024545,.028952280115756],[.01416814170609,.02899880044524],[.01407316765822,.029045010220868],[.01397804289803,.029090908947771],[.013882768444231,.029136496134411],[.013787345317136,.029181771292585],[.013691774538648,.029226733937433],[.013596057132255,.029271383587441],[.013500194123014,.029315719764447],[.013404186537539,.029359741993647],[.013308035403995,.029403449803598],[.013211741752084,.029446842726223],[.013115306613032,.02948992029682],[.013018731019584,.029532682054063],[.012922016005985,.029575127540008],[.012825162607977,.029617256300097],[.012728171862781,.029659067883165],[.012631044809089,.029700561841444],[.012533782487056,.029741737730567],[.012436385938281,.029782595109573],[.012338856205805,.029823133540913],[.012241194334091,.029863352590452],[.012143401369021,.029903251827477],[.012045478357878,.029942830824699],[.011947426349339,.029982089158259],[.011849246393462,.030021026407731],[.011750939541676,.030059642156129],[.011652506846768,.030097935989909],[.011553949362874,.030135907498976],[.011455268145464,.030173556276684],[.011356464251335,.030210881919845],[.011257538738598,.030247884028732],[.011158492666665,.030284562207083],[.01105932709624,.030320916062102],[.010960043089307,.03035694520447],[.010860641709118,.030392649248343],[.010761124020182,.030428027811361],[.010661491088253,.030463080514646],[.010561743980319,.030497806982812],[.010461883764593,.030532206843968],[.010361911510496,.030566279729717],[.010261828288652,.030600025275167],[.010161635170872,.030633443118931],[.010061333230142,.030666532903129],[.009960923540617,.030699294273397],[.009860407177603,.030731726878888],[.00975978521755,.030763830372273],[.009659058738038,.03079560440975],[.009558228817767,.030827048651045],[.009457296536545,.030858162759415],[.009356262975275,.030888946401653],[.009255129215945,.030919399248091],[.009153896341616,.030949520972603],[.009052565436412,.030979311252611],[.008951137585505,.031008769769084],[.008849613875105,.031037896206544],[.008747995392451,.031066690253072],[.008646283225794,.031095151600306],[.00854447846439,.031123279943448],[.008442582198486,.031151074981266],[.00834059551931,.031178536416098],[.008238519519057,.031205663953853],[.008136355290878,.031232457304017],[.008034103928871,.031258916179656],[.007931766528065,.031285040297416],[.007829344184412,.031310829377528],[.007726837994772,.031336283143813],[.007624249056906,.03136140132368],[.007521578469457,.031386183648135],[.007418827331946,.031410629851778],[.007315996744755,.031434739672811],[.007213087809115,.031458512853036],[.007110101627101,.031481949137863],[.00700703930161,.031505048276306],[.006903901936357,.031527810020993],[.006800690635862,.031550234128164],[.006697406505433,.031572320357675],[.006594050651161,.031594068473],[.006490624179905,.031615478241233],[.006387128199278,.031636549433095],[.006283563817639,.031657281822929],[.00617993214408,.031677675188707],[.006076234288412,.031697729312034],[.005972471361157,.031717443978146],[.005868644473532,.031736818975914],[.00576475473744,.031755854097848],[.005660803265456,.031774549140098],[.005556791170816,.031792903902453],[.005452719567407,.03181091818835],[.005348589569753,.031828591804869],[.005244402293001,.031845924562742],[.005140158852914,.031862916276347],[.005035860365855,.031879566763717],[.004931507948778,.031895875846539],[.004827102719212,.031911843350155],[.004722645795254,.031927469103567],[.004618138295554,.031942752939435],[.004513581339303,.031957694694082],[.004408976046222,.031972294207493],[.004304323536549,.03198655132332],[.00419962493103,.032000465888879],[.004094881350902,.032014037755158],[.003990093917884,.032027266776813],[.003885263754166,.03204015281217],[.003780391982394,.032052695723232],[.003675479725661,.032064895375674],[.003570528107494,.032076751638847],[.003465538251839,.03208826438578],[.003360511283053,.032099433493181],[.003255448325892,.032110258841438],[.003150350505494,.032120740314619],[.003045218947373,.032130877800478],[.002940054777404,.032140671190449],[.00283485912181,.032150120379653],[.002729633107153,.032159225266897],[.002624377860318,.032167985754674],[.002519094508504,.032176401749168],[.002413784179212,.03218447316025],[.002308448000231,.032192199901481],[.002203087099626,.032199581890114],[.002097702605728,.032206619047093],[.001992295647121,.032213311297057],[.001886867352628,.032219658568338],[.001781418851302,.03222566079296],[.00167595127241,.032231317906644],[.001570465745428,.032236629848809],[.001464963400018,.032241596562566],[.001359445366028,.032246217994727],[.00125391277347,.032250494095799],[.001148366752513,.03225442481999],[.001042808433471,.032258010125204],[.000937238946789,.032261249973045],[.00083165942303,.032264144328817],[.000726070992868,.032266693161525],[.000620474787068,.032268896443871],[.000514871936481,.032270754152261],[.00040926357203,.032272266266801],[.000303650824695,.032273432771295],[.000198034825504,.032274253653254],[92416705518e-15,.032274728903884]],
r.MDCT_TABLE_240=[[.091286604111815,.000298735779793],[.091247502481454,.002688238127538],[.091145864370807,.005075898091152],[.090981759437558,.00746007928776],[.09075530015103,.009839147718664],[.090466641715108,.012211472889198],[.090115981961863,.014575428926191],[.089703561215976,.016929395692256],[.089229662130024,.019271759896156],[.088694609490769,.02160091619847],[.088098769996564,.02391526831181],[.087442552006035,.026213230094844],[.086726405258214,.028493226639351],[.085950820564309,.030753695349588],[.085116329471329,.032993087013213],[.084223503897785,.035209866863042],[.083272955741727,.037402515628894],[.082265336461381,.039569530578832],[.08120133662867,.041709426549053],[.08008168545593,.043820736961749],[.078907150296148,.045902014830227],[.077678536117054,.047951833750597],[.076396684949434,.049968788879362],[.07506247531005,.051951497896226],[.073676821599542,.053898601951466],[.072240673475749,.055808766597225],[.070755015202858,.057680682702068],[.06922086497684,.059513067348201],[.067639274227625,.061304664710718],[.066011326898512,.063054246918278],[.064338138703282,.06476061489463],[.062620856361546,.066422599180399],[.060860656812842,.068039060734572],[.059058746410016,.069608891715145],[.05721636009245,.071131016238378],[.055334760539699,.072604391116154],[.053415237306106,.07402800657093],[.051459105937014,.075400886927784],[.049467707067153,.076722091283096],[.047442405501835,.077990714149396],[.045384589281588,.079205886075941],[.043295668730857,.080366774244592],[.041177075491445,.081472583040586],[.039030261541332,.08252255459781],[.036856698199564,.083515969318206],[.034657875117883,.084452146364948],[.032435299259796,.085330444129049],[.030190493867775,.086150260669096],[.027924997419306,.086911034123781],[.025640362572491,.087612243096981],[.023338155101933,.088253407015092],[.021019952825636,.08883408645639],[.018687344523641,.089353883452193],[.016341928849164,.089812441759604],[.013985313232951,.090209447105664],[.011619112781631,.09054462740274],[.009244949170797,.090817752935],[.006864449533597,.091028636515846],[.004479245345574,.091177133616206],[.002090971306534,.091263142463585]]},{}],11:[function(e,t,r){const n=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]),i=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]),a=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]),o=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]),s=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]),h=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]),f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]),c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]),d=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]),l=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]),p=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]),u=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]),w=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);r.SWB_OFFSET_1024=[n,n,a,s,s,f,c,c,l,l,l,u],r.SWB_OFFSET_128=[i,i,o,h,h,h,d,d,p,p,p,w],r.SWB_SHORT_WINDOW_COUNT=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]),r.SWB_LONG_WINDOW_COUNT=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]),r.SCALEFACTOR_TABLE=function(){for(var e=new Float32Array(428),t=0;t<428;t++)e[t]=Math.pow(2,(t-200)/4);return e}(),r.IQ_TABLE=function(){for(var e=new Float32Array(8191),t=4/3,r=0;r<8191;r++)e[r]=Math.pow(r,t);return e}(),r.SAMPLE_RATES=new Int32Array([96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350])},{}],12:[function(e,t,r){function n(e){this.maxBands=l[e.sampleIndex],this.nFilt=new Int32Array(8),this.length=new Array(8),this.direction=new Array(8),this.order=new Array(8),this.coef=new Array(8);for(var t=0;t<8;t++){this.length[t]=new Int32Array(4),this.direction[t]=new Array(4),this.order[t]=new Int32Array(4),this.coef[t]=new Array(4);for(var r=0;r<4;r++)this.coef[t][r]=new Float32Array(i)}this.lpc=new Float32Array(i),this.tmp=new Float32Array(i)}const i=20,a=[1,4,3],o=[2,6,5],s=[0,-.43388373,.64278758,.34202015],h=[0,-.43388373,-.7818315,-.9749279,.98480773,.86602539,.64278758,.34202015],f=[0,-.2079117,-.40673664,-.58778524,.67369562,.52643216,.36124167,.18374951],c=[0,-.2079117,-.40673664,-.58778524,-.74314481,-.86602539,-.95105654,-.99452192,.99573416,.96182561,.8951633,.7980172,.67369562,.52643216,.36124167,.18374951],d=[h,c,s,f],l=[31,31,34,40,42,51,46,46,42,42,42,39,39];n.prototype.decode=function(e,t){for(var r=t.windowCount,n=2===t.windowSequence?a:o,i=0;i<r;i++)if(this.nFilt[i]=e.read(n[0]))for(var s=e.read(1),h=this.nFilt[i],f=this.length[i],c=this.order[i],l=this.direction[i],p=this.coef[i],u=0;u<h;u++){if(f[u]=e.read(n[1]),(c[u]=e.read(n[2]))>20)throw new Error("TNS filter out of range: "+c[u]);if(c[u]){l[u]=!!e.read(1);for(var w=e.read(1),v=s+3-w,g=2*w+s,E=d[g],m=c[u],T=p[u],S=0;S<m;S++)T[S]=E[e.read(v)]}}},n.prototype.process=function(e,t,r){for(var n=Math.min(this.maxBands,e.maxSFB),i=this.lpc,a=this.tmp,o=e.info,s=o.windowCount,h=0;h<s;h++)for(var f=o.swbCount,c=this.nFilt[h],d=this.length[h],l=this.order[h],p=this.coef[h],u=this.direction[h],w=0;w<c;w++){var v=f,f=Math.max(0,a-d[w]),g=l[w];if(0!==g){for(var E=p[w],m=0;m<g;m++){var T=-E[m];i[m]=T;for(var S=0,A=m+1>>1;S<A;S++){var y=i[S],_=i[m-1-S];i[S]=y+T*_,i[m-1-S]=_+T*y}}var C,F=o.swbOffsets[Math.min(f,n)],b=o.swbOffsets[Math.min(v,n)],I=1;if(!((C=b-F)<=0))if(u[w]&&(I=-1,F=b-1),F+=128*h,r)for(var O=0;O<C;O++,F+=I)for(var m=1;m<=Math.min(O,g);m++)t[F]-=t[F-m*I]*i[m-1];else for(var O=0;O<C;O++,F+=I){a[0]=t[F];for(var m=1;m<=Math.min(O,g);m++)t[F]+=a[m]*i[m-1];for(var m=g;m>0;m--)a[m]=a[m-1]}}}},t.exports=n},{}]},{},[4]);
var CP_USE_WEB_SOCKET_WORKER=!1;(function(){var e={}.hasOwnProperty,t=function(t,o){function r(){this.constructor=t}for(var n in o)e.call(o,n)&&(t[n]=o[n]);return r.prototype=o.prototype,t.prototype=new r,t.__super__=o.prototype,t};AV.WebSocketSource=function(e){function o(e,t){return console.log("[audio_player socket]: start init with "+(CP_USE_WEB_SOCKET_WORKER?"websocket_worker":"websocket_native")+", url: "+e),this.serverUrl=e,this.fileName=t,"undefined"==typeof WebSocket||null===WebSocket?(console.error("[audio_player socket]: invalid WebSocket class"),this.emit("error","[audio_player socket]: This browser does not have WebSocket support.")):(CP_USE_WEB_SOCKET_WORKER?this.socket=new CPWebSocketWorker(this.serverUrl,r):this.socket=new WebSocket(this.serverUrl),this.bytesLoaded=0,this.__closed=!1,this.__debugCheckTimerId=i,this.__debugCheckLastTime=0,this.__debugCheckLastPkgCount=0,this._setupSocket(),void(CP_USE_WEB_SOCKET_WORKER&&this.socket.connect()))}t(o,e);var r=!0,n=1e3,s=41,i=-1;o.prototype.start=function(){return this._send({resume:!0})},o.prototype.pause=function(){return this._send({pause:!0})},o.prototype.reset=function(){return this._send({reset:!0})},o.prototype.close=function(){return console.log("[audio_player socket]: force close"),this.__closed=!0,this.__debugCheckTimerId!=i&&(clearInterval(this.__debugCheckTimerId),this.__debugCheckTimerId=i),this.socket&&(this.socket.close(1e3),this.socket=null),!0},o.prototype._send=function(e){return this.open?this.socket.send(JSON.stringify(e)):this._bufferMessage=e};var c=this.socket;return o.prototype._setupSocket=function(){function e(e){return this.__debugCheckTimerId!=i&&(clearInterval(this.__debugCheckTimerId),this.__debugCheckTimerId=i),!!this.__closed&&(console.warn("[audio_player socket]: was closed before .."),c&&setTimeout(function(){c.close(),c=null},100),!0)}function t(e){try{var t=128,o=e.length<t?e.length:t;return Array.from(e.subarray(0,o),function(e){return("0"+(255&e).toString(16)).slice(-2)}).join("")}catch(r){return r.toString()}}return console.log("[audio_player socket]: start setup socket"),this.socket.binaryType="arraybuffer",this.socket.onopen=function(t){return function(){if(console.log("[audio_player socket]: open"),!e(t))return t.open=!0,t.emit("connected"),t.fileName&&t._send({fileName:t.fileName}),t._bufferMessage?(t._send(t._bufferMessage),t._bufferMessage=null):void 0}}(this),this.pktnum=0,this.socket.onmessage=function(o){return function(c){if(!e(o)){o.pktnum++,r&&!o.__closed&&o.__debugCheckTimerId==i&&(o.__debugCheckLastTime=Date.now(),o.__debugCheckLastPkgCount=o.pktnum,o.__debugCheckTimerId=setInterval(function(){if(!e(o)){var t=Date.now(),r=o.pktnum-o.__debugCheckLastPkgCount,n=t-o.__debugCheckLastTime,i=1e3*r/n;o.__debugCheckLastPkgCount=o.pktnum,o.__debugCheckLastTime=t,i<s&&console.log("[audio_player socket] recv total package count: "+r+" in time: "+n+"ms, LOW avgRecvPkgCount: "+i)}},n));var u,a;if(a=c.data,"string"!=typeof a){var l=new Uint8Array(a);return o.pktnum%600==1&&console.log("[audio_player socket]: pkgnum: "+o.pktnum+", binary data("+l.length+" bytes): "+t(l)),u=new AV.Buffer(l),o.bytesLoaded+=u.length,o.length&&o.emit("progress",o.bytesLoaded/o.length*100),o.emit("data",u)}return console.log("[audio_player socket]: pkgnum: "+o.pktnum+", string data: "+a),a=JSON.parse(a),null!=a.fileSize?o.length=a.fileSize:null!=a.error?o.emit("error",a.error):a.end?o.socket.close():void 0}}}(this),this.socket.onclose=function(e){return console.log("[audio_player socket]: closed"),function(t){return this.__closed=!0,e.open=!1,t.wasClean?e.emit("end"):e.emit("error","[audio_player socket]: WebSocket closed uncleanly with code "+t.code+".")}}(this),this.socket.onerror=function(e){return function(t){return console.warn("[audio_player socket]: error: "+t),e.emit("error",t)}}(this)},o}(AV.EventEmitter),AV.Asset.fromWebSocket=function(e,t){var o;return o=new AV.WebSocketSource(e,t),new AV.Asset(o)},AV.Player.fromWebSocket=function(e,t){var o;return o=AV.Asset.fromWebSocket(e,t),new AV.Player(o)}}).call(this);
var CP_TEST_WITHOUT_VIDEO=!1,CP_JsPlayerInit=function(e,n){function t(){console.log("[js_player] audio_player listen weixin getNetworkType event, WeixinJSBridge: "+WeixinJSBridge),WeixinJSBridge.invoke("getNetworkType",{},function(e){console.log("[js_player] audio_player auto_start in iOS weixin, is playing: "+(null!=c)),c||i()})}function o(){s=new WSAvcPlayer(_,"webgl",1,35,l,h),l.on(h,function(e,n){if(!s)return void console.warn("gVideoPlayer is null NOW for the event: "+e);switch(e){case"connected":console.log("[js_player] video_player event connected: ",n?n:"none"),Cloudplay.sendCountly(countly_event_id_map.video_stream_connected),l.emit(CP_CONSTANT.EVENT_PLAYER_CONNECT);break;case"ready":console.log("[js_player] video_player event ready: ",n?n:"none"),Cloudplay.sendCountly(countly_event_id_map.video_first_frame_arrived),l.emit(CP_CONSTANT.EVENT_PLAYER_READY);break;case"closed":console.log("[js_player] video_player event closed: ",n?n:"none"),l.emit(CP_CONSTANT.EVENT_PLAYER_CLOSED);break;case"error":console.error("[js_player] video_player event error: ",n?n:"none"),Cloudplay.sendCountly(countly_event_id_map.video_stream_connect_fail),l.emit(CP_CONSTANT.EVENT_PLAYER_ERROR);break;default:console.log("[js_player] video_player unhandle event: ",e)}})}function i(){function e(e,n){return console.log("[js_player] audio_player: "+c+", event "+e+": ",n?n:"none"),c?"connected"==e?void Cloudplay.sendCountly(countly_event_id_map.audio_stream_connected):"error"==e?void Cloudplay.sendCountly(countly_event_id_map.audio_stream_connect_fail):void 0:void console.warn("[js_player] audio_player is null NOW for event: "+e)}console.log("[js_player] audio_player init and start"),c=initAudio(n.audioUrl),Cloudplay.sendCountly(countly_event_id_map.audio_stream_connecting),c.on("connected",function(n){e("connected",n)}),c.on("ready",function(n){e("ready",n),l.emit(CP_CONSTANT.EVENT_PLAYER_READY),CP_TEST_WITHOUT_VIDEO&&l.emit(CP_CONSTANT.EVENT_PLAYER_READY)}),c.on("format",function(n){e("format",n)}),c.on("closed",function(n){e("closed",n)}),c.on("error",function(n){e("error",n)}),c.play()}function r(){return _?(console.log("[js_player] start play: "+d),void(d||(d=!0,CP_TEST_WITHOUT_VIDEO||(Cloudplay.sendCountly(countly_event_id_map.video_stream_connecting),s.connect(n.videoUrl)),CP_UTILS.detectOS()!=CP_CONSTANT.OS_IPHONE&&CP_UTILS.detectOS()!=CP_CONSTANT.OS_IPAD?i():CP_UTILS.isIniOSWeixin()&&(console.log("[js_player] audio_player wait WeixinJSBridgeReady to be ready"),WeixinJSBridge?t():document.addEventListener("WeixinJSBridgeReady",function(){console.log("[js_player] audio_player got WeixinJSBridgeReady is ready"),t()}))))):void __hmLogError("[js_player] not inited yet",CP_ERROR_MAP.js_player_not_inited_yet,"_start")}function a(e){if(console.log("[js_player] stop play: "+_+", gIsPlaying: "+d+", reset flag: "+e+", gVideoPlayer: "+s+", gAudioPlayer: "+c),_&&d){if(d=!1,s){try{l.off(h),s.stopStream(),s.disconnect()}catch(n){__hmLogWarn("[js_player] stop video_player got exception: "+n.toString(),CP_ERROR_MAP.js_player_stop_video_failed,n.toString())}s=null}if(c){try{c.stop(),c.off("connected"),c.off("ready"),c.off("format"),c.off("closed"),c.off("error")}catch(n){__hmLogWarn("[js_player] stop audio_player got exception: "+n.toString(),CP_ERROR_MAP.js_player_stop_audio_failed,n.toString())}c=null}e&&y.removeChild(_)}}console.info("[js_player] init start: "+(n?JSON.stringify(n):"null"));var l=e,_=null,d=!1,s=null,c=null;if(!n)return void __hmLogError("[js_player] init failed",CP_ERROR_MAP.js_player_inited_failed,"options is null");if(!(n.hasOwnProperty("containerId")&&n.hasOwnProperty("width")&&n.hasOwnProperty("height")&&n.hasOwnProperty("videoUrl")&&n.hasOwnProperty("audioUrl")&&n.hasOwnProperty("isPortraitGame")))return void __hmLogError("[js_player] init failed",CP_ERROR_MAP.js_player_inited_failed,"options key missing");var y=document.getElementById(n.containerId);if(!y)return void __hmLogError("[js_player] init failed",CP_ERROR_MAP.js_player_inited_failed,"container not found: "+n.containerId);if(_=document.createElement("canvas"),_.id="player_canvas"+Math.floor((new Date).getTime()+1e8*Math.random()),_.width=n.width,_.height=n.height,!n.hasOwnProperty("customPosition")||!n.customPosition){var p=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,u=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;$("#"+n.containerId).css({transform:"rotate(90deg) translate("+(u-p)/2+"px,"+(u-p)/2+"px)",width:u+"px",height:p+"px","transform-origin":"center center","-webkit-transform-origin":"center center"});var g=u,f=p;g/f<n.width/n.height?f=g/(n.width/n.height):g=f*(n.width/n.height),_.style.position="absolute",_.style.left=(u-g)/2+"px",n.isPortraitGame?_.style.top=(p-f)/2+"px":_.style.top="40px",_.style.width=g+"px",_.style.height=f+"px",console.info("[js_player] init "+(n.isPortraitGame?"portrait":"landscape")+" game, got window width:"+p+", window height: "+u+", canvas left: "+_.style.left+", top: "+_.style.top+", width: "+g+", height: "+f)}y.appendChild(_);var h="video_player_"+(new Date).getTime();return CP_TEST_WITHOUT_VIDEO||o(),l.once(CP_CONSTANT.EVENT_TOUCH_START,function(){console.info("[js_player] catch the cp.touch_start event, is audio_player playing: "+(null!=c)),c||i()}),console.info("[js_player] init SUCCEED"),{isPlaying:function(){return _?d:(__hmLogError("[js_player] not inited yet",CP_ERROR_MAP.js_player_not_inited_yet,"isPlaying"),!1)},id:function(){return _?_.id:(__hmLogError("[js_player] not inited yet",CP_ERROR_MAP.js_player_not_inited_yet,"isPlaying"),"player_not_inited")},getCanvasInfo:function(){return _},start:r,stop:a}};